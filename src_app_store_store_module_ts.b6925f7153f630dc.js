"use strict";(self.webpackChunkngx_trebol_frontend=self.webpackChunkngx_trebol_frontend||[]).push([["src_app_store_store_module_ts"],{4552:(Mo,_e,s)=>{s.r(_e),s.d(_e,{StoreModule:()=>Ro});var U=s(2528),$e=s(4808),E=s(4139),O=s(3910),g=s(6942),d=s(9095),p=s(2692),Fe=s(6276),N=s(5921),$=s(2218),te=s(7283),v=s(5714),k=s(4719),e=s(3184);let z=(()=>{class n{constructor(t,o,r,a){this.loginApiService=t,this.guestApiService=o,this.registerApiService=r,this.sessionService=a,this.authCancelationSource=new $.xQ,this.authCancelation$=this.authCancelationSource.asObservable()}cancelAuthentication(){this.authCancelationSource.next()}guestLogin(t){return this.sessionService.userHasActiveSession$.pipe((0,O.q)(1),(0,d.w)(o=>o?(0,E.of)(""):this.guestApiService.guestLogin(t).pipe((0,p.b)(r=>this.sessionService.saveToken(r)),(0,d.w)(r=>(0,te.z)(this.sessionService.validateSession(),(0,E.of)(r))))))}register(t){return this.sessionService.userHasActiveSession$.pipe((0,O.q)(1),(0,d.w)(()=>this.registerApiService.register(t)),(0,d.w)(()=>this.loginApiService.login({name:t.name,password:t.password})),(0,p.b)(o=>this.sessionService.saveToken(o)),(0,d.w)(o=>(0,te.z)(this.sessionService.validateSession(),(0,E.of)(o))))}login(t){return this.sessionService.userHasActiveSession$.pipe((0,O.q)(1),(0,d.w)(o=>o?(0,E.of)(""):this.loginApiService.login(t).pipe((0,p.b)(r=>this.sessionService.saveToken(r)),(0,d.w)(r=>(0,te.z)(this.sessionService.validateSession(),(0,E.of)(r))))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.P.login),e.LFG(v.P.guest),e.LFG(v.P.register),e.LFG(k.m))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=s(587),pe=s(6587),h=s(5758),y=s(4505);let M=(()=>{class n{constructor(){this.cartDetailsSource=new y.X([]),this.checkoutRequestSource=new y.X(null),this.cartDetails$=this.cartDetailsSource.asObservable(),this.checkoutRequest$=this.checkoutRequestSource.asObservable(),this.cartItemCount$=this.calculateItemCount(),this.cartNetValue$=this.calculateNetValue()}reset(){this.cartDetailsSource.next([])}addProductToCart(t){const o=this.findSellDetailsIndexByProductBarcode(t.barcode);-1!==o?this.cartDetailsSource.value[o].units++:this.cartDetailsSource.value.push({product:t,units:1}),this.cartDetailsSource.next(this.cartDetailsSource.value)}increaseProductUnits(t){-1!==t&&(this.cartDetailsSource.value[t].units++,this.cartDetailsSource.next(this.cartDetailsSource.value))}decreaseProductUnits(t){if(-1!==t){const o=this.cartDetailsSource.value[t];o.units>1&&(o.units--,this.cartDetailsSource.next(this.cartDetailsSource.value))}}removeProductFromCart(t){-1!==t&&(this.cartDetailsSource.value.splice(t,1),this.cartDetailsSource.next(this.cartDetailsSource.value))}updateCheckoutRequest(t){this.checkoutRequestSource.next(t)}findSellDetailsIndexByProductBarcode(t){return this.cartDetailsSource.value.findIndex(o=>{var r;return(null===(r=o.product)||void 0===r?void 0:r.barcode)===t})}calculateItemCount(){return this.cartDetails$.pipe((0,g.U)(t=>0===t.length?0:t.map(o=>o.units).reduce((o,r)=>o+r)))}calculateNetValue(){return this.cartDetails$.pipe((0,g.U)(t=>0===t.length?0:t.map(o=>o.product.price*o.units).reduce((o,r)=>o+r)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ne=s(4018),T=s(7317),_=s(6362);let Ze=(()=>{class n{constructor(t,o,r){this.authenticationService=t,this.dialog=o,this.cartService=r,this.submittingSource=new $.xQ,this.submitting$=this.submittingSource.asObservable()}get person(){return this.formGroup.get("person")}ngOnInit(){this.formGroup=new c.cw({person:new c.NI(null,c.kI.required)})}ngOnDestroy(){var t;null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.submittingSource.complete()}onSubmit(){var t;this.formGroup.valid&&(this.submittingSource.next(!0),null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.actionSubscription=this.authenticationService.guestLogin(this.person.value).pipe((0,N.R)(this.authenticationService.authCancelation$),(0,p.b)(()=>{this.cartService.updateCheckoutRequest({customer:this.person.value}),this.dialog.close()},o=>(this.submittingSource.next(!1),(0,pe._)(o)))).subscribe())}onCancel(){this.authenticationService.cancelAuthentication(),this.dialog.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z),e.Y36(h.so),e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-guest-login-form-dialog"]],decls:16,vars:4,consts:function(){let i,t,o,r,a;return i=$localize`:Title of dialog prompt to indicate personal info for a guest, temporary login:Continue as guest`,t=$localize`:Label to instruct user to input billing information:Please provide your billing information.`,o=$localize`:Label to hint user that their billing information is solely used to secure their transaction:We request this for security purposes, to keep your transaction safe and secure.`,r=$localize`:confirm|Label for action button to accept and proceed:Confirm`,a=$localize`:cancel|Label for action button to cancel and/or stop an operation:Cancel`,[["mat-dialog-title",""],i,t,o,[3,"formGroup","ngSubmit"],["formControlName","person"],[1,"actions"],["mat-button","","mat-raised-button","","type","submit","color","primary",3,"disabled"],r,["mat-button","","mat-raised-button","","type","button",3,"click"],a]},template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"p"),e.SDv(3,2),e.qZA(),e.TgZ(4,"p"),e.SDv(5,3),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e._UZ(7,"app-person-form",5),e.TgZ(8,"div",6)(9,"button",7),e.ALo(10,"async"),e.TgZ(11,"span"),e.SDv(12,8),e.qZA()(),e.TgZ(13,"button",9),e.NdJ("click",function(){return o.onCancel()}),e.TgZ(14,"span"),e.SDv(15,10),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",o.formGroup),e.xp6(3),e.Q6J("disabled",e.lcZ(10,2,o.submitting$)))},directives:[h.uh,c._Y,c.JL,c.sg,ne.c,c.JJ,c.u,T.lW],pipes:[_.Ov],styles:["@media (min-width: 640px){.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around}}\n/*# sourceMappingURL=store-guest-login-form-dialog.component.css.map*/"]}),n})();var L=(()=>{return(n=L||(L={}))[n.login=1]="login",n[n.register=2]="register",n[n.guest=3]="guest",L;var n})(),S=s(4382);let Ue=(()=>{class n{constructor(t){this.dialog=t}onClickOption(t){t in L?this.dialog.close(L[t]):this.dialog.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-guest-prompt-dialog"]],decls:24,vars:0,consts:function(){let i,t,o,r,a,l,u;return i=$localize`:Title of dialog prompt to indicate users that some sort of ID is required:Identification is Required`,t=$localize`:Label to hint user that they must log in, register or indicate some personal info to proceed:To review your cart, you need to either log in to your account, register anew (it's free) or start a guest session by giving your billing details.`,o=$localize`:Label to instruct user that they choose one option out of three:Please, choose one of the following three:`,r=$localize`:log in|Label for action button to prompt login:Log in`,a=$localize`:register|Label for action button to prompt registration:Register`,l=$localize`:continue as guest|Label for action button to prompt a guest, temporary login:Continue as guest`,u=$localize`:Label to hint user that they can click away from current dialog to close it:You can close this window clicking away from it`,[["mat-dialog-title",""],i,t,o,[1,"actions"],["mat-button","","mat-raised-button","","type","button",3,"click"],r,a,l,[1,"hint"],u]},template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"p"),e.SDv(3,2),e.qZA(),e.TgZ(4,"p"),e.SDv(5,3),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return o.onClickOption("login")}),e.TgZ(8,"span"),e.SDv(9,6),e.qZA(),e.TgZ(10,"mat-icon"),e._uU(11,"verified_user"),e.qZA()(),e.TgZ(12,"button",5),e.NdJ("click",function(){return o.onClickOption("register")}),e.TgZ(13,"span"),e.SDv(14,7),e.qZA(),e.TgZ(15,"mat-icon"),e._uU(16,"person_add"),e.qZA()(),e.TgZ(17,"button",5),e.NdJ("click",function(){return o.onClickOption("guest")}),e.TgZ(18,"span"),e.SDv(19,8),e.qZA(),e.TgZ(20,"mat-icon"),e._uU(21,"remove_moderator"),e.qZA()()(),e.TgZ(22,"p",9),e.SDv(23,10),e.qZA())},directives:[h.uh,T.lW,S.Hw],styles:["[_nghost-%COMP%]{text-align:center}.hint[_ngcontent-%COMP%]{color:gray;margin:2rem 0 0}@media (max-width: 640px){.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around}}\n/*# sourceMappingURL=store-guest-prompt-dialog.component.css.map*/"]}),n})();var A=s(170),ue=s(7418),de=s(4337);function ke(n){const i=n.get("pass1"),t=n.get("pass2");return i.pristine||t.pristine||i.value===t.value?null:{match:!0}}var He=s(5160),F=s(7687),x=s(4770),oe=s(3365);function qe(n,i){1&n&&e._UZ(0,"app-centered-mat-spinner")}let ge=(()=>{class n{constructor(t,o,r,a,l,u){this.authenticationService=t,this.profileService=o,this.formBuilder=r,this.dialog=a,this.snackBarService=l,this.entityFormGroupService=u,this.registeringSource=new y.X(!1),this.registering$=this.registeringSource.asObservable(),this.formGroup=this.formBuilder.group({name:["",c.kI.required],pass1:["",c.kI.required],pass2:["",c.kI.required],person:[null,c.kI.required]},{validators:ke})}get name(){return this.formGroup.get("name")}get pass1(){return this.formGroup.get("pass1")}get pass2(){return this.formGroup.get("pass2")}get person(){return this.formGroup.get("person")}ngOnDestroy(){var t;null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.registeringSource.complete()}onSubmit(){var t;if(this.formGroup.valid){this.registeringSource.next(!0);const o={name:this.name.value,password:this.pass1.value,profile:this.person.value};null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.actionSubscription=this.authenticationService.register(o).pipe((0,N.R)(this.authenticationService.authCancelation$),(0,p.b)(()=>{const r=$localize`:Message of success after registration:Registration was succesful. Please remember to keep your password safe, and enjoy shopping!`;this.snackBarService.open(r,A.ec),this.dialog.close(!0)}),(0,ue.K)(r=>{const a=$localize`:Message of error during registration, hint user to try again:There was an error during registration. Please try again.`;return this.snackBarService.open(a,A.ec),this.registeringSource.next(!1),(0,pe._)(r)}),(0,d.w)(()=>this.profileService.getUserProfile())).subscribe()}}onCancel(){this.authenticationService.cancelAuthentication(),this.dialog.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z),e.Y36(de.H),e.Y36(c.qu),e.Y36(h.so),e.Y36(U.ux),e.Y36(He.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-registration-form-dialog"]],decls:21,vars:8,consts:function(){let i,t,o,r,a,l;return i=$localize`:Title of dialog prompt for registering a new user account:New User Account`,t=$localize`:new user name|Name of field for username to register with:User name`,o=$localize`:new user password|Name of field for password to register with:Password`,r=$localize`:Name of field for password confirmation by repetition:Repeat password`,a=$localize`:confirm|Label for action button to accept and proceed:Confirm`,l=$localize`:cancel|Label for action button to cancel and/or stop an operation:Cancel`,[["mat-dialog-title",""],i,[4,"ngIf"],[3,"hidden"],[3,"formGroup","ngSubmit"],[1,"name"],["matInput","","formControlName","name","placeholder",t],[1,"pass1"],["matInput","","formControlName","pass1","type","password","placeholder",o],[1,"pass2"],["matInput","","formControlName","pass2","type","password","placeholder",r],["formControlName","person"],[1,"actions"],["mat-button","","mat-raised-button","","type","submit","color","primary",3,"disabled"],a,["mat-button","","mat-raised-button","","type","button",3,"click"],l]},template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,qe,1,0,"app-centered-mat-spinner",2),e.ALo(3,"async"),e.TgZ(4,"div",3),e.ALo(5,"async"),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(7,"mat-form-field",5),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"mat-form-field",9),e._UZ(12,"input",10),e.qZA(),e._UZ(13,"app-person-form",11),e.TgZ(14,"div",12)(15,"button",13)(16,"span"),e.SDv(17,14),e.qZA()(),e.TgZ(18,"button",15),e.NdJ("click",function(){return o.onCancel()}),e.TgZ(19,"span"),e.SDv(20,16),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,o.registering$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,6,o.registering$)),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(9),e.Q6J("disabled",o.formGroup.invalid))},directives:[h.uh,_.O5,F.Z,c._Y,c.JL,c.sg,x.KE,oe.Nt,c.Fj,c.JJ,c.u,ne.c,T.lW],pipes:[_.Ov],styles:['form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}@media (min-width: 640px){.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}}@media (min-width: 641px){form[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);grid-template-areas:"name person person" "pass1 person person" "pass2 person person" "actions actions actions"}.name[_ngcontent-%COMP%]{grid-area:name}.pass1[_ngcontent-%COMP%]{grid-area:pass1}.pass2[_ngcontent-%COMP%]{grid-area:pass2}app-person-form[_ngcontent-%COMP%]{grid-area:person}.actions[_ngcontent-%COMP%]{grid-area:actions;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around}}\n/*# sourceMappingURL=store-registration-form-dialog.component.css.map*/']}),n})();var ze=s(3267);const Be=["registerButton"];function Xe(n,i){1&n&&e._UZ(0,"app-centered-mat-spinner")}let me=(()=>{class n{constructor(t,o,r,a){this.dialog=t,this.formBuilder=o,this.snackBarService=r,this.authenticationService=a,this.loggingInSource=new $.xQ,this.hidePasswordSource=new y.X(!0),this.loggingIn$=this.loggingInSource.asObservable()}get username(){return this.formGroup.get("username")}get password(){return this.formGroup.get("password")}ngOnInit(){this.formGroup=this.formBuilder.group({username:["",c.kI.required],password:["",c.kI.required]}),this.togglePasswordIcon$=this.hidePasswordSource.asObservable().pipe((0,g.U)(t=>t?"visibility":"visibility_off")),this.passwordInputType$=this.hidePasswordSource.asObservable().pipe((0,g.U)(t=>t?"password":"text")),this.registerButton.sourceDialogRef=this.dialog,this.registerButton.targetDialogComponent=ge,this.registerButton.targetDialogConfig={width:"40rem"}}ngOnDestroy(){var t;null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.loggingInSource.complete(),this.hidePasswordSource.complete()}showPassword(){this.hidePasswordSource.next(!1)}hidePassword(){this.hidePasswordSource.next(!0)}onSubmit(){var t;if(this.formGroup.valid){this.loggingInSource.next(!0);const o={name:this.username.value,password:this.password.value};null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.actionSubscription=this.authenticationService.login(o).pipe((0,N.R)(this.authenticationService.authCancelation$),(0,p.b)(()=>{this.dialog.close();const r=$localize`:Message of success after login:You have logged in`;this.snackBarService.open(r,A.ec)},r=>{if(403===r.status){const a=$localize`:Message of error due to bad/erroneous credentials:Your credentials were rejected`;this.snackBarService.open(a,A.ec)}else this.snackBarService.open(A.cA,A.ec);this.loggingInSource.next(!1)})).subscribe()}}onCancel(){this.authenticationService.cancelAuthentication(),this.dialog.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.so),e.Y36(c.qu),e.Y36(U.ux),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-login-form-dialog"]],viewQuery:function(t,o){if(1&t&&e.Gf(Be,7),2&t){let r;e.iGM(r=e.CRH())&&(o.registerButton=r.first)}},decls:29,vars:15,consts:function(){let i,t,o,r,a,l,u,C;return i=$localize`:Title of dialog prompt for logging in:Log In`,t=$localize`:login username|Name of field for username to log in with:User name`,o=$localize`:login password|Name of field for password to log in with:Password`,r=$localize`:hold to show password|Label for action button to show password while held down:Hold to peek...`,a=$localize`:confirm|Label for action button to accept and proceed:Confirm`,l=$localize`:clean up|Label for action button to clear values in form:Clean up`,u=$localize`:cancel|Label for action button to cancel and/or stop an operation:Cancel`,C=$localize`:Label to hint user to register if they do not have an account:Don't have an account? Register here`,[["mat-dialog-title",""],i,[4,"ngIf"],[3,"hidden"],[3,"formGroup","ngSubmit"],[1,"username"],["matInput","","formControlName","username","placeholder",t],[1,"password"],["matInput","","formControlName","password","placeholder",o,3,"type"],["matSuffix","","mat-icon-button","","type","button","aria-label",r,3,"mousedown","mouseup","mouseleave"],[1,"actions"],["mat-button","","mat-raised-button","","type","submit","color","primary",3,"disabled"],a,["mat-button","","mat-raised-button","","type","reset",3,"disabled"],l,["mat-button","","mat-raised-button","","type","button","color","warn",3,"click"],u,[1,"other","actions"],["label",C],["registerButton",""]]},template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Xe,1,0,"app-centered-mat-spinner",2),e.ALo(3,"async"),e.TgZ(4,"div",3),e.ALo(5,"async"),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(7,"mat-form-field",5),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.ALo(11,"async"),e.TgZ(12,"button",9),e.NdJ("mousedown",function(){return o.showPassword()})("mouseup",function(){return o.hidePassword()})("mouseleave",function(){return o.hidePassword()}),e.TgZ(13,"mat-icon"),e._uU(14),e.ALo(15,"async"),e.qZA()()(),e.TgZ(16,"div",10)(17,"button",11)(18,"span"),e.SDv(19,12),e.qZA()(),e.TgZ(20,"button",13)(21,"span"),e.SDv(22,14),e.qZA()(),e.TgZ(23,"button",15),e.NdJ("click",function(){return o.onCancel()}),e.TgZ(24,"span"),e.SDv(25,16),e.qZA()()()(),e.TgZ(26,"div",17),e._UZ(27,"app-dialog-switcher-button",18,19),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,7,o.loggingIn$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,9,o.loggingIn$)),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(4),e.Q6J("type",e.lcZ(11,11,o.passwordInputType$)),e.xp6(4),e.Oqu(e.lcZ(15,13,o.togglePasswordIcon$)),e.xp6(3),e.Q6J("disabled",o.formGroup.invalid),e.xp6(3),e.Q6J("disabled",o.formGroup.pristine))},directives:[h.uh,_.O5,F.Z,c._Y,c.JL,c.sg,x.KE,oe.Nt,c.Fj,c.JJ,c.u,T.lW,x.R9,S.Hw,ze.W],pipes:[_.Ov],styles:["[_nghost-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{margin:0;color:#000;vertical-align:middle;font-size:24pt}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;margin:0;padding:.5rem 0 0}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}@media (min-width: 641px){form[_ngcontent-%COMP%]{padding:1rem}}.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:.5rem;gap:.5rem;justify-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around;justify-items:stretch}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto}}\n/*# sourceMappingURL=store-login-form-dialog.component.css.map*/"]}),n})();var f=s(4558);let Se=(()=>{class n{constructor(t,o,r,a,l){this.cartService=t,this.appService=o,this.authenticationService=r,this.dialogService=a,this.router=l,this.exitUrl="/store"}canActivate(t,o){return this.cartService.cartDetails$.pipe((0,O.q)(1),(0,g.U)(r=>r.length>0),(0,d.w)(r=>r?this.requireAuthentication():(0,E.of)(!1)),(0,p.b)(r=>{r||this.router.navigateByUrl(this.exitUrl)}))}requireAuthentication(){return this.appService.userHasActiveSession$.pipe((0,O.q)(1),(0,d.w)(t=>t?(0,E.of)(!0):this.promptGuestUserChoices().pipe((0,d.w)(o=>o?(this.followGuestUserChoice(o),this.appService.userHasActiveSession$.pipe((0,Fe.T)(1),(0,O.q)(1),(0,N.R)(this.authenticationService.authCancelation$))):(0,E.of)(!1)))))}promptGuestUserChoices(){return this.dialogService.open(Ue).afterClosed()}followGuestUserChoice(t){switch(t){case L.login:return void this.promptLoginForm();case L.register:return void this.promptRegistrationForm();case L.guest:return void this.promptGuestShippingForm()}}promptLoginForm(){return this.dialogService.open(me,{width:"24rem"})}promptRegistrationForm(){return this.dialogService.open(ge,{width:"40rem",height:"25rem"})}promptGuestShippingForm(){return this.dialogService.open(Ze,{width:"40rem",height:"25rem"})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(M),e.LFG(k.m),e.LFG(z),e.LFG(h.uw),e.LFG(f.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var B=s(9672),X=s(4858),Q=s(4661);let Y=(()=>{class n{constructor(t,o,r,a){this.productListApiService=t,this.productsApiService=o,this.route=r,this.router=a,this.loadingSource=new y.X(!1),this.listsPageSource=new B.t(1),this.listsPage$=this.listsPageSource.asObservable(),this.loading$=this.loadingSource.asObservable(),this.listIndex=0}reloadItems(){return this.loadingSource.next(!0),this.productListApiService.fetchPage(this.listIndex).pipe((0,p.b)(t=>this.listsPageSource.next(t)),(0,Q.x)(()=>this.loadingSource.next(!1)))}navigateToProductDetails(t){return(0,X.D)(this.router.navigate([],{relativeTo:this.route,queryParams:{viewingProduct:t},queryParamsHandling:"merge"}))}fetchProductDetails(t){return this.productsApiService.fetchExisting({barcode:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.P.dataProductLists),e.LFG(v.P.dataProducts),e.LFG(f.gz),e.LFG(f.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var ie=s(4476),he=s(4128),Z=s(6484),re=s(5939),Qe=s(4390),H=s(5722),ae=s(1588);function Ye(n,i){1&n&&e.Hsn(0)}const Je=["*"];let fe=(()=>{class n{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),Te=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),Ve=0;const Oe=new e.OlP("STEPPER_GLOBAL_OPTIONS");let se=(()=>{class n{constructor(t,o){this._stepper=t,this.interacted=!1,this.interactedStream=new e.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=o||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(t){this._editable=(0,Z.Ig)(t)}get optional(){return this._optional}set optional(t){this._optional=(0,Z.Ig)(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=(0,Z.Ig)(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=(0,Z.Ig)(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var t;return null!==(t=this._stepperOptions.showError)&&void 0!==t?t:null!=this._customError}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>J)),e.Y36(Oe,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(t,o,r){if(1&t&&e.Suo(r,Te,5),2&t){let a;e.iGM(a=e.CRH())&&(o.stepLabel=a.first)}},viewQuery:function(t,o){if(1&t&&e.Gf(e.Rgc,7),2&t){let r;e.iGM(r=e.CRH())&&(o.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[e.TTD],ngContentSelectors:Je,decls:1,vars:0,template:function(t,o){1&t&&(e.F$t(),e.YNc(0,Ye,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),J=(()=>{class n{constructor(t,o,r,a){this._dir=t,this._changeDetectorRef=o,this._elementRef=r,this._destroyed=new $.xQ,this.steps=new e.n_E,this._sortedHeaders=new e.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new e.vpe,this._orientation="horizontal",this._groupId=Ve++}get linear(){return this._linear}set linear(t){this._linear=(0,Z.Ig)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){var o;const r=(0,Z.su)(t);this.steps&&this._steps?(this._isValidIndex(r),null===(o=this.selected)||void 0===o||o._markAsInteracted(),this._selectedIndex!==r&&!this._anyControlsInvalidOrPending(r)&&(r>=this._selectedIndex||this.steps.toArray()[r].editable)&&this._updateSelectedItemIndex(r)):this._selectedIndex=r}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}ngAfterContentInit(){this._steps.changes.pipe((0,H.O)(this._steps),(0,N.R)(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(o=>o._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,H.O)(this._stepHeader),(0,N.R)(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((o,r)=>o._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new he.Em(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,E.of)()).pipe((0,H.O)(this._layoutDirection()),(0,N.R)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const o=t-this._selectedIndex;return o<0?"rtl"===this._layoutDirection()?"next":"previous":o>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,o="number"){const r=this.steps.toArray()[t],a=this._isCurrentStep(t);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,a):this._getGuidelineLogic(r,a,o)}_getDefaultIndicatorLogic(t,o){return t._showError()&&t.hasError&&!o?"error":!t.completed||o?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,o,r="number"){return t._showError()&&t.hasError&&!o?"error":t.completed&&!o?"done":t.completed&&o?r:t.editable&&o?"edit":r}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const o=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:o[t],previouslySelectedStep:o[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const o=(0,re.Vb)(t),r=t.keyCode,a=this._keyManager;null==a.activeItemIndex||o||r!==re.L_&&r!==re.K5?a.onKeydown(t):(this.selectedIndex=a.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(o=>{const r=o.stepControl;return(r?r.invalid||r.pending||!o.interacted:!o.completed)&&!o.optional&&!o._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,o=(0,Qe.ht)();return t===o||t.contains(o)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.Is,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(_.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,se,5),e.Suo(r,fe,5)),2&t){let a;e.iGM(a=e.CRH())&&(o._steps=a),e.iGM(a=e.CRH())&&(o._stepHeader=a)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[ae.vT]]}),n})();var D=s(1130),Ke=s(6957),We=s(3298),m=s(1631);function et(n,i){if(1&n&&e.GkF(0,8),2&n){const t=e.oxw();e.Q6J("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function tt(n,i){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t._getDefaultTextForState(t.state))}}function nt(n,i){if(1&n&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t._intl.completedLabel)}}function ot(n,i){if(1&n&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t._intl.editableLabel)}}function it(n,i){if(1&n&&(e.TgZ(0,"mat-icon",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t._getDefaultTextForState(t.state))}}function rt(n,i){if(1&n&&(e.ynx(0,9),e.YNc(1,tt,2,1,"span",10),e.YNc(2,nt,2,1,"span",11),e.YNc(3,ot,2,1,"span",11),e.YNc(4,it,2,1,"mat-icon",12),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.state),e.xp6(1),e.Q6J("ngSwitchCase","number"),e.xp6(1),e.Q6J("ngIf","done"===t.state),e.xp6(1),e.Q6J("ngIf","edit"===t.state)}}function at(n,i){if(1&n&&(e.TgZ(0,"div",15),e.GkF(1,16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t._templateLabel().template)}}function st(n,i){if(1&n&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}function ct(n,i){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t._intl.optionalLabel)}}function lt(n,i){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function _t(n,i){}function pt(n,i){if(1&n&&(e.Hsn(0),e.YNc(1,_t,0,0,"ng-template",0)),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cdkPortalOutlet",t._portal)}}const ut=["*"];function dt(n,i){1&n&&e._UZ(0,"div",9)}const Ce=function(n,i){return{step:n,i}};function gt(n,i){if(1&n&&(e.ynx(0),e.GkF(1,7),e.YNc(2,dt,1,0,"div",8),e.BQk()),2&n){const t=i.$implicit,o=i.index,r=i.last;e.oxw(2);const a=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(3,Ce,t,o)),e.xp6(1),e.Q6J("ngIf",!r)}}function mt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("@horizontalStepTransition.done",function(r){return e.CHM(t),e.oxw(2)._animationDone.next(r)}),e.GkF(1,11),e.qZA()}if(2&n){const t=i.$implicit,o=i.index,r=e.oxw(2);e.Q6J("@horizontalStepTransition",r._getAnimationDirection(o))("id",r._getStepContentId(o)),e.uIk("aria-labelledby",r._getStepLabelId(o))("aria-expanded",r.selectedIndex===o),e.xp6(1),e.Q6J("ngTemplateOutlet",t.content)}}function St(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",3),e.YNc(2,gt,3,6,"ng-container",4),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,mt,2,5,"div",6),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.steps),e.xp6(2),e.Q6J("ngForOf",t.steps)}}function ht(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.GkF(1,7),e.TgZ(2,"div",14)(3,"div",15),e.NdJ("@verticalStepTransition.done",function(r){return e.CHM(t),e.oxw(2)._animationDone.next(r)}),e.TgZ(4,"div",16),e.GkF(5,11),e.qZA()()()()}if(2&n){const t=i.$implicit,o=i.index,r=i.last,a=e.oxw(2),l=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.WLB(9,Ce,t,o)),e.xp6(1),e.ekj("mat-stepper-vertical-line",!r),e.xp6(1),e.Q6J("@verticalStepTransition",a._getAnimationDirection(o))("id",a._getStepContentId(o)),e.uIk("aria-labelledby",a._getStepLabelId(o))("aria-expanded",a.selectedIndex===o),e.xp6(2),e.Q6J("ngTemplateOutlet",t.content)}}function ft(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ht,6,12,"div",12),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.steps)}}function Tt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-step-header",17),e.NdJ("click",function(){return e.CHM(t).step.select()})("keydown",function(r){return e.CHM(t),e.oxw()._onKeydown(r)}),e.qZA()}if(2&n){const t=i.step,o=i.i,r=e.oxw();e.ekj("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),e.Q6J("tabIndex",r._getFocusIndex()===o?0:-1)("id",r._getStepLabelId(o))("index",o)("state",r._getIndicatorType(o,t.state))("label",t.stepLabel||t.label)("selected",r.selectedIndex===o)("active",r._stepIsNavigable(o,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(o,t))("color",t.color||r.color),e.uIk("aria-posinset",o+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(o))("aria-selected",r.selectedIndex==o)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(o,t)||null)}}let V=(()=>{class n extends Te{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matStepLabel",""]],features:[e.qOj]}),n})(),j=(()=>{class n{constructor(){this.changes=new $.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ct={provide:j,deps:[[new e.FiY,new e.tp0,j]],useFactory:function Ot(n){return n||new j}},Et=(0,D.pj)(class extends fe{constructor(i){super(i)}},"primary");let Ee=(()=>{class n extends Et{constructor(t,o,r,a){super(r),this._intl=t,this._focusMonitor=o,this._intlSubscription=t.changes.subscribe(()=>a.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._elementRef,t,o):this._elementRef.nativeElement.focus(o)}_stringLabel(){return this.label instanceof V?null:this.label}_templateLabel(){return this.label instanceof V?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j),e.Y36(he.tE),e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[e.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,o){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div")(2,"div",1),e.YNc(3,et,1,2,"ng-container",2),e.YNc(4,rt,5,4,"ng-container",3),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,at,2,1,"div",5),e.YNc(7,st,2,1,"div",5),e.YNc(8,ct,2,1,"div",6),e.YNc(9,lt,2,1,"div",7),e.qZA()),2&t&&(e.Q6J("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disableRipple),e.xp6(1),e.Gre("mat-step-icon-state-",o.state," mat-step-icon"),e.ekj("mat-step-icon-selected",o.selected),e.xp6(1),e.Q6J("ngSwitch",!(!o.iconOverrides||!o.iconOverrides[o.state])),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.ekj("mat-step-label-active",o.active)("mat-step-label-selected",o.selected)("mat-step-label-error","error"==o.state),e.xp6(1),e.Q6J("ngIf",o._templateLabel()),e.xp6(1),e.Q6J("ngIf",o._stringLabel()),e.xp6(1),e.Q6J("ngIf",o.optional&&"error"!=o.state),e.xp6(1),e.Q6J("ngIf","error"==o.state))},directives:[S.Hw,D.wG,_.RF,_.n9,_.tP,_.ED,_.O5],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header.cdk-keyboard-focused,.cdk-high-contrast-active .mat-step-header.cdk-program-focused{outline:solid 3px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),n})();const Re={horizontalStepTransition:(0,m.X$)("horizontalStepTransition",[(0,m.SB)("previous",(0,m.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,m.SB)("current",(0,m.oB)({transform:"none",visibility:"inherit"})),(0,m.SB)("next",(0,m.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,m.eR)("* => *",(0,m.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,m.X$)("verticalStepTransition",[(0,m.SB)("previous",(0,m.oB)({height:"0px",visibility:"hidden"})),(0,m.SB)("next",(0,m.oB)({height:"0px",visibility:"hidden"})),(0,m.SB)("current",(0,m.oB)({height:"*",visibility:"inherit"})),(0,m.eR)("* <=> current",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let Rt=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),Me=(()=>{class n{constructor(t){this._template=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),Pe=(()=>{class n extends se{constructor(t,o,r,a){super(t,a),this._errorStateMatcher=o,this._viewContainerRef=r,this._isSelected=Ke.w.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,d.w)(()=>this._stepper.selectionChange.pipe((0,g.U)(t=>t.selectedStep===this),(0,H.O)(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new ie.UE(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,o){return this._errorStateMatcher.isErrorState(t,o)||!!(t&&t.invalid&&this.interacted)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>ve)),e.Y36(D.rD,4),e.Y36(e.s_b),e.Y36(Oe,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-step"]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,V,5),e.Suo(r,Me,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.stepLabel=a.first),e.iGM(a=e.CRH())&&(o._lazyContent=a.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[e._Bn([{provide:D.rD,useExisting:n},{provide:se,useExisting:n}]),e.qOj],ngContentSelectors:ut,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,o){1&t&&(e.F$t(),e.YNc(0,pt,2,1,"ng-template"))},directives:[ie.Pl],encapsulation:2,changeDetection:0}),n})(),Ne=(()=>{class n extends J{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})(),Mt=(()=>{class n extends Ne{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-horizontal-stepper"]],features:[e.qOj]}),n})(),Pt=(()=>{class n extends Ne{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-vertical-stepper"]],features:[e.qOj]}),n})(),ve=(()=>{class n extends J{constructor(t,o,r,a){super(t,o,r,a),this.steps=new e.n_E,this.animationDone=new e.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new $.xQ;const l=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===l?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:o})=>this._iconOverrides[t]=o),this.steps.changes.pipe((0,N.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,We.x)((t,o)=>t.fromState===o.fromState&&t.toState===o.toState),(0,N.R)(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,o){return o.completed||this.selectedIndex===t||!this.linear}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.Is,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(_.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,Pe,5),e.Suo(r,Rt,5)),2&t){let a;e.iGM(a=e.CRH())&&(o._steps=a),e.iGM(a=e.CRH())&&(o._icons=a)}},viewQuery:function(t,o){if(1&t&&e.Gf(Ee,5),2&t){let r;e.iGM(r=e.CRH())&&(o._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(t,o){2&t&&(e.uIk("aria-orientation",o.orientation),e.ekj("mat-stepper-horizontal","horizontal"===o.orientation)("mat-stepper-vertical","vertical"===o.orientation)("mat-stepper-label-position-end","horizontal"===o.orientation&&"end"==o.labelPosition)("mat-stepper-label-position-bottom","horizontal"===o.orientation&&"bottom"==o.labelPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[e._Bn([{provide:J,useExisting:n},{provide:Mt,useExisting:n},{provide:Pt,useExisting:n}]),e.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(t,o){1&t&&(e.ynx(0,0),e.YNc(1,St,5,2,"ng-container",1),e.YNc(2,ft,2,1,"ng-container",1),e.BQk(),e.YNc(3,Tt,1,23,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ngSwitch",o.orientation),e.xp6(1),e.Q6J("ngSwitchCase","horizontal"),e.xp6(1),e.Q6J("ngSwitchCase","vertical"))},directives:[Ee,_.RF,_.n9,_.sg,_.tP,_.O5],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[Re.horizontalStepTransition,Re.verticalStepTransition]},changeDetection:0}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Ct,D.rD],imports:[[D.BQ,_.ez,ie.eL,T.ot,je,S.Ps,D.si],D.BQ]}),n})();const Nt=[Ae];let vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Nt,Ae]}),n})();var At=s(7366),K=s(9975),W=s(9151),Ie=s(8334),ce=s(2600),ee=s(8390),It=s(2135),w=s(6531),be=s(4514);function bt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-radio-button",6),e.NdJ("blur",function(){return e.CHM(t),e.oxw().onTouched()}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit;e.Q6J("value",t[0]),e.xp6(1),e.Oqu(t[1])}}function yt(n,i){1&n&&e._UZ(0,"app-address-form",7)}let Lt=(()=>{class n{constructor(t){this.formBuilder=t,this.typesOptions=[...ce.id.entries()],this.onChange=o=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{}}get typeName(){return this.formGroup.get("typeName")}get company(){return this.formGroup.get("company")}get address(){return this.formGroup.get("address")}ngOnInit(){this.formGroup||(this.formGroup=this.formBuilder.group({typeName:[null,c.kI.required],company:[{value:null,disabled:!0},c.kI.required],address:[{value:null,disabled:!0},c.kI.required]})),this.valueChangesSub=this.formGroup.valueChanges.pipe((0,p.b)(t=>this.onChange(t))).subscribe(),this.typeNameChangesSub=this.typeName.valueChanges.pipe((0,p.b)(()=>this.updateControlsAfterTypeNameChange())).subscribe()}ngOnDestroy(){var t,o;null===(t=this.valueChangesSub)||void 0===t||t.unsubscribe(),null===(o=this.typeNameChangesSub)||void 0===o||o.unsubscribe()}writeValue(t){this.formGroup&&(this.typeName.reset(null,{emitEvent:!1}),this.company.reset({value:null,disabled:!0},{emitEvent:!1}),this.address.reset({value:null,disabled:!0},{emitEvent:!1}),(0,Ie.M)(t)&&(this.formGroup.patchValue(t,{emitEvent:!1}),this.updateControlsAfterTypeNameChange({emitEvent:!1})))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.formGroup&&(t?this.formGroup.disable():this.formGroup.enable())}validate(t){if(!this.formGroup||this.formGroup.valid)return null;const o={};return this.typeName.errors&&(o.billingType=this.typeName.errors),this.company.errors&&(o.billingCompany=this.company.errors),this.address.errors&&(o.billingAddress=this.address.errors),o}registerOnValidatorChange(t){this.onValidatorChange=t}updateControlsAfterTypeNameChange(t){this.typeName.value===ce.o8?(this.company.enable(t),this.address.enable(t)):(this.company.reset({value:null,disabled:!0},t),this.address.reset({value:null,disabled:!0},t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-billing-details-form"]],inputs:{formGroup:"formGroup"},features:[e._Bn([{provide:c.JU,multi:!0,useExisting:n},{provide:c.Cf,multi:!0,useExisting:n}])],decls:9,vars:2,consts:function(){let i,t,o;return i=$localize`:Label for group of choices to select billing type from:Billing type`,t=$localize`:Company address|Label for group of fields related to a company address:Company address`,o=$localize`:Name of field for address to bill to:Billing address`,[[3,"formGroup"],["formControlName","typeName","aria-label",i],[3,"value","blur",4,"ngFor","ngForOf"],["formControlName","company"],t,["matExpansionPanelContent",""],[3,"value","blur"],["formControlName","address","placeholder",o]]},template:function(t,o){1&t&&(e.TgZ(0,"fieldset",0)(1,"mat-radio-group",1),e.YNc(2,bt,2,2,"mat-radio-button",2),e.qZA(),e._UZ(3,"app-company-form",3),e.TgZ(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title"),e.SDv(7,4),e.qZA()(),e.YNc(8,yt,1,0,"ng-template",5),e.qZA()()),2&t&&(e.Q6J("formGroup",o.formGroup),e.xp6(2),e.Q6J("ngForOf",o.typesOptions))},directives:[c.JL,c.sg,ee.VQ,c.JJ,c.u,_.sg,ee.U0,It.L,w.ib,w.yz,w.yK,w.HS,be.C],styles:["mat-radio-button[_ngcontent-%COMP%]:not(:first-child){margin-left:2rem}\n/*# sourceMappingURL=store-billing-details-form.component.css.map*/"]}),n})();function xt(n,i){1&n&&e._UZ(0,"app-address-form",7)}let Dt=(()=>{class n{constructor(t){this.formBuilder=t,this.onChange=o=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{}}get included(){return this.formGroup.get("included")}get address(){return this.formGroup.get("address")}ngOnInit(){this.formGroup||(this.formGroup=this.formBuilder.group({included:[null,c.kI.required],address:[{value:null,disabled:!0},c.kI.required]})),this.valueChangesSub=this.formGroup.valueChanges.pipe((0,p.b)(t=>this.onChange(t))).subscribe(),this.includeShippingChangesSub=this.included.valueChanges.pipe((0,p.b)(()=>this.updateControlsAfterShippingInclusionChange())).subscribe()}ngOnDestroy(){var t,o;null===(t=this.valueChangesSub)||void 0===t||t.unsubscribe(),null===(o=this.includeShippingChangesSub)||void 0===o||o.unsubscribe()}writeValue(t){this.formGroup&&(this.included.reset(null,{emitEvent:!1}),this.address.reset({value:null,disabled:!0},{emitEvent:!1}),(0,Ie.M)(t)&&(this.formGroup.patchValue(t,{emitEvent:!1}),this.updateControlsAfterShippingInclusionChange({emitEvent:!1})))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.formGroup&&(t?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1}))}validate(t){if(!this.formGroup||this.formGroup.valid)return null;const o={};return this.included.errors&&(o.shippingIncluded=this.included.errors),this.address.errors&&(o.shippingAddress=this.address.errors),o}registerOnValidatorChange(t){this.onValidatorChange=t}updateControlsAfterShippingInclusionChange(t){this.included.value?this.address.enable(t):this.address.reset({value:null,disabled:!0},t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-shipping-details-form"]],inputs:{formGroup:"formGroup"},features:[e._Bn([{provide:c.JU,multi:!0,useExisting:n},{provide:c.Cf,multi:!0,useExisting:n}])],decls:13,vars:3,consts:function(){let i,t,o,r,a;return i=$localize`:Label to hint user that they must choose a delivery option:Choose a delivery option`,t=$localize`:Label for option to choose delivery to a shipping address:Deliver to address`,o=$localize`:Label for option to choose pick-up in store:Pickup in store`,r=$localize`:Shipping address|Label for group of fields related to an address to ship items to:Shipping address`,a=$localize`:Name of field for address to deliver items to:Shipping address`,[[3,"formGroup"],["formControlName","included","aria-label",i],[3,"value","blur"],t,o,r,["matExpansionPanelContent",""],["formControlName","address","placeholder",a]]},template:function(t,o){1&t&&(e.TgZ(0,"fieldset",0)(1,"mat-radio-group",1)(2,"mat-radio-button",2),e.NdJ("blur",function(){return o.onTouched()}),e.TgZ(3,"span"),e.SDv(4,3),e.qZA()(),e.TgZ(5,"mat-radio-button",2),e.NdJ("blur",function(){return o.onTouched()}),e.TgZ(6,"span"),e.SDv(7,4),e.qZA()()(),e.TgZ(8,"mat-expansion-panel")(9,"mat-expansion-panel-header")(10,"mat-panel-title"),e.SDv(11,5),e.qZA()(),e.YNc(12,xt,1,0,"ng-template",6),e.qZA()()),2&t&&(e.Q6J("formGroup",o.formGroup),e.xp6(2),e.Q6J("value",!0),e.xp6(3),e.Q6J("value",!1))},directives:[c.JL,c.sg,ee.VQ,c.JJ,c.u,ee.U0,w.ib,w.yz,w.yK,w.HS,be.C],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap}mat-radio-button[_ngcontent-%COMP%]:not(:first-child){margin:1rem 0 0}app-store-addresses-editor-form[_ngcontent-%COMP%]{margin-top:1rem}@media (min-width: 641px){mat-radio-group[_ngcontent-%COMP%]{display:inline;display:initial}mat-radio-button[_ngcontent-%COMP%]:not(:first-child){margin:0 0 0 2rem}}\n/*# sourceMappingURL=store-shipping-details-form.component.css.map*/"]}),n})(),wt=(()=>{class n{constructor(t,o,r){this.formBuilder=t,this.snackBarService=o,this.cartService=r,this.request=new e.vpe,this.formGroup=this.formBuilder.group({billing:[null,c.kI.required],customer:[null,c.kI.required],shipping:[null,c.kI.required]})}get billing(){return this.formGroup.get("billing")}get customer(){return this.formGroup.get("customer")}get shipping(){return this.formGroup.get("shipping")}ngOnInit(){this.cartService.checkoutRequest$.pipe((0,O.q)(1),(0,W.h)(t=>!!t),(0,p.b)(t=>this.formGroup.patchValue(t,{onlySelf:!0,emitEvent:!1}))).subscribe()}onRequest(){this.formGroup.invalid?this.snackBarService.open(A.uv,A.ec):(this.cartService.updateCheckoutRequest(this.formGroup.value),this.request.emit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.qu),e.Y36(U.ux),e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-checkout-request-form"]],outputs:{request:"request"},decls:19,vars:1,consts:function(){let i,t,o,r;return i=$localize`:Title of form for billing information:Billing Details`,t=$localize`:Title of form for personal information:Personal Information`,o=$localize`:Title of form for shipping information:Shipping Details`,r=$localize`:continue|Label for action button to proceed to next step in a form:Continue`,[[3,"formGroup","ngSubmit"],[1,"billing"],i,["formControlName","billing"],[1,"customer"],t,["formControlName","customer"],[1,"shipping"],o,["formControlName","shipping"],[1,"actions"],["type","submit","mat-button","","mat-raised-button","","color","accent",1,"request"],r]},template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onRequest()}),e.TgZ(1,"div",1)(2,"h3"),e.SDv(3,2),e.qZA(),e._UZ(4,"app-store-billing-details-form",3),e.qZA(),e.TgZ(5,"div",4)(6,"h3"),e.SDv(7,5),e.qZA(),e._UZ(8,"app-person-form",6),e.qZA(),e.TgZ(9,"div",7)(10,"h3"),e.SDv(11,8),e.qZA(),e._UZ(12,"app-store-shipping-details-form",9),e.qZA(),e.TgZ(13,"div",10)(14,"button",11)(15,"span"),e.SDv(16,12),e.qZA(),e.TgZ(17,"mat-icon"),e._uU(18,"arrow_forward"),e.qZA()()()()),2&t&&e.Q6J("formGroup",o.formGroup)},directives:[c._Y,c.JL,c.sg,Lt,c.JJ,c.u,ne.c,Dt,T.lW,S.Hw],styles:["form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:.25rem 0;gap:.25rem 0}.actions[_ngcontent-%COMP%]{text-align:center}\n/*# sourceMappingURL=store-checkout-request-form.component.css.map*/"]}),n})(),Gt=(()=>{class n{constructor(t){this.checkoutApiService=t}requestTransaction(t,o){const r=this.createCheckoutRequest(t,o);return this.checkoutApiService.submitCart(r)}createCheckoutRequest(t,o){const r={customer:{person:t.customer},details:o},a=t.billing;r.billingType=a.typeName,a.typeName===ce.o8&&(a.company&&(r.billingCompany=a.company),a.address&&(r.billingAddress=a.address));const l=t.shipping;return(null==l?void 0:l.included)&&(null==l?void 0:l.address)&&(r.shippingAddress=l.address),r}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.P.checkout))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var q=s(1961),$t=s(5488);function Ft(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span",9)(5,"span",10),e._uU(6),e.qZA(),e.TgZ(7,"b",11),e._uU(8),e.qZA(),e.TgZ(9,"i",12),e._uU(10),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(6),e.AsE("",t.checkoutRequest.customer.firstName," ",t.checkoutRequest.customer.lastName,""),e.xp6(2),e.hij("ID number ",t.checkoutRequest.customer.idNumber,""),e.xp6(2),e.Oqu(t.checkoutRequest.customer.email)}}function Zt(n,i){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"person_off"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span",9)(4,"span",10),e.SDv(5,13),e.qZA()())}function Ut(n,i){if(1&n&&(e.TgZ(0,"div",14)(1,"mat-icon"),e._uU(2,"business"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span",9)(5,"span",10),e._uU(6),e.qZA(),e.TgZ(7,"b",15),e._uU(8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.checkoutRequest.billing.company.name),e.xp6(2),e.hij("Company ID number ",t.checkoutRequest.billing.company.idNumber,"")}}function kt(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2,"local_shipping"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"address"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,1,t.checkoutRequest.shipping.address))}}function Ht(n,i){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"local_shipping"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e.SDv(4,16),e.qZA())}let qt=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-checkout-request-information-card"]],inputs:{checkoutRequest:"checkoutRequest"},decls:19,vars:6,consts:function(){let i,t,o;return i=$localize`:Title of widget to request confirmation of billing/personal/shipping information being correct:Is This Information Correct?`,t=$localize`:Label to indicate that a customer chose not to give personal information:Anonymous`,o=$localize`:in-store delivery|Label to indicate that a customer chose to pick up items in store:Pickup in store`,[["mat-card-title",""],i,[1,"customer"],[4,"ngIf","ngIfElse"],["noCustomer",""],[1,"type"],["class","company",4,"ngIf"],[1,"shipping"],["noShipping",""],[1,"details"],[1,"name"],[1,"idCard"],[1,"email"],t,[1,"company"],[1,"idNumber"],o]},template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h3",0),e.SDv(3,1),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,Ft,11,4,"ng-container",3),e.YNc(6,Zt,6,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(8,"div",5)(9,"mat-icon"),e._uU(10,"receipt"),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.YNc(14,Ut,9,2,"div",6),e.TgZ(15,"div",7),e.YNc(16,kt,7,3,"ng-container",3),e.YNc(17,Ht,5,0,"ng-template",null,8,e.W1O),e.qZA()()),2&t){const r=e.MAs(7),a=e.MAs(18);e.xp6(5),e.Q6J("ngIf",o.checkoutRequest.customer)("ngIfElse",r),e.xp6(8),e.Oqu(o.checkoutRequest.billing.typeName),e.xp6(1),e.Q6J("ngIf",o.checkoutRequest.billing.company),e.xp6(2),e.Q6J("ngIf",o.checkoutRequest.shipping.included)("ngIfElse",a)}},directives:[q.a8,q.dk,q.n5,_.O5,S.Hw],pipes:[$t.q],styles:["mat-card[_ngcontent-%COMP%]{text-align:left;display:grid;grid-template-columns:1fr;grid-gap:.5rem;gap:.5rem}mat-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;text-align:left}mat-card[_ngcontent-%COMP%]   .customer[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%]{display:inline-flex;flex-flow:column nowrap}mat-card[_ngcontent-%COMP%]   .customer[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:break-spaces}@media (min-width: 1008px){[_nghost-%COMP%]{padding:2rem}}\n/*# sourceMappingURL=store-checkout-request-information-card.component.css.map*/"]}),n})(),zt=(()=>{class n{constructor(){this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-checkout-confirmation-button"]],inputs:{disabled:"disabled"},decls:5,vars:1,consts:function(){let i;return i=$localize`:request transaction|Label for action button to request a new transaction from payment service:Request transaction`,[["type","button","mat-button","","mat-raised-button","","color","accent",1,"request",3,"disabled"],i]},template:function(t,o){1&t&&(e.TgZ(0,"button",0)(1,"span"),e.SDv(2,1),e.qZA(),e.TgZ(3,"mat-icon"),e._uU(4,"point_of_sale"),e.qZA()()),2&t&&e.Q6J("disabled",o.disabled)},directives:[T.lW,S.Hw],styles:["[_nghost-%COMP%]{display:block;padding:1rem;text-align:center}button[_ngcontent-%COMP%]{margin:0 0 1rem}@media (min-width: 1008px){[_nghost-%COMP%]{padding:2rem}}\n/*# sourceMappingURL=store-checkout-confirmation-button.component.css.map*/"]}),n})();class Bt{}let Xt=(()=>{class n{constructor(){this.innerCheckoutDetails=new Bt,this.disabled=!0,this.innerControlName="token_ws"}get checkoutDetails(){return this.innerCheckoutDetails}set checkoutDetails(t){t&&(this.disabled=!1,this.innerCheckoutDetails=t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-checkout-button"]],inputs:{innerControlName:"innerControlName",checkoutDetails:"checkoutDetails"},decls:8,vars:4,consts:function(){let i;return i=$localize`:proceed to checkout|Label for action button to proceed towards payment page:Proceed to checkout`,[["method","post",3,"action"],["form",""],["type","hidden",3,"name","value"],["type","submit","mat-button","","mat-raised-button","","color","accent",1,"checkout",3,"disabled","click"],i]},template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"form",0,1),e._UZ(2,"input",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(r),e.MAs(1).submit()}),e.TgZ(4,"span"),e.SDv(5,4),e.qZA(),e.TgZ(6,"mat-icon"),e._uU(7,"attach_money"),e.qZA()()()}2&t&&(e.Q6J("action",o.checkoutDetails.url,e.LSH),e.xp6(2),e.Q6J("name",o.innerControlName)("value",o.checkoutDetails.token),e.xp6(1),e.Q6J("disabled",o.disabled))},directives:[c._Y,c.JL,T.lW,S.Hw],styles:["[_nghost-%COMP%]{display:block}\n/*# sourceMappingURL=store-checkout-button.component.css.map*/"]}),n})(),Qt=(()=>{class n{constructor(t,o){this.cartService=t,this.checkoutService=o,this.confirmed=new e.vpe,this.loading=!1,this.checkoutDetails=null}ngOnInit(){this.checkoutRequest$=this.cartService.checkoutRequest$.pipe()}ngOnDestroy(){var t,o;null===(t=this.checkoutButtonPressSub)||void 0===t||t.unsubscribe(),null===(o=this.actionSubscription)||void 0===o||o.unsubscribe(),this.confirmed.complete()}onClickConfirm(){var t;null===(t=this.actionSubscription)||void 0===t||t.unsubscribe(),this.actionSubscription=this.getCartData().pipe((0,d.w)(o=>this.checkoutService.requestTransaction(o.data,o.details)),(0,p.b)(o=>{this.confirmed.emit(),this.checkoutDetails=o},o=>{this.loading=!1})).subscribe()}getCartData(){return this.checkoutRequest$.pipe((0,O.q)(1),(0,d.w)(t=>this.cartService.cartDetails$.pipe((0,O.q)(1),(0,g.U)(o=>({data:t,details:o})))))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(Gt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-checkout-confirmation"]],outputs:{confirmed:"confirmed"},decls:9,vars:5,consts:function(){let i,t;return i=$localize`:Label to instruct user that, after having checked correctness of billing/personal/shipping information, they click the action button to request a new transaction:After you've checked your details, you may click on the 'Request transaction' button below:`,t=$localize`:Label to instruct user that, after requesting and waiting for a new transaction, they click the action button to proceed towards payment page:After requesting your transaction, you may click on the 'Proceed to checkout' button below:`,[[3,"checkoutRequest"],i,[3,"disabled","click"],t,[3,"checkoutDetails"]]},template:function(t,o){1&t&&(e._UZ(0,"app-store-checkout-request-information-card",0),e.ALo(1,"async"),e.TgZ(2,"p"),e.SDv(3,1),e.qZA(),e.TgZ(4,"app-store-checkout-confirmation-button",2),e.NdJ("click",function(){return o.onClickConfirm()}),e.qZA(),e._UZ(5,"mat-divider"),e.TgZ(6,"p"),e.SDv(7,3),e.qZA(),e._UZ(8,"app-store-checkout-button",4)),2&t&&(e.Q6J("checkoutRequest",e.lcZ(1,3,o.checkoutRequest$)),e.xp6(4),e.Q6J("disabled",!!o.checkoutDetails),e.xp6(4),e.Q6J("checkoutDetails",o.checkoutDetails))},directives:[qt,zt,K.d,Xt],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:block;padding:1rem;text-align:center}button.request[_ngcontent-%COMP%]{margin:0 0 1rem}@media (min-width: 1008px){[_nghost-%COMP%]{padding:2rem}}\n/*# sourceMappingURL=store-checkout-confirmation.component.css.map*/"]}),n})();function Yt(n,i){1&n&&e.SDv(0,16)}function Jt(n,i){1&n&&e.SDv(0,17)}function Vt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-store-checkout-confirmation",18),e.NdJ("confirmed",function(){return e.CHM(t),e.oxw().onConfirmation()}),e.qZA()}}let jt=(()=>{class n{constructor(t){this.cartService=t,this.inputEditable=!0}ngOnInit(){this.cartNetValue$=this.cartService.cartNetValue$.pipe(),this.cartContents$=this.cartService.cartDetails$.pipe()}onIncreaseProductQuantityAtIndex(t){this.cartService.increaseProductUnits(t)}onDecreaseProductQuantityAtIndex(t){this.cartService.decreaseProductUnits(t)}onRemoveProductAtIndex(t){this.cartService.removeProductFromCart(t)}onConfirmation(){this.inputEditable=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-cart-review"]],decls:24,vars:11,consts:function(){let i,t,o,r;return i=$localize`:cart contents review|Title of widget displaying contents of cart:Cart Review`,t=$localize`:subtotal sell value|Label with cart subtotal value (products only):Subtotal`,o=$localize`:Title of form step to input checkout details:Required Information`,r=$localize`:Title of form step to confirm checkout details:Confirmation`,[[1,"cart"],i,[3,"editable","sellDetails","increaseUnitsAtIndex","decreaseUnitsAtIndex","removeAtIndex"],[1,"subtotal"],[1,"label"],t,[1,"value"],["linear",""],["stepper",""],[3,"stepControl","editable"],["inputStep",""],["matStepLabel",""],[3,"request"],["checkoutRequest",""],["confirmationStep",""],["matStepContent",""],o,r,[3,"confirmed"]]},template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"h3"),e.SDv(2,1),e.qZA(),e.TgZ(3,"app-sell-details-table",2),e.NdJ("increaseUnitsAtIndex",function(l){return o.onIncreaseProductQuantityAtIndex(l)})("decreaseUnitsAtIndex",function(l){return o.onDecreaseProductQuantityAtIndex(l)})("removeAtIndex",function(l){return o.onRemoveProductAtIndex(l)}),e.ALo(4,"async"),e.qZA(),e._UZ(5,"mat-divider"),e.TgZ(6,"div",3)(7,"span",4),e.SDv(8,5),e.qZA(),e.TgZ(9,"span",6),e._uU(10),e.ALo(11,"currency"),e.ALo(12,"async"),e.qZA()()(),e.TgZ(13,"mat-horizontal-stepper",7,8)(15,"mat-step",9,10),e.YNc(17,Yt,1,0,"ng-template",11),e.TgZ(18,"app-store-checkout-request-form",12,13),e.NdJ("request",function(){return e.CHM(r),e.MAs(14).next()}),e.qZA()(),e.TgZ(20,"mat-step",null,14),e.YNc(22,Jt,1,0,"ng-template",11),e.YNc(23,Vt,1,0,"ng-template",15),e.qZA()()}if(2&t){const r=e.MAs(19);e.xp6(3),e.Q6J("editable",o.inputEditable)("sellDetails",e.lcZ(4,5,o.cartContents$)),e.xp6(7),e.Oqu(e.lcZ(11,7,e.lcZ(12,9,o.cartNetValue$))),e.xp6(5),e.Q6J("stepControl",r.formGroup)("editable",o.inputEditable)}},directives:[At.V,K.d,ve,Pe,V,wt,Me,Qt],pipes:[_.Ov,_.H9],styles:["[_nghost-%COMP%]{flex:1 1 auto;padding:0 1rem 2rem;display:flex;flex-flow:column nowrap}h1[_ngcontent-%COMP%]{font-weight:400;margin:0}h2[_ngcontent-%COMP%]{font-weight:lighter;text-align:left}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{margin:.25rem 0}.cart[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;overflow:auto}.cart[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{flex:0 0 auto}.cart[_ngcontent-%COMP%] > app-cart-contents-table[_ngcontent-%COMP%]{flex:0 1 auto;max-height:20rem}.cart[_ngcontent-%COMP%] > .subtotal[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-flow:row nowrap;padding:.75rem 1rem;justify-content:space-between;align-items:center;text-align:center}@media (min-width: 641px){.cart[_ngcontent-%COMP%] > app-cart-contents-table[_ngcontent-%COMP%]{flex:0 1 auto;max-height:30rem}}@media (min-width: 1008px){[_nghost-%COMP%]{padding:0 2rem 2rem;display:grid;grid-template-columns:repeat(2,1fr);grid-row-gap:2rem;row-gap:2rem;grid-column-gap:4rem;-moz-column-gap:4rem;column-gap:4rem;justify-content:center}.cart[_ngcontent-%COMP%] > app-cart-contents-table[_ngcontent-%COMP%]{flex:0 1 auto;max-height:none}.cart[_ngcontent-%COMP%] > .subtotal[_ngcontent-%COMP%]{padding:.75rem 2rem}}\n/*# sourceMappingURL=store-cart-review.component.css.map*/"]}),n})();var Kt=s(6439),b=s(2340),ye=s(8623),Le=s(9105);let Wt=(()=>{class n{constructor(t,o){this.data=t,this.cartService=o,this.selfChangeTrigger=new $.xQ,this.matchingCartIndex=NaN}ngOnInit(){this.productUnitsInCart$=(0,ye.T)((0,E.of)(void 0),this.selfChangeTrigger.asObservable()).pipe((0,d.w)(()=>Number.isNaN(this.matchingCartIndex)?(0,E.of)(0):this.cartService.cartDetails$.pipe((0,O.q)(1),(0,g.U)(t=>{var o;return(null===(o=t[this.matchingCartIndex])||void 0===o?void 0:o.units)||0})))),this.cartDetailsSub=this.cartService.cartDetails$.pipe((0,p.b)(t=>{this.matchingCartIndex=t.findIndex(o=>{var r;return(null===(r=o.product)||void 0===r?void 0:r.barcode)===this.data.product.barcode})})).subscribe()}ngOnDestroy(){var t;null===(t=this.cartDetailsSub)||void 0===t||t.unsubscribe(),this.selfChangeTrigger.complete()}onClickIncreaseProductQuantity(){-1!==this.matchingCartIndex?this.cartService.increaseProductUnits(this.matchingCartIndex):this.cartService.addProductToCart(this.data.product),this.selfChangeTrigger.next()}onClickDecreaseProductQuantity(){-1!==this.matchingCartIndex&&(this.cartService.decreaseProductUnits(this.matchingCartIndex),this.selfChangeTrigger.next())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.WI),e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-product-details-dialog"]],decls:26,vars:14,consts:[[3,"images","automaticSlide"],[1,"about"],["mat-dialog-title","",1,"name"],[1,"barcode"],[1,"description"],[1,"actions"],[1,"price"],[1,"add-to-cart"],[1,"quantity-wrapper"],["mat-button","","mat-icon-button","","type","button",3,"click"],[1,"quantity"],["mat-button","","mat-icon-button","","type","button",3,"disabled","click"]],template:function(t,o){1&t&&(e._UZ(0,"app-slideshow",0),e.TgZ(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"h4",3),e._uU(5),e.qZA(),e.TgZ(6,"p",4),e._uU(7),e.qZA()(),e.TgZ(8,"div",5)(9,"span",6),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"div",7)(13,"mat-icon"),e._uU(14,"shopping_cart"),e.qZA(),e.TgZ(15,"div",8)(16,"button",9),e.NdJ("click",function(){return o.onClickIncreaseProductQuantity()}),e.TgZ(17,"mat-icon"),e._uU(18,"add "),e.qZA()(),e.TgZ(19,"span",10),e._uU(20),e.ALo(21,"async"),e.qZA(),e.TgZ(22,"button",11),e.NdJ("click",function(){return o.onClickDecreaseProductQuantity()}),e.ALo(23,"async"),e.TgZ(24,"mat-icon"),e._uU(25,"remove"),e.qZA()()()()()),2&t&&(e.Q6J("images",o.data.product.images)("automaticSlide",!1),e.xp6(3),e.Oqu(o.data.product.name),e.xp6(2),e.Oqu(o.data.product.barcode),e.xp6(2),e.Oqu(o.data.product.description),e.xp6(3),e.Oqu(e.lcZ(11,8,o.data.product.price)),e.xp6(10),e.Oqu(e.lcZ(21,10,o.productUnitsInCart$)),e.xp6(2),e.Q6J("disabled",e.lcZ(23,12,o.productNotInCart$)))},directives:[Le.Y,h.uh,S.Hw,T.lW],pipes:[_.H9,_.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:space-between}img[_ngcontent-%COMP%]{flex:1 1 auto;-o-object-fit:cover;object-fit:cover;width:auto;height:auto;max-width:100%;max-height:100%;margin:.5rem 0}.about[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;margin:.25rem 0}@media (min-width: 641px){.about[_ngcontent-%COMP%]{text-align:left;text-align:initial;margin:.5rem 0;padding:0 .25rem}}.name[_ngcontent-%COMP%], .barcode[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{margin:0}.description[_ngcontent-%COMP%]{overflow-y:auto}.actions[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{flex-flow:row nowrap}}.price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#558b2f;margin:0 auto}@media (min-width: 641px){.price[_ngcontent-%COMP%]{font-size:1.75rem;margin:0 auto 0 .5rem}}.add-to-cart[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-gap:1rem;align-items:center}.add-to-cart[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}.quantity-wrapper[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;align-items:center;font-size:1.25rem;grid-gap:.5rem}\n/*# sourceMappingURL=store-product-details-dialog.component.css.map*/"]}),n})();class en{}var xe=s(3081),De=s(1967);function tn(n,i){1&n&&(e.TgZ(0,"div",8)(1,"mat-icon"),e._uU(2,"swipe"),e.qZA()())}function nn(n,i){1&n&&e._UZ(0,"app-centered-mat-spinner")}function on(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-product-card",10),e.NdJ("addToCart",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onAddProductToCart(a)})("view",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onViewProduct(a)}),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("product",t)("showAddToCartButton",o.showAddToCartButtons)}}function rn(n,i){if(1&n&&e.YNc(0,on,1,2,"app-product-card",9),2&n){const t=e.oxw();e.Q6J("ngForOf",t.products)}}function an(n,i){1&n&&(e.TgZ(0,"div",11),e.SDv(1,12),e.qZA())}function sn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-paginator",14),e.NdJ("page",function(r){return e.CHM(t),e.oxw().onPage(r)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.pageIndex)("pageSize",t.pageSize)("length",t.totalCount)}}const cn=function(n){return{scrollable:n}};let ln=(()=>{class n{constructor(){this.pageSizeOptions=[8,20,40,80],this.showPaginator=!0,this.showAddToCartButtons=!1,this.scrollable=!0,this.totalCount=0,this.pageIndex=0,this.pageSize=10,this.loading=!0,this.page=new e.vpe,this.addProductToCart=new e.vpe,this.viewProduct=new e.vpe}onAddProductToCart(t){this.addProductToCart.emit(t)}onViewProduct(t){this.viewProduct.emit(t)}onPage(t){this.page.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-products-lot-display"]],inputs:{products:"products",pageSizeOptions:"pageSizeOptions",showPaginator:"showPaginator",showAddToCartButtons:"showAddToCartButtons",scrollable:"scrollable",totalCount:"totalCount",pageIndex:"pageIndex",pageSize:"pageSize",loading:"loading"},outputs:{page:"page",addProductToCart:"addProductToCart",viewProduct:"viewProduct"},decls:9,vars:8,consts:function(){let i;return i=$localize`:Label to hint users to swipe to the sides:Swipe to the sides to view more`,[[1,"wrapper",3,"ngClass"],["class","animated-scroll-hint",4,"ngIf"],[1,"shadow"],[1,"contents"],[4,"ngIf","ngIfElse"],["productCards",""],["class","scroll hint",4,"ngIf"],["class","paginator",4,"ngIf"],[1,"animated-scroll-hint"],[3,"product","showAddToCartButton","addToCart","view",4,"ngFor","ngForOf"],[3,"product","showAddToCartButton","addToCart","view"],[1,"scroll","hint"],i,[1,"paginator"],[3,"showFirstLastButtons","pageSizeOptions","pageIndex","pageSize","length","page"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,tn,3,0,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,nn,1,0,"app-centered-mat-spinner",4),e.YNc(5,rn,1,1,"ng-template",null,5,e.W1O),e.qZA()(),e.YNc(7,an,2,0,"div",6),e.YNc(8,sn,2,5,"div",7)),2&t){const r=e.MAs(6);e.Q6J("ngClass",e.VKq(6,cn,o.scrollable)),e.xp6(1),e.Q6J("ngIf",o.scrollable),e.xp6(3),e.Q6J("ngIf",o.loading)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",o.scrollable),e.xp6(1),e.Q6J("ngIf",o.showPaginator&&o.totalCount>o.pageSize)}},directives:[_.mk,_.O5,S.Hw,F.Z,_.sg,xe.Y,De.NW],styles:["@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}[_nghost-%COMP%]{display:inline-grid;grid-template-columns:1fr}.wrapper[_ngcontent-%COMP%]{position:relative;overflow:auto}.shadow[_ngcontent-%COMP%]{display:none}.wrapper.scrollable[_ngcontent-%COMP%] > .shadow[_ngcontent-%COMP%]{display:block;position:absolute;pointer-events:none;top:0;left:0;right:0;bottom:0;z-index:2;box-shadow:inset 0 0 4px 4px #0000001a}.contents[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-gap:.5rem;gap:.5rem}.wrapper.scrollable[_ngcontent-%COMP%] > .contents[_ngcontent-%COMP%]{grid-auto-flow:unset;gap:unset;display:flex;flex-flow:row nowrap;overflow-x:auto;overflow-y:hidden}.contents[_ngcontent-%COMP%] > app-product-card[_ngcontent-%COMP%]{flex:0 0 auto}.wrapper.scrollable[_ngcontent-%COMP%] > .contents[_ngcontent-%COMP%] > app-product-card[_ngcontent-%COMP%]{margin:1rem}.hint.scroll[_ngcontent-%COMP%]{padding:.5rem;color:gray;text-align:center}.paginator[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-flow:row wrap;justify-content:center}@media (max-width: 640px){.animated-scroll-hint[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:3;display:flex;justify-content:center;align-items:center;background-color:#00000026;-webkit-animation:fadeOut 1s ease-in-out 2s forwards;animation:fadeOut 1s ease-in-out 2s forwards;pointer-events:none}.animated-scroll-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;width:4rem;height:4rem;font-size:4rem}}@media (min-width: 641px){.contents[_ngcontent-%COMP%]{gap:1rem}.animated-scroll-hint[_ngcontent-%COMP%]{display:none}.wrapper.scrollable[_ngcontent-%COMP%] > .shadow[_ngcontent-%COMP%]{box-shadow:inset 0 0 8px 4px #0000001a}.paginator[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 1008px){.contents[_ngcontent-%COMP%]{padding:1.5rem;gap:1.5rem}.paginator[_ngcontent-%COMP%]{display:block;align-self:flex-end}.paginator[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{display:none}}\n/*# sourceMappingURL=store-products-lot-display.component.css.map*/"]}),n})(),_n=(()=>{class n{constructor(t,o){this.productListApiService=t,this.catalogService=o,this.pageSource=new B.t(1),this.list=new en,this.addProductToCart=new e.vpe,this.pageIndex=0,this.pageSize=10,this.page$=this.pageSource.asObservable(),this.loadingProducts=!0,this.products$=this.page$.pipe((0,g.U)(r=>r.items)),this.totalCount$=this.page$.pipe((0,g.U)(r=>r.totalCount))}ngOnInit(){this.reloadItems()}ngOnDestroy(){var t;null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe()}onPage(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.reloadItems()}onAddProductToCart(t){this.addProductToCart.emit(t)}onViewProduct(t){this.catalogService.navigateToProductDetails(t.barcode)}reloadItems(){var t;this.loadingProducts=!0,null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe(),this.loadingSubscription=this.productListApiService.fetchContents(this.list,this.pageIndex,this.pageSize).pipe((0,p.b)(o=>this.pageSource.next(o)),(0,Q.x)(()=>{this.loadingProducts=!1})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.P.dataProductLists),e.Y36(Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-product-list-contents-display"]],inputs:{list:"list"},outputs:{addProductToCart:"addProductToCart"},decls:5,vars:11,consts:[[3,"loading","products","totalCount","pageIndex","pageSize","showAddToCartButtons","page","addProductToCart","viewProduct"]],template:function(t,o){1&t&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.TgZ(2,"app-store-products-lot-display",0),e.NdJ("page",function(a){return o.onPage(a)})("addProductToCart",function(a){return o.onAddProductToCart(a)})("viewProduct",function(a){return o.onViewProduct(a)}),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(o.list.name),e.xp6(1),e.Q6J("loading",o.loadingProducts)("products",e.lcZ(3,7,o.products$))("totalCount",e.lcZ(4,9,o.totalCount$))("pageIndex",o.pageIndex)("pageSize",o.pageSize)("showAddToCartButtons",!0))},directives:[ln],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:block;text-align:center}\n/*# sourceMappingURL=store-product-list-contents-display.component.css.map*/"]}),n})();var pn=s(1161);let un=(()=>{class n{constructor(){this.mapWidth=600,this.mapHeight=450}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-location"]],inputs:{mapWidth:"mapWidth",mapHeight:"mapHeight"},decls:3,vars:2,consts:function(){let i;return i=$localize`:Label inviting users to check the location map:You can find us in:`,[i,[3,"width","height"]]},template:function(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,0),e.qZA(),e._UZ(2,"app-gmap",1)),2&t&&(e.xp6(2),e.Q6J("width",o.mapWidth)("height",o.mapHeight))},directives:[pn.c],styles:["[_nghost-%COMP%]{padding:1rem;text-align:center}span[_ngcontent-%COMP%]{display:block;font-size:1.2rem;font-weight:700;margin-bottom:1rem}\n/*# sourceMappingURL=store-location.component.css.map*/"]}),n})();function dn(n,i){1&n&&e._UZ(0,"app-centered-mat-spinner")}function gn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-store-product-list-contents-display",9),e.NdJ("addProductToCart",function(r){return e.CHM(t),e.oxw().onAddProductToCart(r)}),e.qZA()}2&n&&e.Q6J("list",i.$implicit)}let mn=(()=>{class n{constructor(t,o,r,a,l){this.catalogService=t,this.cartService=o,this.router=r,this.route=a,this.dialogService=l,this.storeCatalogTopBannerImages=b.N.staticImages.topBanners,this.storeCatalogBottomBannerImages=b.N.staticImages.bottomBanners}ngOnInit(){this.loading$=this.catalogService.loading$.pipe(),this.lists$=this.catalogService.listsPage$.pipe((0,g.U)(t=>t.items)),this.dataLoadingSubscription=this.catalogService.reloadItems().subscribe(),this.queryParamsSubscription=this.route.queryParamMap.pipe((0,d.w)(t=>this.checkViewingProductParam(t))).subscribe()}ngOnDestroy(){var t,o,r;null===(t=this.queryParamsSubscription)||void 0===t||t.unsubscribe(),null===(o=this.dataLoadingSubscription)||void 0===o||o.unsubscribe(),null===(r=this.detailsViewSub)||void 0===r||r.unsubscribe()}onAddProductToCart(t){this.cartService.addProductToCart(t)}onViewProduct(t){var o;null===(o=this.detailsViewSub)||void 0===o||o.unsubscribe(),this.detailsViewSub=this.catalogService.navigateToProductDetails(t.barcode).subscribe()}checkViewingProductParam(t){return t.has("viewingProduct")?this.catalogService.fetchProductDetails(t.get("viewingProduct")).pipe((0,d.w)(o=>this.promptProductDetails(o)),(0,p.b)(()=>this.router.navigate([],{relativeTo:this.route,queryParams:{viewingProduct:void 0},queryParamsHandling:"merge"}))):Kt.E}promptProductDetails(t){return this.dialogService.open(Wt,{width:"40rem",data:{product:t}}).afterClosed()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y),e.Y36(M),e.Y36(f.F0),e.Y36(f.gz),e.Y36(h.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-catalog"]],decls:14,vars:14,consts:[[4,"ngIf"],[1,"top","banners"],[3,"images"],[1,"products",3,"hidden"],[3,"list","addProductToCart",4,"ngFor","ngForOf"],[1,"bottom","banners"],[3,"showSlideSelectors","showNextPreviousButtons","images"],[1,"location"],[3,"mapHeight"],[3,"list","addProductToCart"]],template:function(t,o){1&t&&(e.YNc(0,dn,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e._UZ(3,"app-slideshow",2),e.qZA(),e.TgZ(4,"div",3),e.ALo(5,"async"),e.YNc(6,gn,1,1,"app-store-product-list-contents-display",4),e.ALo(7,"async"),e.qZA(),e._UZ(8,"mat-divider"),e.TgZ(9,"div",5),e._UZ(10,"app-slideshow",6),e.qZA(),e._UZ(11,"mat-divider"),e.TgZ(12,"div",7),e._UZ(13,"app-store-location",8),e.qZA()),2&t&&(e.Q6J("ngIf",e.lcZ(1,8,o.loading$)),e.xp6(3),e.Q6J("images",o.storeCatalogTopBannerImages),e.xp6(1),e.Q6J("hidden",e.lcZ(5,10,o.loading$)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,12,o.lists$)),e.xp6(4),e.Q6J("showSlideSelectors",!1)("showNextPreviousButtons",!1)("images",o.storeCatalogBottomBannerImages),e.xp6(3),e.Q6J("mapHeight",200))},directives:[_.O5,F.Z,Le.Y,_.sg,_n,K.d,un],pipes:[_.Ov],styles:["[_nghost-%COMP%]{min-height:100%;display:flex;flex-flow:column nowrap;align-items:center;justify-items:stretch}h2[_ngcontent-%COMP%]{margin:0;padding:1rem 1rem 0;align-self:stretch;text-align:center}.banners[_ngcontent-%COMP%]{margin:1rem 0;max-width:1200px;display:grid;justify-content:center;align-content:center}.products[_ngcontent-%COMP%]{flex:1 1 auto;align-self:stretch;justify-content:center;overflow:hidden;max-width:90%;margin:0 auto}.location[_ngcontent-%COMP%]{width:70%}@media (min-width: 641px){h2[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 801px){.products[_ngcontent-%COMP%]{max-width:70%}}@media (min-width: 1008px){.products[_ngcontent-%COMP%]{grid-template-columns:repeat(4,20rem)}}\n/*# sourceMappingURL=store-catalog.component.css.map*/"]}),n})();function we(...n){const i=n.length;if(0===i)throw new Error("list of properties cannot be empty.");return t=>(0,g.U)(function Sn(n,i){return o=>{let r=o;for(let a=0;a<i;a++){const l=null!=r?r[n[a]]:void 0;if(void 0===l)return;r=l}return r}}(n,i))(t)}let hn=(()=>{class n{constructor(t){this.receiptApiService=t,this.receiptSource=new y.X(null),this.receipt$=this.receiptSource.asObservable(),this.loading$=this.receipt$.pipe((0,g.U)(o=>!o),(0,H.O)(!0)),this.details$=this.receipt$.pipe(we("details")),this.date$=this.receipt$.pipe(we("date"))}fetchReceipt(t){return this.receiptApiService.fetchTransactionReceiptByToken(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.P.receipt))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var fn=s(6182),R=s(7939);function Tn(n,i){1&n&&(e.TgZ(0,"th",11)(1,"span"),e.SDv(2,12),e.qZA()())}function On(n,i){if(1&n&&(e.TgZ(0,"td",13)(1,"span",14),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"span",15),e._uU(5),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.product.name),e.xp6(3),e.Oqu(t.product.barcode)}}function Cn(n,i){1&n&&(e.TgZ(0,"th",16)(1,"span"),e.SDv(2,17),e.qZA()())}function En(n,i){if(1&n&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.unitValue))}}function Rn(n,i){1&n&&(e.TgZ(0,"th",16)(1,"span"),e.SDv(2,19),e.qZA()())}function Mn(n,i){if(1&n&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.units)}}function Pn(n,i){1&n&&(e.TgZ(0,"th",11)(1,"span"),e.SDv(2,20),e.qZA()())}function Nn(n,i){if(1&n&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.unitValue*t.units))}}function vn(n,i){1&n&&e._UZ(0,"tr",21)}function An(n,i){1&n&&e._UZ(0,"tr",22)}let In=(()=>{class n{constructor(){this.dataSource=new R.by,this.tableColumns=["product","price","quantity","total"]}get details(){return this.dataSource.data}set details(t){this.dataSource.data=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-receipt-details-table"]],inputs:{details:"details",tableColumns:"tableColumns"},decls:15,vars:3,consts:function(){let i,t,o,r;return i=$localize`:product|Name of table header for name and code of product:Product`,t=$localize`:Name of table header for price per product unit:Price`,o=$localize`:Name of table header for product units in cart:Units`,r=$localize`:Name of table header for the value of product price x units in cart:Subtotal`,[["mat-table","",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["mat-header-cell","","class","center",4,"matHeaderCellDef"],["mat-cell","","class","center",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],i,["mat-cell",""],[1,"name"],[1,"barcode"],["mat-header-cell","",1,"center"],t,["mat-cell","",1,"center"],o,r,["mat-header-row",""],["mat-row",""]]},template:function(t,o){1&t&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,Tn,3,0,"th",2),e.YNc(3,On,6,2,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,Cn,3,0,"th",5),e.YNc(6,En,4,3,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,Rn,3,0,"th",5),e.YNc(9,Mn,3,1,"td",6),e.BQk(),e.ynx(10,8),e.YNc(11,Pn,3,0,"th",2),e.YNc(12,Nn,4,3,"td",6),e.BQk(),e.YNc(13,vn,1,0,"tr",9),e.YNc(14,An,1,0,"tr",10),e.qZA()),2&t&&(e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tableColumns))},directives:[R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk],pipes:[_.H9],styles:["[_nghost-%COMP%]{overflow:auto}.mat-column-product[_ngcontent-%COMP%]{min-width:8rem;max-width:12rem}.mat-column-price[_ngcontent-%COMP%]{min-width:6rem;max-width:8rem}.mat-column-quantity[_ngcontent-%COMP%], .mat-column-total[_ngcontent-%COMP%]{min-width:9rem;max-width:9rem}.mat-column-product[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem}.mat-column-product[_ngcontent-%COMP%]   .barcode[_ngcontent-%COMP%]{font-size:.9rem;color:gray}\n/*# sourceMappingURL=store-receipt-details-table.component.css.map*/"]}),n})();function bn(n,i){if(1&n&&(e.TgZ(0,"p"),e.SDv(1,8),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.pQV(e.xi3(2,1,t.receipt.transportValue,"CLP")),e.QtT(1)}}function yn(n,i){if(1&n&&(e.TgZ(0,"p"),e.SDv(1,9),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.pQV(e.xi3(2,1,t.receipt.taxValue,"CLP")),e.QtT(1)}}let Ln=(()=>{class n{constructor(){}get transactionStatus(){var t;return(null===(t=this.receipt)||void 0===t?void 0:t.status)?fn.J.get(this.receipt.status):""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-receipt-card"]],inputs:{receipt:"receipt"},decls:19,vars:13,consts:function(){let i,t,o,r,a,l;return i=$localize`:Label with transaction confirmation date:Confirmed on ${"\ufffd0\ufffd"}:INTERPOLATION:`,t=$localize`:Label with total count of items in transaction being {{ receipt.totalItems }}:Total items: ${"\ufffd0\ufffd"}:INTERPOLATION:`,o=$localize`:Label with total price of transaction being {{ receipt.totalValue}}:Total: ${"\ufffd0\ufffd"}:INTERPOLATION:`,r=$localize`:Title of widget displaying products and details of transaction:Details`,a=$localize`:Label with total price of transport being {{ receipt.transportValue }}:Transport: ${"\ufffd0\ufffd"}:INTERPOLATION:`,l=$localize`:Label with total price of taxes being {{ receipt.taxValue }}:Taxes: ${"\ufffd0\ufffd"}:INTERPOLATION:`,[["aria-hidden","true",1,"icon-wrapper"],["mat-card-title",""],i,t,[4,"ngIf"],o,r,[3,"details"],a,l]},template:function(t,o){1&t&&(e.TgZ(0,"mat-card")(1,"div",0)(2,"mat-icon"),e._uU(3,"receipt_long"),e.qZA()(),e.TgZ(4,"h2",1),e._uU(5),e.qZA(),e.TgZ(6,"p"),e.SDv(7,2),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"p"),e.SDv(10,3),e.qZA(),e.YNc(11,bn,3,4,"p",4),e.YNc(12,yn,3,4,"p",4),e.TgZ(13,"p"),e.SDv(14,5),e.ALo(15,"currency"),e.qZA(),e.TgZ(16,"h3"),e.SDv(17,6),e.qZA(),e._UZ(18,"app-store-receipt-details-table",7),e.qZA()),2&t&&(e.xp6(5),e.Oqu(o.transactionStatus),e.xp6(3),e.pQV(e.xi3(8,7,o.receipt.date,"short")),e.QtT(7),e.xp6(2),e.pQV(o.receipt.totalItems),e.QtT(10),e.xp6(1),e.Q6J("ngIf",o.receipt.transportValue),e.xp6(1),e.Q6J("ngIf",o.receipt.taxValue),e.xp6(3),e.pQV(e.xi3(15,10,o.receipt.totalValue,"CLP")),e.QtT(14),e.xp6(3),e.Q6J("details",o.receipt.details))},directives:[q.a8,S.Hw,q.n5,_.O5,In],pipes:[_.uU,_.H9],styles:["[_nghost-%COMP%]{height:100%;padding:1em;display:grid;justify-content:center;align-content:center;overflow-x:hidden;overflow-y:auto}mat-card[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}.icon-wrapper[_ngcontent-%COMP%]{padding:1em}mat-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;font-size:4rem}\n/*# sourceMappingURL=store-receipt-card.component.css.map*/"]}),n})();function xn(n,i){1&n&&e._UZ(0,"app-centered-mat-spinner")}function Dn(n,i){if(1&n&&(e._UZ(0,"app-store-receipt-card",2),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("receipt",e.lcZ(1,1,t.receipt$))}}let wn=(()=>{class n{constructor(t,o,r){this.service=t,this.route=o,this.router=r,this.receiptSource=new B.t(1),this.loadingSource=new y.X(!0),this.loading$=this.loadingSource.asObservable(),this.receipt$=this.receiptSource.asObservable()}ngOnInit(){this.loadReceipt()}ngOnDestroy(){var t;null===(t=this.loadSubscription)||void 0===t||t.unsubscribe(),this.receiptSource.complete(),this.loadingSource.complete()}loadReceipt(){this.loadSubscription=this.route.queryParamMap.pipe((0,O.q)(1),(0,d.w)(t=>{const o=t.get("token");return o?this.service.fetchReceipt(o).pipe((0,p.b)(r=>this.receiptSource.next(r)),(0,Q.x)(()=>this.loadingSource.next(!1))):(0,X.D)(this.router.navigateByUrl("/"))}),(0,ue.K)(()=>(0,X.D)(this.router.navigateByUrl("/")))).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(hn),e.Y36(f.gz),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-receipt"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loadedReceipt",""],[3,"receipt"]],template:function(t,o){if(1&t&&(e.YNc(0,xn,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.YNc(2,Dn,2,3,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.loading$))("ngIfElse",r)}},directives:[_.O5,F.Z,Ln],pipes:[_.Ov],styles:["[_nghost-%COMP%]{height:100%;padding:1em;display:grid;justify-content:center;align-content:center;overflow-x:hidden;overflow-y:auto}mat-card[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}.icon-wrapper[_ngcontent-%COMP%]{padding:1em}mat-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;font-size:4rem}\n/*# sourceMappingURL=store-receipt.component.css.map*/"]}),n})();var Gn=s(4334);class $n{}let Ge=(()=>{class n{constructor(t){this.productsApiService=t,this.isLoadingSearchSource=new y.X(!1),this.currentPageSource=new B.t(1),this.searchQuery=new $n,this.currentPage$=this.currentPageSource.asObservable(),this.isLoadingSearch$=this.isLoadingSearchSource.asObservable(),this.pageIndex=0,this.pageSize=8,this.sortBy="name",this.order="asc"}updateSearchQuery(t){(null==t?void 0:t.nameLike)||t?this.searchQuery.nameLike=t.nameLike:delete this.searchQuery.nameLike,(null==t?void 0:t.categoryCode)?this.searchQuery.categoryCode=t.categoryCode:delete this.searchQuery.categoryCode}paginate(t){return this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.reload()}reload(){return this.isLoadingSearchSource.next(!0),this.productsApiService.fetchPage(this.pageIndex,this.pageSize,this.sortBy,this.order,this.searchQuery).pipe((0,p.b)(t=>this.currentPageSource.next(t)),(0,Gn.l)(),(0,Q.x)(()=>this.isLoadingSearchSource.next(!1)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.P.dataProducts))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fn(n,i){1&n&&e._UZ(0,"app-centered-mat-spinner")}function Zn(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",5)(2,"p"),e.SDv(3,6),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"sentiment_very_dissatisfied"),e.qZA()(),e.BQk())}function Un(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-product-card",10),e.NdJ("addToCart",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onAddProductToCart(a)})("view",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onViewProduct(a)}),e.qZA()}if(2&n){const t=i.$implicit;e.Q6J("showAddToCartButton",!0)("product",t)}}const kn=function(){return[8,20,40,80]};function Hn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-paginator",7),e.NdJ("page",function(r){return e.CHM(t),e.oxw().onPage(r)}),e.ALo(1,"async"),e.qZA(),e.TgZ(2,"div",8),e.YNc(3,Un,1,2,"app-product-card",9),e.ALo(4,"async"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",e.DdM(8,kn))("length",e.lcZ(1,4,t.totalCount$)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,6,t.searchResults$))}}let qn=(()=>{class n{constructor(t,o,r,a){this.searchService=t,this.cartService=o,this.catalogService=r,this.route=a}ngOnInit(){this.isLoadingSearch$=this.searchService.isLoadingSearch$.pipe(),this.searchResults$=this.searchService.currentPage$.pipe((0,g.U)(t=>t.items)),this.totalCount$=this.searchService.currentPage$.pipe((0,g.U)(t=>t.totalCount)),this.queryParamsSub=this.route.queryParams.pipe((0,p.b)(t=>this.searchService.updateSearchQuery(t))).subscribe(),this.reloadSub=this.searchService.reload().subscribe()}ngOnDestroy(){var t;this.queryParamsSub.unsubscribe(),null===(t=this.reloadSub)||void 0===t||t.unsubscribe()}onPage(t){var o;null===(o=this.reloadSub)||void 0===o||o.unsubscribe(),this.reloadSub=this.searchService.paginate(t).subscribe()}onAddProductToCart(t){this.cartService.addProductToCart(t)}onViewProduct(t){this.catalogService.navigateToProductDetails(t.barcode)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ge),e.Y36(M),e.Y36(Y),e.Y36(f.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-search"]],decls:10,vars:10,consts:function(){let i,t;return i=$localize`:Title for page on search results:Search results`,t=$localize`:Label to hint users that there are zero results present:No products matched your search`,[[4,"ngIf"],[1,"container",3,"hidden"],i,[4,"ngIf","ngIfElse"],["results",""],[1,"empty"],t,[3,"showFirstLastButtons","pageSizeOptions","length","page"],[1,"contents"],[3,"showAddToCartButton","product","addToCart","view",4,"ngFor","ngForOf"],[3,"showAddToCartButton","product","addToCart","view"]]},template:function(t,o){if(1&t&&(e.YNc(0,Fn,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"h3"),e.SDv(5,2),e.qZA(),e.YNc(6,Zn,6,0,"ng-container",3),e.ALo(7,"async"),e.YNc(8,Hn,5,9,"ng-template",null,4,e.W1O),e.qZA()),2&t){const r=e.MAs(9);e.Q6J("ngIf",e.lcZ(1,4,o.isLoadingSearch$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,6,o.isLoadingSearch$)),e.xp6(4),e.Q6J("ngIf",0===e.lcZ(7,8,o.totalCount$))("ngIfElse",r)}},directives:[_.O5,F.Z,S.Hw,De.NW,_.sg,xe.Y],pipes:[_.Ov],styles:["[_nghost-%COMP%]{flex:1 1 auto;text-align:center}.container[_ngcontent-%COMP%]{flex:1 1 auto;display:grid;justify-items:center}h3[_ngcontent-%COMP%]{flex:0 0 auto;font-size:1.5rem}.contents[_ngcontent-%COMP%]{flex:1 1 auto;max-width:1280px;margin:0 .5rem;display:flex;flex-flow:row wrap;justify-content:center}.empty[_ngcontent-%COMP%]{margin:10rem 0}.empty[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;font-size:3.5rem}app-product-card[_ngcontent-%COMP%]{margin:.25rem}@media (min-width: 641px){app-product-card[_ngcontent-%COMP%]{margin:.5rem}}@media (min-width: 1304px){.contents[_ngcontent-%COMP%]{margin:1rem 0 2rem;align-self:center}}\n/*# sourceMappingURL=store-search.component.css.map*/"]}),n})();var zn=s(5103),Bn=s(5320),Xn=s(178);const Qn=function(){return["/store","cart"]};function Yn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"a",3)(2,"mat-icon",4),e.ALo(3,"async"),e._uU(4,"shopping_cart"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(4,Qn)),e.xp6(1),e.Q6J("matBadge",e.lcZ(3,2,t.cartItemCount$))}}function Jn(n,i){1&n&&(e.TgZ(0,"a",5)(1,"mat-icon",6),e._uU(2,"shopping_cart"),e.qZA()())}let Vn=(()=>{class n{constructor(t){this.cartService=t}ngOnInit(){this.cartHasItems$=this.cartService.cartDetails$.pipe((0,g.U)(t=>t.length>0)),this.cartItemCount$=this.cartService.cartItemCount$.pipe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-header-navigation"]],decls:7,vars:4,consts:function(){let i,t;return i=$localize`:Label for link to navigate to storefront:Go to storefront`,t=$localize`:Label for link to navigate to cart:Go to cart review`,[["mat-button","","routerLink","/store","aria-label",i],[4,"ngIf","ngIfElse"],["emptyCart",""],["mat-button","","aria-label",t,1,"full","cart",3,"routerLink"],[3,"matBadge"],["mat-button","","disabled","",1,"empty","cart"],[1,"material-icons-outlined"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"a",0)(1,"mat-icon"),e._uU(2,"storefront"),e.qZA()(),e.YNc(3,Yn,5,5,"ng-container",1),e.ALo(4,"async"),e.YNc(5,Jn,3,0,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,o.cartHasItems$))("ngIfElse",r)}},directives:[T.zs,f.yS,S.Hw,_.O5,Xn.k],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-evenly;align-items:stretch;justify-items:center}a[mat-button][_ngcontent-%COMP%]{display:grid;align-items:center;justify-content:center;border-radius:0;padding:0}.cart.full[_ngcontent-%COMP%]{background-color:#0003}@media (max-width: 640px){a[mat-button][_ngcontent-%COMP%]{min-width:3.5rem}}@media (min-width: 641px){a[mat-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}}\n/*# sourceMappingURL=store-header-navigation.component.css.map*/"]}),n})();var jn=s(823),Kn=s(7839);function Wn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickResetForm()}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}let eo=(()=>{class n{constructor(t,o,r,a,l){this.formBuilder=t,this.dialogService=o,this.searchService=r,this.route=a,this.router=l,this.searchFiltersDebounceMs=400}get nameLike(){return this.formGroup.get("nameLike")}get categoryCode(){return this.formGroup.get("categoryCode")}ngOnInit(){this.formGroup=this.formBuilder.group({nameLike:[""],categoryCode:[null]}),this.productSearchChanges=this.formGroup.valueChanges.pipe((0,jn.b)(this.searchFiltersDebounceMs),(0,p.b)(()=>{this.searchService.pageIndex=0}),(0,d.w)(t=>(0,X.D)(this.router.navigate([],{relativeTo:this.route,queryParams:t,queryParamsHandling:"merge"})))).subscribe(),this.queryParamsSub=this.route.queryParams.pipe((0,p.b)(t=>this.searchService.updateSearchQuery(t)),(0,d.w)(()=>this.searchService.reload())).subscribe()}ngOnDestroy(){var t;this.productSearchChanges.unsubscribe(),this.queryParamsSub.unsubscribe(),null===(t=this.categoryPickerSubscription)||void 0===t||t.unsubscribe()}onTouched(){"search"!==this.route.firstChild.routeConfig.path&&this.router.navigateByUrl("/store/search")}onClickOpenCategoryPicker(){var t;null===(t=this.categoryPickerSubscription)||void 0===t||t.unsubscribe(),this.categoryPickerSubscription=this.dialogService.open(Kn.P,{width:"24rem"}).afterClosed().pipe((0,p.b)(o=>{(null==o?void 0:o.code)?(this.categoryCode.setValue(o.code),this.categoryCode.markAsDirty()):null===o&&this.categoryCode.reset(null)})).subscribe()}onClickResetForm(){this.formGroup.reset({nameLike:"",categoryCode:null})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.qu),e.Y36(h.uw),e.Y36(Ge),e.Y36(f.gz),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-header-search-form"]],decls:14,vars:2,consts:function(){let i,t,o,r;return i=$localize`:Label to hint users to type in a search term:What are you looking for?`,t=$localize`:Label for action button to clear search terms:Clear search terms`,o=$localize`:Label for action button to pick a category from the tree:Select category`,r=$localize`:Label to hint users that search is triggered upon use of the search field or clicking a button to select a category:Just type something, or click on the right 'burger' button, and we will match your search terms`,[[3,"formGroup"],["appearance","fill",3,"click"],i,["matInput","","type","text","formControlName","nameLike"],["matPrefix",""],["type","reset","aria-label",t,"matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label",o,"matSuffix","","mat-icon-button","",1,"open-category-picker",3,"click"],r,["type","hidden","formControlName","categoryCode"],["type","reset","aria-label",t,"matSuffix","","mat-icon-button","",3,"click"]]},template:function(t,o){1&t&&(e.TgZ(0,"fieldset",0)(1,"mat-form-field",1),e.NdJ("click",function(){return o.onTouched()}),e.TgZ(2,"mat-label"),e.SDv(3,2),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"mat-icon",4),e._uU(6,"search"),e.qZA(),e.YNc(7,Wn,3,0,"button",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return o.onClickOpenCategoryPicker()}),e.TgZ(9,"mat-icon"),e._uU(10,"menu"),e.qZA()(),e.TgZ(11,"mat-hint"),e.SDv(12,7),e.qZA()(),e._UZ(13,"input",8),e.qZA()),2&t&&(e.Q6J("formGroup",o.formGroup),e.xp6(7),e.Q6J("ngIf",o.nameLike.value||o.categoryCode.value))},directives:[c.JL,c.sg,x.KE,x.hX,oe.Nt,c.Fj,c.JJ,c.u,S.Hw,x.qo,_.O5,T.lW,x.R9,x.bx],styles:["fieldset[_ngcontent-%COMP%]{display:flex;align-items:stretch;gap:unset;grid-template-columns:none}fieldset[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-form-field-flex[_ngcontent-%COMP%]{padding:1.25rem .75rem 0}.open-category-picker[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}\n/*# sourceMappingURL=store-header-search-form.component.css.map*/"]}),n})();var to=s(5527),no=s(5693),le=s(2023);const oo=function(){return["/management"]};function io(n,i){1&n&&(e.TgZ(0,"button",8)(1,"mat-icon"),e._uU(2,"tune"),e.qZA(),e.TgZ(3,"span"),e.SDv(4,9),e.qZA()()),2&n&&e.Q6J("routerLink",e.DdM(1,oo))}let ro=(()=>{class n{constructor(t,o,r,a,l){this.sessionService=t,this.profileService=o,this.snackBarService=r,this.dialogService=a,this.sharedDialogService=l}ngOnInit(){this.userName$=this.profileService.watchUserName(),this.canNavigateManagement$=this.sessionService.authorizedAccess$.pipe((0,g.U)(t=>{var o;return(null===(o=null==t?void 0:t.routes)||void 0===o?void 0:o.length)>0}))}ngOnDestroy(){var t;null===(t=this.logoutSubscription)||void 0===t||t.unsubscribe()}onClickEditProfile(){this.dialogService.open(to.g,{width:"60rem"})}onClickLogout(){var t;null===(t=this.logoutSubscription)||void 0===t||t.unsubscribe(),this.logoutSubscription=this.sessionService.userHasActiveSession$.pipe((0,O.q)(1),(0,W.h)(o=>o),(0,d.w)(()=>this.confirmLogout()),(0,W.h)(o=>o),(0,p.b)(()=>{this.sessionService.closeCurrentSession();const o=$localize`:Message after logging out:You have logged out`;this.snackBarService.open(o,A.ec)})).subscribe()}confirmLogout(){return this.sharedDialogService.requestConfirmation({title:$localize`:Title of dialog prompt for logging out:Log out?`,message:$localize`:Label to hint user that any undergoing process may be lost when logging out:Any unsaved data may be lost`})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.m),e.Y36(de.H),e.Y36(U.ux),e.Y36(h.uw),e.Y36(no.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-header-menu"]],decls:20,vars:7,consts:function(){let i,t,o,r;return i=$localize`:edit profile|Label for action button to prompt profile edit:Edit profile`,t=$localize`:log out|Label for action button to log out:Log out`,o=$localize`:open user menu|Label for action button to open user menu:Open user menu`,r=$localize`:Label for link button to navigate to management dashboard:Management`,[["headerMenu",""],["mat-menu-item","","disabled",""],["mat-menu-item","","type","button","class","navigate-management",3,"routerLink",4,"ngIf"],["mat-menu-item","","type","button",1,"edit-profile",3,"click"],i,["mat-menu-item","","type","button",1,"logout",3,"click"],t,["mat-button","","type","button","aria-label",o,1,"open-menu",3,"matMenuTriggerFor"],["mat-menu-item","","type","button",1,"navigate-management",3,"routerLink"],r]},template:function(t,o){if(1&t&&(e.TgZ(0,"mat-menu",null,0)(2,"span",1),e._uU(3),e.ALo(4,"async"),e.qZA(),e.YNc(5,io,5,2,"button",2),e.ALo(6,"async"),e.TgZ(7,"button",3),e.NdJ("click",function(){return o.onClickEditProfile()}),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"span"),e.SDv(11,4),e.qZA()(),e.TgZ(12,"button",5),e.NdJ("click",function(){return o.onClickLogout()}),e.TgZ(13,"mat-icon"),e._uU(14,"exit_to_app"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,6),e.qZA()()(),e.TgZ(17,"button",7)(18,"mat-icon"),e._uU(19,"person"),e.qZA()()),2&t){const r=e.MAs(1);e.xp6(3),e.Oqu(e.lcZ(4,3,o.userName$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,o.canNavigateManagement$)),e.xp6(12),e.Q6J("matMenuTriggerFor",r)}},directives:[le.VK,le.OP,_.O5,f.rH,S.Hw,T.lW,le.p6],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:flex}.open-menu[_ngcontent-%COMP%]{justify-content:center;align-items:center;padding:0}.open-menu.active[_ngcontent-%COMP%]{border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}@media (max-width: 640px){.open-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;font-size:1rem}}@media (min-width: 641px){.open-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;font-size:2.5rem}}\n/*# sourceMappingURL=store-header-menu.component.css.map*/"]}),n})(),ao=(()=>{class n{constructor(t){this.dialogService=t}onClickLogIn(){this.dialogService.open(me,{width:"24rem"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-header-login-button"]],decls:3,vars:0,consts:function(){let i;return i=$localize`:log in|Label for action button to prompt a login:Log in`,[["mat-button","","type","button","aria-label",i,3,"click"]]},template:function(t,o){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.onClickLogIn()}),e.TgZ(1,"mat-icon"),e._uU(2,"person_outline"),e.qZA()())},directives:[T.lW,S.Hw],styles:["[_nghost-%COMP%]{display:flex}button[_ngcontent-%COMP%]{padding:0}button.active[_ngcontent-%COMP%]{border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}@media (max-width: 640px){button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}}@media (min-width: 641px){button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;font-size:2.5rem}}\n/*# sourceMappingURL=store-header-login-button.component.css.map*/"]}),n})();function so(n,i){1&n&&(e.ynx(0),e._UZ(1,"app-store-header-menu"),e.BQk())}function co(n,i){1&n&&e._UZ(0,"app-store-header-login-button")}let lo=(()=>{class n{constructor(t){this.sessionService=t,this.middleLabel=$localize`:Title of application:Online store`}ngOnInit(){this.isLoggedIn$=this.sessionService.userHasActiveSession$.pipe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-header"]],decls:7,vars:4,consts:[[4,"ngIf","ngIfElse"],["notLoggedIn",""]],template:function(t,o){if(1&t&&(e._UZ(0,"app-header-brand")(1,"app-store-header-navigation")(2,"app-store-header-search-form"),e.YNc(3,so,2,0,"ng-container",0),e.ALo(4,"async"),e.YNc(5,co,1,0,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,o.isLoggedIn$))("ngIfElse",r)}},directives:[Bn.d,Vn,eo,_.O5,ro,ao],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;align-items:stretch}app-header-brand[_ngcontent-%COMP%]{flex:0 0 auto;height:7rem}app-store-header-navigation[_ngcontent-%COMP%]{flex:0 0 auto}app-store-header-search-form[_ngcontent-%COMP%]{margin:0 .5rem;align-self:center}app-store-header-menu[_ngcontent-%COMP%], app-store-header-login-button[_ngcontent-%COMP%]{margin-left:auto;flex:0 0 auto}@media (max-width: 640px){[_nghost-%COMP%]{flex-flow:row wrap}app-store-header-search-form[_ngcontent-%COMP%]{flex:1 1 100%;order:5;height:120px}}@media (min-width: 641px){app-store-header-search-form[_ngcontent-%COMP%]{flex:1 0 auto;margin:.5rem 1rem}}\n/*# sourceMappingURL=store-header.component.css.map*/"]}),n})();function _o(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"strong"),e.SDv(2,11),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"a",12),e._UZ(5,"img",13),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.MGl("href","https://wa.me/",t.whatsappUrlSafeNumber,"",e.LSH),e.xp6(3),e.Oqu(t.whatsappNumber)}}function po(n,i){if(1&n&&(e.TgZ(0,"div",14)(1,"strong"),e.SDv(2,15),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"a",12),e._UZ(5,"img",16),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.MGl("href","tel://",t.contactInfo.urlSafePhone,"",e.LSH),e.xp6(3),e.Oqu(t.contactInfo.phone)}}function uo(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"strong"),e.SDv(2,18),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"a",12),e._UZ(5,"img",19),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.MGl("href","mailto:",t.contactInfo.email,"",e.LSH),e.xp6(3),e.Oqu(t.contactInfo.email)}}function go(n,i){if(1&n&&(e.TgZ(0,"li")(1,"a",12),e._UZ(2,"img",20),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.MGl("href","https://www.instagram.com/",t.contactInfo.instagram,"",e.LSH)}}function mo(n,i){if(1&n&&(e.TgZ(0,"li")(1,"a",12),e._UZ(2,"img",21),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.MGl("href","https://www.facebook.com/",t.contactInfo.facebook,"",e.LSH)}}function So(n,i){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}let ho=(()=>{class n{constructor(){this.footerParagraphs=b.N.labels.footerParagraphs,this.whatsappUrlSafeNumber=`${b.N.whatsapp.areaCode}${b.N.whatsapp.urlSafePhone}`,this.whatsappNumber=`${b.N.whatsapp.areaCode} ${b.N.whatsapp.phone}`,this.contactInfo=b.N.contactInfo}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store-footer"]],decls:15,vars:6,consts:function(){let i,t,o,r,a,l,u,C,P;return i=$localize`:Label that invites users to check social media profiles:Follow us on social media`,t=$localize`:Label for section referring to a contact WhatsApp number:WhatsApp`,o=$localize`:Label for WhatsApp icon:WhatsApp`,r=$localize`:Label for section referring to a contact phone number:Phone`,a=$localize`:Label for phone number icon:Contact phone number`,l=$localize`:Label for section referring to a contact e-mail address:E-Mail`,u=$localize`:Label for envelope (email) icon:Contact e-mail`,C=$localize`:Label for Instagram icon:Instagram`,P=$localize`:Label for Facebook icon:Facebook`,[[1,"upper"],["class","whatsapp sales contact",4,"ngIf"],["class","phone general contact",4,"ngIf"],["class","email general contact",4,"ngIf"],[1,"middle"],[1,"social"],i,[4,"ngIf"],[1,"lower"],[4,"ngFor","ngForOf"],[1,"whatsapp","sales","contact"],t,[3,"href"],["src","https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/whatsapp.svg","alt",o,"aria-hidden","true",1,"whatsapp","icon"],[1,"phone","general","contact"],r,["src","https://unpkg.com/@fortawesome/fontawesome-free/svgs/solid/phone.svg","alt",a,"aria-hidden","true",1,"phone","icon"],[1,"email","general","contact"],l,["src","https://unpkg.com/@fortawesome/fontawesome-free/svgs/solid/envelope.svg","alt",u,"aria-hidden","true",1,"envelope","icon"],["src","https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/instagram.svg","alt",C,"aria-hidden","false",1,"instagram","icon"],["src","https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/facebook.svg","alt",P,"aria-hidden","false",1,"facebook","icon"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_o,8,2,"div",1),e.YNc(2,po,8,2,"div",2),e.YNc(3,uo,8,2,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"strong"),e.SDv(7,6),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"ul"),e.YNc(10,go,3,1,"li",7),e.YNc(11,mo,3,1,"li",7),e.qZA()()(),e._UZ(12,"mat-divider"),e.TgZ(13,"div",8),e.YNc(14,So,2,1,"p",9),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.whatsappNumber),e.xp6(1),e.Q6J("ngIf",o.contactInfo.phone&&o.contactInfo.urlSafePhone),e.xp6(1),e.Q6J("ngIf",o.contactInfo.email),e.xp6(7),e.Q6J("ngIf",o.contactInfo.instagram),e.xp6(1),e.Q6J("ngIf",o.contactInfo.facebook),e.xp6(3),e.Q6J("ngForOf",o.footerParagraphs))},directives:[_.O5,K.d,_.sg],styles:["[_nghost-%COMP%]{padding:2rem 0;display:block;text-align:center}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:1.5rem;margin:.5rem;display:inline-flex;align-items:center}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{margin-right:.5rem}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:space-around;align-items:center;margin:.5rem 6rem;padding:0}.icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;font-size:1.5rem;margin-right:.5rem}.social[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem;font-size:2.25rem;margin:0}mat-divider[_ngcontent-%COMP%]{margin:1rem}.upper[_ngcontent-%COMP%], .middle[_ngcontent-%COMP%]{padding:1rem}.upper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:1rem 2rem}.middle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:1rem}.lower[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0 2rem}@media (min-width: 641px){[_nghost-%COMP%]{padding:4rem 0}.social[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{grid-auto-flow:column;justify-content:center;gap:1rem}mat-divider[_ngcontent-%COMP%]{margin:2rem 0}.upper[_ngcontent-%COMP%]{padding:1rem 10%;display:flex;flex-flow:row nowrap;justify-content:space-evenly}.lower[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}}@media (min-width: 1008px){.upper[_ngcontent-%COMP%]{padding:1rem 20%}}\n/*# sourceMappingURL=store-footer.component.css.map*/"]}),n})();function fo(n,i){if(1&n&&e._UZ(0,"app-whatsapp-button",2),2&n){const t=e.oxw();e.Q6J("areaCode",t.whatsapp.areaCode)("phone",t.whatsapp.urlSafePhone)}}let To=(()=>{class n{constructor(t,o,r){this.cartService=t,this.sessionService=o,this.router=r,this.restrictedUrl="/store/cart",this.exitUrl="/store",this.whatsapp=b.N.whatsapp,this.restrictingConditionsSub=this.watchRestrictingConditions().subscribe()}ngOnDestroy(){this.restrictingConditionsSub.unsubscribe()}watchRestrictingConditions(){return(0,ye.T)(this.cartService.cartDetails$.pipe((0,g.U)(t=>0===t.length)),this.sessionService.userHasActiveSession$.pipe((0,g.U)(t=>!t))).pipe((0,W.h)(t=>{var o,r;return t&&(null===(r=null===(o=this.router.routerState)||void 0===o?void 0:o.snapshot)||void 0===r?void 0:r.url)===this.restrictedUrl}),(0,p.b)(()=>this.router.navigateByUrl(this.exitUrl)))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(k.m),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-store"]],decls:5,vars:1,consts:[["size","2.5rem","padding","0.75rem",3,"areaCode","phone",4,"ngIf"],[1,"content"],["size","2.5rem","padding","0.75rem",3,"areaCode","phone"]],template:function(t,o){1&t&&(e.YNc(0,fo,1,2,"app-whatsapp-button",0),e._UZ(1,"app-store-header"),e.TgZ(2,"div",1),e._UZ(3,"router-outlet")(4,"app-store-footer"),e.qZA()),2&t&&e.Q6J("ngIf",o.whatsapp.enabled)},directives:[_.O5,zn.U,lo,f.lC,ho],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-flow:column nowrap}app-whatsapp-button[_ngcontent-%COMP%]{position:fixed;z-index:4;right:1rem;bottom:1rem}app-store-header[_ngcontent-%COMP%]{flex:0 0 auto}.content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto}app-store-footer[_ngcontent-%COMP%]{flex:0 0 auto}@media (min-width: 641px){app-whatsapp-button[_ngcontent-%COMP%]{right:2rem}}\n/*# sourceMappingURL=store.component.css.map*/"]}),n})();const Oo=[{path:"catalog",component:mn},{path:"cart",component:jt,canActivate:[Se]},{path:"search",component:qn},{path:"receipt",component:wn}];let Co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.Bz.forChild([{path:"",component:To,children:[...Oo,{path:"**",pathMatch:"prefix",redirectTo:"catalog"}]}])]]}),n})();const Eo={duration:5e3};let Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:U.Ve,useValue:Eo},Se,Y],imports:[[$e.m,vt,Co]]}),n})()}}]);
//# sourceMappingURL=src_app_store_store_module_ts.b6925f7153f630dc.js.map