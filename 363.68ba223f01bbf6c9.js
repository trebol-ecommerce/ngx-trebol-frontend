"use strict";(self.webpackChunkngx_trebol_frontend=self.webpackChunkngx_trebol_frontend||[]).push([[363],{6363:(oa,F,c)=>{c.r(F),c.d(F,{ManagementModule:()=>aa});var O=c(7261),pe=c(6021),G=c(2340),e=c(5e3),l=c(9808);function ue(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}let ge=(()=>{class n{constructor(){this.footerParagraphs=G.N.labels.footerParagraphs}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-footer"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,a){1&t&&e.YNc(0,ue,2,1,"p",0),2&t&&e.Q6J("ngForOf",a.footerParagraphs)},directives:[l.sg],styles:["[_nghost-%COMP%]{display:grid;grid-gap:.5rem;gap:.5rem;text-align:center;padding:1rem 0}p[_ngcontent-%COMP%]{margin:0}"]}),n})();var x=c(2198),f=c(2868),U=c(900),fe=c(3469),_=c(170),u=c(8810),D=c(591),Me=c(3164),g=c(4850);let I=(()=>{class n{constructor(t){this.router=t,this.isSidenavOpen=!0,this.isSidenavOpenSource=new D.X(!0),this.isSidenavOpen$=this.isSidenavOpenSource.asObservable(),this.activeRouteSnapshot$=this.router.events.pipe((0,x.h)(a=>a instanceof u.jw),(0,Me.p)(50),(0,g.U)(a=>a.snapshot)),this.currentPageName$=this.activeRouteSnapshot$.pipe((0,g.U)(a=>a.data.title))}switchSidenav(){this.isSidenavOpen=!this.isSidenavOpen,this.isSidenavOpenSource.next(this.isSidenavOpen)}ngOnDestroy(){this.isSidenavOpenSource.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var M=c(8966),P=c(5693),C=c(7423),S=c(8099),k=c(2181);function Ce(n,o){if(1&n&&e._UZ(0,"img",13),2&n){const t=e.oxw();e.Q6J("src",t.appLogo.url,e.LSH)("alt",t.appTitle)}}function Se(n,o){if(1&n&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.appTitle)}}const Te=function(){return["/store"]};let Ee=(()=>{class n{constructor(t,a,i,r,d,m){this.service=t,this.appService=a,this.dialogService=i,this.sharedDialogService=r,this.router=d,this.snackBarService=m,this.appTitle=G.N.labels.name,this.appLogo=G.N.staticImages.logo,this.moduleName$=this.service.currentPageName$.pipe(),this.userName$=this.appService.userName$.pipe()}switchSidenavOpenState(){this.service.switchSidenav()}onClickEditProfile(){this.dialogService.open(fe.g,{width:"40rem"})}onClickLogout(){this.sharedDialogService.requestConfirmation({title:$localize`:Title of dialog prompt for logging out:Log out?`,message:$localize`:Label to hint user that any undergoing process may be lost when logging out:Any unsaved data may be lost`}).pipe((0,x.h)(t=>t),(0,f.b)(()=>{this.appService.closeCurrentSession(),this.router.navigateByUrl("/");const t=$localize`:Message after logging out:You have logged out`;this.snackBarService.open(t,_.ec)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I),e.Y36(U.z),e.Y36(M.uw),e.Y36(P.C),e.Y36(u.F0),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-header"]],decls:34,vars:11,consts:function(){let o,t,a,i;return o=$localize`:toggle sidebar|Label for action button to show/hide sidebar:Toggle sidebar`,t=$localize`:Label for link button to navigate to storefront:Storefront`,a=$localize`:edit profile|Label for action button to prompt profile edit:Edit profile`,i=$localize`:log out|Label for action button to log out:Log out`,[["mat-button","","type","button","color","warn","aria-label",o,1,"toggle-sidenav","action",3,"click"],["routerLink","/"],[3,"src","alt",4,"ngIf","ngIfElse"],["title",""],[1,"middle"],["headerMenu",""],["mat-menu-item","","disabled",""],["mat-menu-item","","type","button",1,"navigate-store",3,"routerLink"],t,["mat-menu-item","","type","button",3,"click"],a,i,["mat-button","","type","button",1,"open-menu","action",3,"matMenuTriggerFor"],[3,"src","alt"]]},template:function(t,a){if(1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return a.switchSidenavOpenState()}),e.TgZ(1,"mat-icon"),e._uU(2,"menu"),e.qZA()(),e.TgZ(3,"a",1),e.YNc(4,Ce,1,2,"img",2),e.YNc(5,Se,2,1,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(7,"div",4)(8,"span"),e._uU(9),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"mat-menu",null,5)(13,"span",6),e._uU(14),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"button",7)(17,"mat-icon"),e._uU(18,"storefront"),e.qZA(),e.TgZ(19,"span"),e.SDv(20,8),e.qZA()(),e.TgZ(21,"button",9),e.NdJ("click",function(){return a.onClickEditProfile()}),e.TgZ(22,"mat-icon"),e._uU(23,"edit"),e.qZA(),e.TgZ(24,"span"),e.SDv(25,10),e.qZA()(),e.TgZ(26,"button",9),e.NdJ("click",function(){return a.onClickLogout()}),e.TgZ(27,"mat-icon"),e._uU(28,"exit_to_app"),e.qZA(),e.TgZ(29,"span"),e.SDv(30,11),e.qZA()()(),e.TgZ(31,"button",12)(32,"mat-icon"),e._uU(33,"person"),e.qZA()()),2&t){const i=e.MAs(6),r=e.MAs(12);e.xp6(4),e.Q6J("ngIf",null==a.appLogo?null:a.appLogo.url)("ngIfElse",i),e.xp6(5),e.Oqu(e.lcZ(10,6,a.moduleName$)),e.xp6(5),e.Oqu(e.lcZ(15,8,a.userName$)),e.xp6(2),e.Q6J("routerLink",e.DdM(10,Te)),e.xp6(15),e.Q6J("matMenuTriggerFor",r)}},directives:[C.lW,S.Hw,u.yS,l.O5,k.VK,k.OP,u.rH,k.p6],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;align-items:stretch}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{display:inline-flex;flex-flow:row nowrap}a[_ngcontent-%COMP%]{padding:0 .5rem;display:flex;align-items:center;justify-content:center;cursor:pointer}a[_ngcontent-%COMP%]:hover{background-color:#0003}a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:4rem}.middle[_ngcontent-%COMP%]{flex:1 1 auto;font-size:1.25rem;justify-content:center;align-items:center}.action[_ngcontent-%COMP%]{flex:0 0 auto;justify-content:center;align-items:center;padding:0 1rem}.action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;font-size:4rem}@media (min-width: 641px){a[_ngcontent-%COMP%]{padding:0 1rem}a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:7rem}.action[_ngcontent-%COMP%]{padding:0}.action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:3rem}}"]}),n})();var he=c(8655),Ne=c(8504),T=c(1434);let v=(()=>{class n{constructor(t){this.apiAccessService=t}resolve(t,a){return this.apiAccessService.getResourceAuthorizedAccess(t.routeConfig.path)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.u.access))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var E=c(1086),L=c(7545),N=c(7221);let Y=(()=>{class n{constructor(t,a,i){this.apiAccessService=t,this.router=a,this.appService=i}canActivate(t,a){return this.appService.validateSession().pipe((0,f.b)(i=>{i||this.router.navigateByUrl("/")}))}canActivateChild(t,a){const i=t.routeConfig.path;return"dashboard"===i?this.canActivate(t,a):this.apiAccessService.getResourceAuthorizedAccess(i).pipe((0,L.w)(r=>{var d;const m=!!(null===(d=r.permissions)||void 0===d?void 0:d.length);return m||this.router.navigateByUrl("/management"),(0,E.of)(m)}),(0,N.K)(r=>(this.router.navigateByUrl(403===r.status?"/management":"/"),(0,E.of)(!1))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.u.access),e.LFG(u.F0),e.LFG(U.z))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),H=(()=>{class n{constructor(t){this.service=t}ngOnInit(){this.isSidenavOpen$=this.service.isSidenavOpen$.pipe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management"]],decls:8,vars:3,consts:[["mode","side","role","navigation",3,"opened"],["role","main",1,"content"]],template:function(t,a){1&t&&(e._UZ(0,"app-management-header"),e.TgZ(1,"mat-sidenav-container")(2,"mat-sidenav",0),e.ALo(3,"async"),e._UZ(4,"app-management-sidenav"),e.qZA(),e.TgZ(5,"mat-sidenav-content",1),e._UZ(6,"router-outlet"),e.qZA()(),e._UZ(7,"app-management-footer")),2&t&&(e.xp6(2),e.Q6J("opened",e.lcZ(3,1,a.isSidenavOpen$)))},styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-flow:column nowrap}app-management-header[_ngcontent-%COMP%]{flex:0 0 auto}mat-sidenav-container[_ngcontent-%COMP%]{flex:1 1 auto}mat-sidenav[_ngcontent-%COMP%]{width:15rem}.content[_ngcontent-%COMP%]{overflow:hidden}app-management-footer[_ngcontent-%COMP%]{flex:0 0 auto}"]}),n})();var Ae=c(2986);let B=(()=>{class n{constructor(){this.pageSizeOptions=[10,20,50,100]}ngOnInit(){this.init(this.service)}onSortChange(t){this.service.sortBy=t.active,this.service.order=t.direction,this.service.reloadItems()}onPage(t){this.service.pageIndex=t.pageIndex,this.service.pageSize=t.pageSize,this.service.reloadItems()}init(t){this.loading$=t.loading$.pipe(),this.busy$=t.focusedItems$.pipe((0,g.U)(a=>(null==a?void 0:a.length)>0)),this.items$=t.items$.pipe(),this.totalCount$=t.totalCount$.pipe(),this.canEdit$=t.canEdit$.pipe(),this.canAdd$=t.canAdd$.pipe(),this.canDelete$=t.canDelete$.pipe(),t.pageSize=this.pageSizeOptions[0],this.route.data.pipe((0,Ae.q)(1),(0,f.b)(a=>{this.service.updateAccess(a.access),this.service.reloadItems()})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n}),n})();var z=c(6831),Oe=c(6792),Z=c(537);let q=(()=>{class n{constructor(){this.focusedItemsSource=new D.X([]),this.pageSource=new z.t,this.loadingSource=new D.X(!1),this.authorizedAccessSource=new z.t,this.focusedItems$=this.focusedItemsSource.asObservable(),this.loading$=this.loadingSource.asObservable(),this.items$=this.pageSource.asObservable().pipe((0,g.U)(t=>t.items)),this.totalCount$=this.pageSource.asObservable().pipe((0,g.U)(t=>t.totalCount)),this.canEdit$=this.authorizedAccessSource.asObservable().pipe((0,g.U)(t=>{var a;return null===(a=null==t?void 0:t.permissions)||void 0===a?void 0:a.includes("update")})),this.canAdd$=this.authorizedAccessSource.asObservable().pipe((0,g.U)(t=>{var a;return null===(a=null==t?void 0:t.permissions)||void 0===a?void 0:a.includes("create")})),this.canDelete$=this.authorizedAccessSource.asObservable().pipe((0,g.U)(t=>{var a;return null===(a=null==t?void 0:t.permissions)||void 0===a?void 0:a.includes("delete")}))}get focusedItems(){return this.focusedItemsSource.getValue()}set focusedItems(t){this.focusedItemsSource.next(t)}ngOnDestroy(){var t;this.focusedItemsSource.complete(),this.pageSource.complete(),this.loadingSource.complete(),null===(t=this.fetchingSubscription)||void 0===t||t.unsubscribe()}reloadItems(){var t;null===(t=this.fetchingSubscription)||void 0===t||t.unsubscribe(),this.focusedItemsSource.next([]),this.loadingSource.next(!0),this.fetchingSubscription=this.dataService.fetchPage(this.pageIndex,this.pageSize,this.sortBy,this.order,this.filters).pipe((0,Oe.g)(1e3),(0,f.b)(a=>{this.pageSource.next(a)}),(0,Z.x)(()=>{this.loadingSource.next(!1)})).subscribe()}updateAccess(t){this.authorizedAccessSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n}),n})(),j=(()=>{class n extends q{constructor(t){super(),this.dataService=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.u.dataCustomers))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var A=c(7067),s=c(2075),p=c(4847),b=c(9062);function Pe(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function be(n,o){1&n&&(e.TgZ(0,"th",11),e.SDv(1,12),e.qZA())}function ve(n,o){if(1&n&&(e.TgZ(0,"td",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.AsE(" ",t.person.firstName," ",t.person.lastName," ")}}function Le(n,o){1&n&&(e.TgZ(0,"th",11),e.SDv(1,14),e.qZA())}function Re(n,o){if(1&n&&(e.TgZ(0,"td",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.person.idNumber," ")}}function $e(n,o){1&n&&e._UZ(0,"tr",15)}function ye(n,o){1&n&&e._UZ(0,"tr",16)}let Ze=(()=>{class n extends B{constructor(t,a){super(),this.service=t,this.route=a,this.tableColumns=["name","idNumber"]}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-customers"]],features:[e.qOj],decls:17,vars:14,consts:function(){let o,t;return o=$localize`:person full name|Name of table header for full name of person:Name`,t=$localize`:person id number|Name of table header for id number of person:Id number`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idNumber"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],t,["mat-header-row",""],["mat-row",""]]},template:function(t,a){1&t&&(e.YNc(0,Pe,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,be,2,0,"th",5),e.YNc(8,ve,2,2,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,Le,2,0,"th",5),e.YNc(11,Re,2,1,"td",6),e.BQk(),e.YNc(12,$e,1,0,"tr",8),e.YNc(13,ye,1,0,"tr",9),e.qZA()(),e.TgZ(14,"div")(15,"mat-paginator",10),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(16,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,8,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,10,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(7),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(16,12,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk,b.NW],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-name[_ngcontent-%COMP%], .mat-column-idNumber[_ngcontent-%COMP%]{min-width:8rem}"]}),n})(),xe=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-dashboard"]],decls:0,vars:0,template:function(t,a){},styles:[""]}),n})();var De=c(6353);let R=(()=>{class n extends B{onClickEdit(t){this.edit(t).subscribe()}onClickAdd(){this.edit(void 0).subscribe()}edit(t){return this.service.focusedItems=[t],this.dialogService.open(De._,this.createDialogProperties(t)).afterClosed().pipe((0,f.b)(a=>{this.service.focusedItems=[],a&&this.service.reloadItems()}))}}return n.\u0275fac=function(){let o;return function(a){return(o||(o=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})();var W=c(567),we=c(7604);let $=(()=>{class n extends q{constructor(t){super(),this.sharedDialogService=t}removeItems(t){return this.focusedItems=t,this.sharedDialogService.requestConfirmation({title:$localize`:Title of dialog prompt to confirm deletion:Confirm deletion`,message:$localize`:Paragraph asking confirmation to delete a portion of data, reminding that it cannot be undone:Are you sure you want to delete this item?`}).pipe((0,x.h)(a=>a),(0,L.w)(()=>(0,W.D)(t.map(a=>this.dataService.delete(a).pipe((0,we.h)(!0),(0,N.K)(()=>(0,E.of)(!1)))))),(0,Z.x)(()=>this.focusedItems=[]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.C))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})(),V=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataImages))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),y=(()=>{class n{constructor(){this.add=new e.vpe}onClickAdd(){this.add.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-data-actions"]],outputs:{add:"add"},decls:2,vars:0,consts:function(){let o;return o=$localize`:create new item|Label for action button to create an item:Create`,[["mat-button","","mat-raised-button","","color","primary",3,"click"],o]},template:function(t,a){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return a.onClickAdd()}),e.SDv(1,1),e.qZA())},directives:[C.lW],styles:["[_nghost-%COMP%]{display:grid;justify-content:center;padding:.5rem 0}@media (min-width: 641px){[_nghost-%COMP%]{justify-content:flex-end;padding:.5rem}}"]}),n})();function Ie(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function Ge(n,o){1&n&&(e.TgZ(0,"th",14),e.SDv(1,15),e.qZA())}function Ue(n,o){if(1&n&&(e.TgZ(0,"td",16),e._UZ(1,"img",17),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t.url,e.LSH)}}function ke(n,o){1&n&&(e.TgZ(0,"th",18),e.SDv(1,19),e.qZA())}function Ye(n,o){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.filename," ")}}function ze(n,o){1&n&&e._UZ(0,"th",14)}function Je(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Qe(n,o){if(1&n&&(e.TgZ(0,"td",16),e.YNc(1,Je,4,3,"button",20),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.canDelete$))}}function Xe(n,o){1&n&&e._UZ(0,"tr",22)}function Fe(n,o){1&n&&e._UZ(0,"tr",23)}function He(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",24),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}let Be=(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["thumb","filename","actions"]}ngOnInit(){super.init(this.service)}createDialogProperties(t){return{data:{item:t,entityType:"image",apiService:this.service.dataService},width:"40rem"}}onClickDelete(t){this.service.removeItems([t]).pipe((0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting an image with filename {{ fileName }}:Image '${t.filename}:fileName:' deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-images"]],features:[e.qOj],decls:22,vars:17,consts:function(){let o,t,a;return o=$localize`:image|Name of table header for image preview:Image`,t=$localize`:image filename|Name of table header for image filename:Filename`,a=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","thumb"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","filename"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell",""],o,["mat-cell",""],["alt","",3,"src"],["mat-header-cell","","mat-sort-header",""],t,["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",a,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",a,3,"disabled","click"],["mat-header-row",""],["mat-row",""],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,Ie,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,Ge,2,0,"th",5),e.YNc(8,Ue,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,ke,2,0,"th",8),e.YNc(11,Ye,2,1,"td",6),e.BQk(),e.ynx(12,9),e.YNc(13,ze,1,0,"th",5),e.YNc(14,Qe,3,3,"td",6),e.BQk(),e.YNc(15,Xe,1,0,"tr",10),e.YNc(16,Fe,1,0,"tr",11),e.qZA()(),e.TgZ(17,"div"),e.YNc(18,He,1,0,"app-management-data-actions",12),e.ALo(19,"async"),e.TgZ(20,"mat-paginator",13),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(21,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(10),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(21,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,s.Dz,s.ev,p.nU,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-thumb[_ngcontent-%COMP%]{padding:4px .5rem 0;min-width:6rem;max-width:8rem}.mat-column-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:3rem}.mat-column-filename[_ngcontent-%COMP%]{min-width:6rem}.mat-column-actions[_ngcontent-%COMP%]{min-width:2rem;max-width:2rem}"]}),n})(),K=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataProductCategories))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var qe=c(8358);function je(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function We(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",5),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e._uU(1,"- "),e.qZA()}}let Ve=(()=>{class n extends R{constructor(t,a,i){super(),this.service=t,this.dialogService=a,this.route=i,this.loading=!0}ngOnInit(){super.init(this.service)}createDialogProperties(t){return{data:{item:t,entityType:"productCategory",apiService:this.service.dataService},width:"40rem"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K),e.Y36(M.uw),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-product-categories"]],features:[e.qOj],decls:9,vars:13,consts:[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],[3,"categories","editable"],[3,"add",4,"ngIf"],[3,"add"]],template:function(t,a){1&t&&(e.YNc(0,je,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2),e._UZ(5,"app-product-category-tree",3),e.ALo(6,"async"),e.qZA(),e.YNc(7,We,2,0,"app-management-data-actions",4),e.ALo(8,"async"),e.qZA()),2&t&&(e.Q6J("ngIf",e.lcZ(1,5,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,7,a.loading$)),e.xp6(3),e.Q6J("categories",e.lcZ(6,9,a.items$))("editable",!0),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,11,a.canAdd$)))},directives:[l.O5,A.Z,qe.G,y],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-thumb[_ngcontent-%COMP%]{padding:4px .5rem 0}.mat-column-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:3rem}.mat-column-filename[_ngcontent-%COMP%]{max-width:100%}td.mat-column-filename[_ngcontent-%COMP%]{padding-top:1.75rem;padding-bottom:1.75rem}.mat-column-actions[_ngcontent-%COMP%]{width:3rem}"]}),n})();var J=c(5427);let ee=(()=>{class n{constructor(t){this.listApiService=t,this.pageSource=new z.t(1),this.loadingSource=new D.X(!1),this.page$=this.pageSource.asObservable(),this.loading$=this.loadingSource.asObservable(),this.pageIndex=0,this.pageSize=10,this.sortBy="",this.order=""}ngOnDestroy(){var t;null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe(),this.pageSource.complete(),this.loadingSource.complete()}reloadItems(){var t;this.loadingSource.next(!0),null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe(),this.loadingSubscription=this.listApiService.fetchContents(this.list,this.pageIndex,this.pageSize,this.sortBy,this.order).pipe((0,f.b)(a=>this.pageSource.next(a)),(0,Z.x)(()=>this.loadingSource.next(!1))).subscribe()}addProduct(t){return this.listApiService.addToContents(this.list,t)}replaceProductsWith(t){return this.listApiService.updateContents(this.list,t)}removeProduct(t){return this.listApiService.deleteFromContents(this.list,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.u.dataProductLists))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Ke(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function et(n,o){1&n&&(e.TgZ(0,"th",21),e.SDv(1,22),e.qZA())}function tt(n,o){if(1&n&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function nt(n,o){1&n&&(e.TgZ(0,"th",21),e.SDv(1,24),e.qZA())}function at(n,o){if(1&n&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.barcode," ")}}function ot(n,o){1&n&&(e.TgZ(0,"th",21),e.SDv(1,25),e.qZA())}function it(n,o){if(1&n&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.price)," ")}}function rt(n,o){1&n&&e._UZ(0,"th",26)}function st(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",23)(1,"button",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().onClickRemoveProduct(r)}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function ct(n,o){1&n&&e._UZ(0,"tr",28)}function lt(n,o){1&n&&e._UZ(0,"tr",29)}let _t=(()=>{class n{constructor(t,a,i){this.data=t,this.service=a,this.dialog=i,this.productTableColumns=["name","barcode","price","actions"],this.pageSizeOptions=[5,10,20,50,100],this.service.list=this.data.list,this.service.pageSize=this.pageSizeOptions[0],this.loading$=this.service.loading$.pipe(),this.products$=this.service.page$.pipe((0,g.U)(r=>r.items)),this.totalCount$=this.service.page$.pipe((0,g.U)(r=>r.totalCount)),this.isArrayEmpty$=this.products$.pipe((0,g.U)(r=>0===r.length))}ngOnInit(){this.service.reloadItems()}onSortChange(t){this.service.sortBy=t.active,this.service.order=t.direction,this.service.reloadItems()}onPage(t){this.service.pageIndex=t.pageIndex,this.service.pageSize=t.pageSize,this.service.reloadItems()}onClickAddProducts(){this.dialog.open(J.j,{maxHeight:"90vh"}).afterClosed().pipe((0,L.w)(t=>t&&Array.isArray(t)?(0,W.D)(t.map(a=>this.service.addProduct(a))):(0,E.of)(void 0)),(0,Z.x)(()=>this.service.reloadItems())).subscribe()}onClickChooseProducts(){this.dialog.open(J.j,{maxHeight:"90vh"}).afterClosed().pipe((0,L.w)(t=>t&&Array.isArray(t)?this.service.replaceProductsWith(t):(0,E.of)(void 0)),(0,Z.x)(()=>this.service.reloadItems())).subscribe()}onClickRemoveProduct(t){this.service.removeProduct(t).pipe((0,f.b)(()=>this.service.reloadItems())).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.WI),e.Y36(ee),e.Y36(M.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-list-contents-dialog"]],features:[e._Bn([ee])],decls:33,vars:18,consts:function(){let o,t,a,i,r,d,m;return o=$localize`:add more products to list|Label for action button to start selecting products to add to a list:Add more`,t=$localize`:choose products for list|Label for action button to start selecting products to replace a list's contents with:Replace all`,a=$localize`:close|Label for action button to close a window or dialog:Close`,i=$localize`:product name|Name of table header for name of product:Name`,r=$localize`:product barcode|Name of table header for barcode of product:Barcode`,d=$localize`:Name of table header for price per product unit:Price`,m=$localize`:remove product from list|Label for action button to remove product from a list:Remove this product`,[["mat-dialog-title",""],[4,"ngIf"],[3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","barcode"],["matColumnDef","price"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],[1,"actions"],["mat-button","","mat-raised-button","","type","button","color","primary",3,"click"],o,t,["mat-button","","mat-raised-button","","type","button","mat-dialog-close","",3,"disabled"],a,["mat-header-cell","","mat-sort-header",""],i,["mat-cell",""],r,d,["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",m,3,"click"],["mat-header-row",""],["mat-row",""]]},template:function(t,a){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.YNc(2,Ke,1,0,"app-centered-mat-spinner",1),e.ALo(3,"async"),e.TgZ(4,"div",2),e.ALo(5,"async"),e.TgZ(6,"div",3)(7,"table",4),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(8,5),e.YNc(9,et,2,0,"th",6),e.YNc(10,tt,2,1,"td",7),e.BQk(),e.ynx(11,8),e.YNc(12,nt,2,0,"th",6),e.YNc(13,at,2,1,"td",7),e.BQk(),e.ynx(14,9),e.YNc(15,ot,2,0,"th",6),e.YNc(16,it,3,3,"td",7),e.BQk(),e.ynx(17,10),e.YNc(18,rt,1,0,"th",11),e.YNc(19,st,4,0,"td",7),e.BQk(),e.YNc(20,ct,1,0,"tr",12),e.YNc(21,lt,1,0,"tr",13),e.qZA()(),e.TgZ(22,"div")(23,"mat-paginator",14),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(24,"async"),e.qZA()(),e.TgZ(25,"div",15)(26,"button",16),e.NdJ("click",function(){return a.onClickAddProducts()}),e.SDv(27,17),e.qZA(),e.TgZ(28,"button",16),e.NdJ("click",function(){return a.onClickChooseProducts()}),e.SDv(29,18),e.qZA(),e.TgZ(30,"button",19),e.SDv(31,20),e.ALo(32,"async"),e.qZA()()()),2&t&&(e.xp6(1),e.Oqu(a.data.list.name),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,10,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,12,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.products$),e.xp6(13),e.Q6J("matHeaderRowDef",a.productTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.productTableColumns),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(24,14,a.totalCount$)),e.xp6(7),e.Q6J("disabled",e.lcZ(32,16,a.isArrayEmpty$)))},directives:[M.uh,l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,b.NW,M.ZT],pipes:[l.Ov,l.H9],styles:["h2[_ngcontent-%COMP%]{margin-top:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding-left:.5rem}.table-wrapper[_ngcontent-%COMP%]{overflow:scroll;height:14.5rem}.mat-column-name[_ngcontent-%COMP%], .mat-column-barcode[_ngcontent-%COMP%], .mat-column-price[_ngcontent-%COMP%]{min-width:6rem}.mat-column-actions[_ngcontent-%COMP%]{min-width:2rem;max-width:2rem}div.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}"]}),n})(),te=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataProductLists))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function mt(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function dt(n,o){1&n&&(e.TgZ(0,"th",15),e.SDv(1,16),e.qZA())}function pt(n,o){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function ut(n,o){1&n&&(e.TgZ(0,"th",15),e.SDv(1,18),e.qZA())}function gt(n,o){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function ft(n,o){1&n&&(e.TgZ(0,"th",15),e.SDv(1,19),e.qZA())}function Mt(n,o){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.totalCount||0," ")}}function Ct(n,o){1&n&&e._UZ(0,"th",20)}function St(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickViewContents(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"list"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Tt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickEdit(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function ht(n,o){if(1&n&&(e.TgZ(0,"td",17),e.YNc(1,St,4,3,"button",21),e.ALo(2,"async"),e.YNc(3,Tt,4,3,"button",22),e.ALo(4,"async"),e.YNc(5,Et,4,3,"button",23),e.ALo(6,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,5,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,7,t.canDelete$))}}function Nt(n,o){1&n&&e._UZ(0,"tr",27)}function At(n,o){1&n&&e._UZ(0,"tr",28)}function Ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",29),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}let Pt=(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["code","name","totalCount","actions"]}ngOnInit(){super.init(this.service)}onClickViewContents(t){this.dialogService.open(_t,{data:{list:t}})}onClickDelete(t){this.service.removeItems([t]).pipe((0,g.U)(a=>a[0]),(0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting a product list with name {{ name }}:Product list '${t.name}:name:' deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}createDialogProperties(t){return{data:{item:t,entityType:"productList",apiService:this.service.dataService},width:"40rem"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(te),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-product-lists"]],features:[e.qOj],decls:25,vars:17,consts:function(){let o,t,a,i,r,d;return o=$localize`:product list code|Name of table header for code of product list:Code`,t=$localize`:product list name|Name of table header for name of product list:Name`,a=$localize`:product list total count|Name of table header for total count of products in a list:Count`,i=$localize`:view contents of list|Label for action button to view contents of a list:View contents`,r=$localize`:edit|Label for action button to edit information of an item:Edit`,d=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","totalCount"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],t,a,["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",i,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",r,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",d,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",i,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",r,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",d,3,"disabled","click"],["mat-header-row",""],["mat-row",""],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,mt,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,dt,2,0,"th",5),e.YNc(8,pt,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,ut,2,0,"th",5),e.YNc(11,gt,2,1,"td",6),e.BQk(),e.ynx(12,8),e.YNc(13,ft,2,0,"th",5),e.YNc(14,Mt,2,1,"td",6),e.BQk(),e.ynx(15,9),e.YNc(16,Ct,1,0,"th",10),e.YNc(17,ht,7,9,"td",6),e.BQk(),e.YNc(18,Nt,1,0,"tr",11),e.YNc(19,At,1,0,"tr",12),e.qZA()(),e.TgZ(20,"div"),e.YNc(21,Ot,1,0,"app-management-data-actions",13),e.ALo(22,"async"),e.TgZ(23,"mat-paginator",14),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(24,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(13),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(22,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(24,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-name[_ngcontent-%COMP%]{min-width:6rem}.mat-column-code[_ngcontent-%COMP%]{min-width:6rem;max-width:12rem}.mat-column-totalCount[_ngcontent-%COMP%]{min-width:3rem;max-width:6rem}.mat-column-actions[_ngcontent-%COMP%]{min-width:8rem;width:8rem}"]}),n})(),ne=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataProducts))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function bt(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function vt(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,17),e.qZA())}function Lt(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Rt(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,19),e.qZA())}function $t(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.barcode," ")}}function yt(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,20),e.qZA())}function Zt(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.price)," ")}}function xt(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,21),e.qZA())}function Dt(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.category.name," ")}}function wt(n,o){1&n&&e._UZ(0,"th",22)}function It(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickEdit(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Gt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Ut(n,o){if(1&n&&(e.TgZ(0,"td",18),e.YNc(1,It,4,3,"button",23),e.ALo(2,"async"),e.YNc(3,Gt,4,3,"button",24),e.ALo(4,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.canDelete$))}}function kt(n,o){1&n&&e._UZ(0,"tr",27)}function Yt(n,o){1&n&&e._UZ(0,"tr",28)}function zt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",29),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}let Jt=(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["name","barcode","price","actions"]}ngOnInit(){super.init(this.service)}createDialogProperties(t){return{data:{item:t,entityType:"product",apiService:this.service.dataService},width:"40rem",maxHeight:"80vh"}}onClickDelete(t){this.service.removeItems([t]).pipe((0,g.U)(a=>a[0]),(0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting a product with name {{ name }}:Product '${t.name}:name:' deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ne),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-products"]],features:[e.qOj],decls:28,vars:17,consts:function(){let o,t,a,i,r,d;return o=$localize`:product name|Name of table header for name of product:Name`,t=$localize`:product barcode|Name of table header for barcode of product:Barcode`,a=$localize`:Name of table header for price per product unit:Price`,i=$localize`:Name of table header for category of product:Category`,r=$localize`:edit|Label for action button to edit information of an item:Edit`,d=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","barcode"],["matColumnDef","price"],["matColumnDef","category"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],t,a,i,["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",r,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",d,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",r,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",d,3,"disabled","click"],["mat-header-row",""],["mat-row",""],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,bt,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,vt,2,0,"th",5),e.YNc(8,Lt,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,Rt,2,0,"th",5),e.YNc(11,$t,2,1,"td",6),e.BQk(),e.ynx(12,8),e.YNc(13,yt,2,0,"th",5),e.YNc(14,Zt,3,3,"td",6),e.BQk(),e.ynx(15,9),e.YNc(16,xt,2,0,"th",5),e.YNc(17,Dt,2,1,"td",6),e.BQk(),e.ynx(18,10),e.YNc(19,wt,1,0,"th",11),e.YNc(20,Ut,5,6,"td",6),e.BQk(),e.YNc(21,kt,1,0,"tr",12),e.YNc(22,Yt,1,0,"tr",13),e.qZA()(),e.TgZ(23,"div"),e.YNc(24,zt,1,0,"app-management-data-actions",14),e.ALo(25,"async"),e.TgZ(26,"mat-paginator",15),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(27,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(16),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(25,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(27,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov,l.H9],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-name[_ngcontent-%COMP%], .mat-column-barcode[_ngcontent-%COMP%], .mat-column-price[_ngcontent-%COMP%], .mat-column-category[_ngcontent-%COMP%]{min-width:6rem}.mat-column-actions[_ngcontent-%COMP%]{min-width:6rem;width:6rem}"]}),n})();var Qt=c(8896),Xt=c(1737),ae=c(6182);let Q=(()=>{class n extends ${constructor(t,a){super(t),this.sharedDialogService=t,this.dataService=a}markRejected(t){return this.sharedDialogService.requestConfirmation({title:$localize`:Title of generic confirmation dialog:Confirmation required`,message:$localize`:Label to hint user that rejections cannot be undone, and they do not trigger automatic refunds:The sell will remain read-only. Any refunds will have to be issued manually. This operation cannot be undone. Are you sure you want to reject this order?`}).pipe((0,x.h)(a=>!!a),(0,L.w)(()=>this.dataService.markAsRejected(t)))}markConfirmed(t){return this.sharedDialogService.requestConfirmation({title:$localize`:Title of generic confirmation dialog:Confirmation required`,message:$localize`:Label to hint user that confirmations cannot be undone, and they trigger an automatic mail to the customer:The customer will be notified and sent a receipt by e-mail. This operation cannot be undone. Are you sure you want to confirm this order?`}).pipe((0,x.h)(a=>!!a),(0,L.w)(()=>this.dataService.markAsConfirmed(t)))}markComplete(t){return this.sharedDialogService.requestConfirmation({title:$localize`:Title of generic confirmation dialog:Confirmation required`,message:$localize`:Label to hint user that completions cannot be undone:The sell will remain read-only. This operation cannot be undone. Are you sure you want to mark this order as completed?`}).pipe((0,x.h)(a=>!!a),(0,L.w)(()=>this.dataService.markAsCompleted(t)))}fetch(t){return this.dataService.fetchExisting(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataSales))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Ft=c(6529),oe=c(4834),Ht=c(7366);let Bt=(()=>{class n{constructor(t,a,i){this.data=t,this.salesService=a,this.snackBarService=i,this.busyStatusSource=new D.X(!1),this.isBusy$=this.busyStatusSource.asObservable().pipe()}get dialogTitle(){return $localize`:Title of dialog used to view details of one sell:Details of sell #${this.data.sell.buyOrder}:buyOrder:`}get isNotPaid(){var t;return(null===(t=this.data.sell)||void 0===t?void 0:t.status)!==ae.s.get(3)}get isNotConfirmed(){var t;return(null===(t=this.data.sell)||void 0===t?void 0:t.status)!==ae.s.get(4)}ngOnDestroy(){var t;this.busyStatusSource.complete(),null===(t=this.operationSub)||void 0===t||t.unsubscribe()}onClickReject(){var t;null===(t=this.operationSub)||void 0===t||t.unsubscribe(),this.operationSub=this.updateSellDataAfter(this.salesService.markRejected(this.data.sell),$localize`:Message of success after rejecting an order:Sell was rejected`).subscribe()}onClickConfirm(){var t;null===(t=this.operationSub)||void 0===t||t.unsubscribe(),this.operationSub=this.updateSellDataAfter(this.salesService.markConfirmed(this.data.sell),$localize`:Message of success after confirming an order:Sell was confirmed`).subscribe()}onClickComplete(){var t;null===(t=this.operationSub)||void 0===t||t.unsubscribe(),this.operationSub=this.updateSellDataAfter(this.salesService.markComplete(this.data.sell),$localize`:Message of success after completing an order:Congratulations! Sell is complete`).subscribe()}updateSellDataAfter(t,a){return t.pipe((0,f.b)(()=>{this.busyStatusSource.next(!0),this.salesService.reloadItems(),this.snackBarService.open(a,_.ec)}),(0,L.w)(()=>this.salesService.fetch(this.data.sell)),(0,f.b)(i=>this.data.sell=i),(0,N.K)(i=>(this.snackBarService.open(_.cA,_.ec),(0,Xt._)(i))),(0,Z.x)(()=>this.busyStatusSource.next(!1)))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.WI),e.Y36(Q),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-sell-review-dialog"]],decls:24,vars:12,consts:function(){let o,t,a;return o=$localize`:Label for action button to trigger rejection of an order:Reject`,t=$localize`:Label for action to trigger confirmation/marking an order as reviewed:Confirm`,a=$localize`:Label for action to trigger marking an order as completed:Complete`,[[3,"sell"],[1,"actions"],["type","button","mat-button","","mat-raised-button","","color","warn",1,"reject",3,"disabled","click"],o,["type","button","mat-button","","mat-raised-button","",1,"confirm",3,"disabled","click"],t,["type","button","mat-button","","mat-raised-button","","color","accent",1,"complete",3,"disabled","click"],a]},template:function(t,a){1&t&&(e.TgZ(0,"h1"),e._uU(1),e.qZA(),e._UZ(2,"app-sell-information",0)(3,"mat-divider")(4,"app-sell-details-table",0),e.TgZ(5,"div",1)(6,"button",2),e.NdJ("click",function(){return a.onClickReject()}),e.ALo(7,"async"),e.TgZ(8,"mat-icon"),e._uU(9,"block"),e.qZA(),e.TgZ(10,"span"),e.SDv(11,3),e.qZA()(),e.TgZ(12,"button",4),e.NdJ("click",function(){return a.onClickConfirm()}),e.ALo(13,"async"),e.TgZ(14,"mat-icon"),e._uU(15,"done"),e.qZA(),e.TgZ(16,"span"),e.SDv(17,5),e.qZA()(),e.TgZ(18,"button",6),e.NdJ("click",function(){return a.onClickComplete()}),e.ALo(19,"async"),e.TgZ(20,"mat-icon"),e._uU(21,"done_all"),e.qZA(),e.TgZ(22,"span"),e.SDv(23,7),e.qZA()()()),2&t&&(e.xp6(1),e.Oqu(a.dialogTitle),e.xp6(1),e.Q6J("sell",a.data.sell),e.xp6(2),e.Q6J("sell",a.data.sell),e.xp6(2),e.Q6J("disabled",a.isNotPaid||e.lcZ(7,6,a.isBusy$)),e.xp6(6),e.Q6J("disabled",a.isNotPaid||e.lcZ(13,8,a.isBusy$)),e.xp6(6),e.Q6J("disabled",a.isNotConfirmed||e.lcZ(19,10,a.isBusy$)))},directives:[Ft.h,oe.d,Ht.V,C.lW,S.Hw],pipes:[l.Ov],styles:["[_nghost-%COMP%]{max-height:80vh;display:flex;flex-flow:column nowrap;text-align:center}h1[_ngcontent-%COMP%]{font-size:1.75rem}.actions[_ngcontent-%COMP%]{padding:2rem 0 1rem;display:grid;grid-template-columns:1fr;grid-gap:.5rem;gap:.5rem;justify-content:stretch}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around;align-items:center}}"]}),n})();function qt(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function jt(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,17),e.qZA())}function Wt(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.item.buyOrder," ")}}function Vt(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,19),e.qZA())}function Kt(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.item.date,"short")," ")}}function en(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,20),e.qZA())}function tn(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.AsE(" ",t.item.customer.person.firstName," ",t.item.customer.person.lastName," ")}}function nn(n,o){1&n&&(e.TgZ(0,"th",16),e.SDv(1,21),e.qZA())}function an(n,o){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.item.status," ")}}function on(n,o){1&n&&e._UZ(0,"th",22)}function rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickEdit(i.item)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i.item)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function cn(n,o){if(1&n&&(e.TgZ(0,"td",18),e.YNc(1,rn,4,3,"button",23),e.ALo(2,"async"),e.YNc(3,sn,4,3,"button",24),e.ALo(4,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.canDelete$))}}function ln(n,o){1&n&&e._UZ(0,"tr",27)}function _n(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().onClickView(r)}),e.qZA()}2&n&&e.ekj("focused",o.$implicit.focused)}function mn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",29),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}let dn=(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["buyOrder","date","customer","status","actions"]}ngOnInit(){this.init(this.service)}onClickDelete(t){this.service.removeItems([t]).pipe((0,g.U)(a=>a[0]),(0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting a sell with buy order {{ buyOrder }} on date {{ date }}:Sell N${t.buyOrder}:buyOrder: (${t.date}:date:) deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}onClickView(t){t.focused||(t.focused=!0,this.service.fetch(t.item).pipe((0,N.K)(()=>Qt.E),(0,L.w)(a=>this.dialogService.open(Bt,{width:"50rem",data:{sell:a}}).afterClosed()),(0,Z.x)(()=>t.focused=!1)).subscribe())}init(t){this.loading$=t.loading$.pipe(),this.busy$=t.focusedItems$.pipe((0,g.U)(a=>(null==a?void 0:a.length)>0)),this.items$=t.items$.pipe((0,g.U)(a=>a.map(i=>({item:i,focused:!1})))),this.totalCount$=t.totalCount$.pipe(),this.canEdit$=t.canEdit$.pipe(),this.canAdd$=t.canAdd$.pipe(),this.canDelete$=t.canDelete$.pipe(),t.pageSize=this.pageSizeOptions[0]}createDialogProperties(t){return{data:{item:t,entityType:"sell",apiService:this.service.dataService},width:"80rem"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-sales"]],features:[e.qOj],decls:28,vars:17,consts:function(){let o,t,a,i,r,d;return o=$localize`:Name of table header for buy order of sell:Buy order no.`,t=$localize`:Name of table header for date and time of sell:Date and time`,a=$localize`:customer|Name of table header for name of customer:Customer`,i=$localize`:transaction status|Name of table header for status of sell:Status`,r=$localize`:edit|Label for action button to edit information of an item:Edit`,d=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","buyOrder"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","customer"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"focused","click",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],t,a,i,["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",r,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",d,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",r,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",d,3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"click"],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,qt,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,jt,2,0,"th",5),e.YNc(8,Wt,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,Vt,2,0,"th",5),e.YNc(11,Kt,3,4,"td",6),e.BQk(),e.ynx(12,8),e.YNc(13,en,2,0,"th",5),e.YNc(14,tn,2,2,"td",6),e.BQk(),e.ynx(15,9),e.YNc(16,nn,2,0,"th",5),e.YNc(17,an,2,1,"td",6),e.BQk(),e.ynx(18,10),e.YNc(19,on,1,0,"th",11),e.YNc(20,cn,5,6,"td",6),e.BQk(),e.YNc(21,ln,1,0,"tr",12),e.YNc(22,_n,1,2,"tr",13),e.qZA()(),e.TgZ(23,"div"),e.YNc(24,mn,1,0,"app-management-data-actions",14),e.ALo(25,"async"),e.TgZ(26,"mat-paginator",15),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(27,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(16),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(25,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(27,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov,l.uU],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-buyOrder[_ngcontent-%COMP%]{min-width:5rem}.mat-column-date[_ngcontent-%COMP%], .mat-column-customer[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{min-width:8rem}.mat-column-actions[_ngcontent-%COMP%]{min-width:6rem;width:6rem}.mat-row[_ngcontent-%COMP%]:not(.focused):hover{cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover, .mat-row.focused[_ngcontent-%COMP%]{background-color:#f5f5f5}"]}),n})(),ie=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataSalespeople))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function pn(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function un(n,o){1&n&&(e.TgZ(0,"th",14),e.SDv(1,15),e.qZA())}function gn(n,o){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.AsE(" ",t.person.firstName," ",t.person.lastName," ")}}function fn(n,o){1&n&&(e.TgZ(0,"th",14),e.SDv(1,17),e.qZA())}function Mn(n,o){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.person.idNumber," ")}}function Cn(n,o){1&n&&e._UZ(0,"th",18)}function Sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickEdit(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Tn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function En(n,o){if(1&n&&(e.TgZ(0,"td",16),e.YNc(1,Sn,4,3,"button",19),e.ALo(2,"async"),e.YNc(3,Tn,4,3,"button",20),e.ALo(4,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.canDelete$))}}function hn(n,o){1&n&&e._UZ(0,"tr",23)}function Nn(n,o){1&n&&e._UZ(0,"tr",24)}function An(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",25),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}let On=(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["name","idNumber","actions"]}ngOnInit(){super.init(this.service)}onClickDelete(t){this.service.removeItems([t]).pipe((0,g.U)(a=>a[0]),(0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting a salesperson with first name {{ firstName }} and last name {{ lastName }}:Salesperson ${t.person.firstName}:firstName: ${t.person.lastName}:lastName: deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}createDialogProperties(t){return{data:{item:t,entityType:"person",apiService:this.service.dataService},width:"40rem"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-salespeople"]],features:[e.qOj],decls:22,vars:17,consts:function(){let o,t,a,i;return o=$localize`:person full name|Name of table header for full name of person:Name`,t=$localize`:person id number|Name of table header for id number of person:Id number`,a=$localize`:edit|Label for action button to edit information of an item:Edit`,i=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idNumber"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],t,["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",a,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",i,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",a,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",i,3,"disabled","click"],["mat-header-row",""],["mat-row",""],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,pn,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,un,2,0,"th",5),e.YNc(8,gn,2,2,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,fn,2,0,"th",5),e.YNc(11,Mn,2,1,"td",6),e.BQk(),e.ynx(12,8),e.YNc(13,Cn,1,0,"th",9),e.YNc(14,En,5,6,"td",6),e.BQk(),e.YNc(15,hn,1,0,"tr",10),e.YNc(16,Nn,1,0,"tr",11),e.qZA()(),e.TgZ(17,"div"),e.YNc(18,An,1,0,"app-management-data-actions",12),e.ALo(19,"async"),e.TgZ(20,"mat-paginator",13),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(21,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(10),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(21,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-name[_ngcontent-%COMP%], .mat-column-idNumber[_ngcontent-%COMP%]{min-width:8rem}.mat-column-actions[_ngcontent-%COMP%]{min-width:6rem;max-width:6rem}"]}),n})(),re=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataShippers))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Pn(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function bn(n,o){1&n&&(e.TgZ(0,"th",13),e.SDv(1,14),e.qZA())}function vn(n,o){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ln(n,o){1&n&&e._UZ(0,"th",16)}function Rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickEdit(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function $n(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function yn(n,o){if(1&n&&(e.TgZ(0,"td",15),e.YNc(1,Rn,4,3,"button",17),e.ALo(2,"async"),e.YNc(3,$n,4,3,"button",18),e.ALo(4,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.canDelete$))}}function Zn(n,o){1&n&&e._UZ(0,"tr",21)}function xn(n,o){1&n&&e._UZ(0,"tr",22)}function Dn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",23),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}let wn=(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["name","actions"]}ngOnInit(){super.init(this.service)}onClickDelete(t){this.service.removeItems([t]).pipe((0,g.U)(a=>a[0]),(0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting a shipper with name {{ name }}:Shipper '${t.name}:name:' deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}createDialogProperties(t){return{data:{item:t,entityType:"shipper",apiService:this.service.dataService},width:"40rem"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-shippers"]],features:[e.qOj],decls:19,vars:17,consts:function(){let o,t,a;return o=$localize`:shipper name|Name of table header for name of shipper:Name`,t=$localize`:edit|Label for action button to edit information of an item:Edit`,a=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",t,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",a,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",t,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",a,3,"disabled","click"],["mat-header-row",""],["mat-row",""],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,Pn,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,bn,2,0,"th",5),e.YNc(8,vn,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,Ln,1,0,"th",8),e.YNc(11,yn,5,6,"td",6),e.BQk(),e.YNc(12,Zn,1,0,"tr",9),e.YNc(13,xn,1,0,"tr",10),e.qZA()(),e.TgZ(14,"div"),e.YNc(15,Dn,1,0,"app-management-data-actions",11),e.ALo(16,"async"),e.TgZ(17,"mat-paginator",12),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(18,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(7),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(16,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(18,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-name[_ngcontent-%COMP%]{min-width:8rem}"]}),n})(),se=(()=>{class n extends ${constructor(t,a){super(t),this.dataService=a}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.C),e.LFG(T.u.dataUsers))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function In(n,o){1&n&&e._UZ(0,"app-centered-mat-spinner")}function Gn(n,o){1&n&&(e.TgZ(0,"th",14),e.SDv(1,15),e.qZA())}function Un(n,o){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function kn(n,o){1&n&&(e.TgZ(0,"th",14),e.SDv(1,17),e.qZA())}function Yn(n,o){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.role," ")}}function zn(n,o){1&n&&e._UZ(0,"th",18)}function Jn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickEdit(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Qn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickDelete(i)}),e.ALo(1,"async"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.busy$))}}function Xn(n,o){if(1&n&&(e.TgZ(0,"td",16),e.YNc(1,Jn,4,3,"button",19),e.ALo(2,"async"),e.YNc(3,Qn,4,3,"button",20),e.ALo(4,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.canEdit$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.canDelete$))}}function Fn(n,o){1&n&&e._UZ(0,"tr",23)}function Hn(n,o){1&n&&e._UZ(0,"tr",24)}function Bn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-management-data-actions",25),e.NdJ("add",function(){return e.CHM(t),e.oxw().onClickAdd()}),e.qZA()}}const ce=[{path:"dashboard",component:xe,data:{matIcon:"home",title:$localize`:Title of page for management dashboard:Dashboard`}},{path:"sales",component:dn,data:{matIcon:"loyalty",title:$localize`:Title of page for management of sales:Sales`},resolve:{access:v}},{path:"product_lists",component:Pt,data:{matIcon:"view_list",title:$localize`:Title of page for management of product lists:Lists`},resolve:{access:v}},{path:"products",component:Jt,data:{matIcon:"inventory",title:$localize`:Title of page for management of products:Products`},resolve:{access:v}},{path:"product_categories",component:Ve,data:{matIcon:"category",title:$localize`:Title of page for management of product categories:Categories`},resolve:{access:v}},{path:"customers",component:Ze,data:{matIcon:"face",title:$localize`:Title of page for management of customers:Customers`},resolve:{access:v}},{path:"salespeople",component:On,data:{matIcon:"work_outline",title:$localize`:Title of page for management of salespeople:Salespeople`},resolve:{access:v}},{path:"users",component:(()=>{class n extends R{constructor(t,a,i,r){super(),this.service=t,this.dialogService=a,this.route=i,this.snackBarService=r,this.tableColumns=["name","role","actions"]}ngOnInit(){super.init(this.service)}onClickDelete(t){this.service.removeItems([t]).pipe((0,g.U)(a=>a[0]),(0,N.K)(a=>(this.snackBarService.open(_.cA,_.ec),(0,E.of)(a))),(0,f.b)(()=>{const a=$localize`:Message of success after deleting an user with name {{ username }}:User ${t.name}:username: deleted`;this.snackBarService.open(a,_.ec),this.service.reloadItems()})).subscribe()}createDialogProperties(t){return{data:{item:t,entityType:"user",apiService:this.service.dataService},width:"40rem"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se),e.Y36(M.uw),e.Y36(u.gz),e.Y36(O.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-users"]],features:[e.qOj],decls:22,vars:17,consts:function(){let o,t,a,i;return o=$localize`:Name of table header for user name:User name`,t=$localize`:Name of table header for user role name:Role`,a=$localize`:edit|Label for action button to edit information of an item:Edit`,i=$localize`:delete|Label for action button to delete an item:Delete`,[[4,"ngIf"],[1,"data-manager",3,"hidden"],[1,"table-wrapper"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"add",4,"ngIf"],[3,"showFirstLastButtons","pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],o,["mat-cell",""],t,["mat-header-cell",""],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",a,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",i,3,"disabled","click",4,"ngIf"],["mat-button","","mat-icon-button","","type","button","color","primary","aria-label",a,3,"disabled","click"],["mat-button","","mat-icon-button","","type","button","color","warn","aria-label",i,3,"disabled","click"],["mat-header-row",""],["mat-row",""],[3,"add"]]},template:function(t,a){1&t&&(e.YNc(0,In,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"table",3),e.NdJ("matSortChange",function(r){return a.onSortChange(r)}),e.ynx(6,4),e.YNc(7,Gn,2,0,"th",5),e.YNc(8,Un,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,kn,2,0,"th",5),e.YNc(11,Yn,2,1,"td",6),e.BQk(),e.ynx(12,8),e.YNc(13,zn,1,0,"th",9),e.YNc(14,Xn,5,6,"td",6),e.BQk(),e.YNc(15,Fn,1,0,"tr",10),e.YNc(16,Hn,1,0,"tr",11),e.qZA()(),e.TgZ(17,"div"),e.YNc(18,Bn,1,0,"app-management-data-actions",12),e.ALo(19,"async"),e.TgZ(20,"mat-paginator",13),e.NdJ("page",function(r){return a.onPage(r)}),e.ALo(21,"async"),e.qZA()()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,a.loading$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,11,a.loading$)),e.xp6(3),e.Q6J("dataSource",a.items$),e.xp6(10),e.Q6J("matHeaderRowDef",a.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.tableColumns),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,13,a.canAdd$)),e.xp6(2),e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("length",e.lcZ(21,15,a.totalCount$)))},directives:[l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,y,b.NW],pipes:[l.Ov],styles:[".data-manager[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;overflow:hidden}.data-manager[_ngcontent-%COMP%]{flex-flow:column nowrap}.loading[_ngcontent-%COMP%]{align-content:center;justify-content:center}.table-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}table[_ngcontent-%COMP%]{min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;width:6rem}app-management-data-actions[_ngcontent-%COMP%]{flex:0 0 auto}",".mat-column-name[_ngcontent-%COMP%]{max-width:100%}.mat-column-role[_ngcontent-%COMP%]{text-align:center}"]}),n})(),data:{matIcon:"person",title:$localize`:Title of page for management of users:Users`},resolve:{access:v}},{path:"images",component:Be,data:{matIcon:"image",title:$localize`:Title of page for management of images:Images`},resolve:{access:v}},{path:"shippers",component:wn,data:{matIcon:"local_shipping",title:$localize`:Title of page for management of shippers:Shippers`},resolve:{access:v}}];let jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild([{path:"",component:H,children:[...ce,{path:"**",pathMatch:"prefix",redirectTo:"dashboard"}],canActivate:[Y],canActivateChild:[Y]}])],u.Bz]}),n})();var le=c(4623);const Wn=function(n,o){return[n,o]};function Vn(n,o){if(1&n&&(e.TgZ(0,"a",1)(1,"mat-icon"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit,a=e.oxw();e.ekj("active",t.active),e.Q6J("routerLink",e.WLB(5,Wn,a.baseModule,t.path)),e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.hij(" ",t.text," ")}}let Kn=(()=>{class n{constructor(t,a){this.service=t,this.appService=a,this.modules=[],this.modulesSource=new D.X(this.modules),this.modules$=this.modulesSource.asObservable(),this.baseModule="/management"}ngOnInit(){this.appService.getAuthorizedAccess().subscribe(t=>{this.modules=ce.filter(a=>t.routes.includes(a.path)||"dashboard"===a.path).map(this.routeToListItem),this.modulesSource.next(this.modules)}),this.activeRouteSubscription=this.service.activeRouteSnapshot$.subscribe(t=>{const a=this.modules.findIndex(i=>{var r;return i.path===(null===(r=null==t?void 0:t.url[0])||void 0===r?void 0:r.path)});if(-1!==a){for(const i of this.modules)i.active=!1;this.modules[a].active=!0,this.modulesSource.next(this.modules)}})}ngOnDestroy(){this.activeRouteSubscription.unsubscribe()}routeToListItem(t){return{path:t.path,text:t.data.title,icon:t.data.matIcon,active:!1}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I),e.Y36(U.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-management-sidenav"]],decls:3,vars:3,consts:[["mat-list-item","",3,"routerLink","active",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-nav-list"),e.YNc(1,Vn,4,8,"a",0),e.ALo(2,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,a.modules$)))},directives:[le.Hk,l.sg,le.Tg,u.yS,S.Hw],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block}mat-nav-list[_ngcontent-%COMP%]{padding:0}a.mat-list-item[_ngcontent-%COMP%]{height:5rem;font-size:1.2rem}a.mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-right:.5em}@media (min-width: 641px){a.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem}a.mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}}a.mat-list-item.active[_ngcontent-%COMP%]{background-color:#0003}"]}),n})();var h=c(3075),ea=c(4244),_e=c(7322),me=c(8833),de=c(3633),ta=c(5869),X=c(2638);const na={duration:5e3};let aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:O.Ve,useValue:na},Y,I,j,V,K,te,ne,Q,ie,re,se],imports:[[pe.m,jn]]}),n})();e.B6R(Ne.d,[h._Y,h.JL,h.sg,ea.Y,h.JJ,h.u,_e.KE,me.Nt,h.Fj,de.f],[]),e.B6R(he.O,[h._Y,h.JL,h.sg,_e.KE,me.Nt,h.Fj,h.JJ,h.u,de.f],[]),e.B6R(J.j,[M.uh,ta.S,l.O5,A.Z,s.BZ,p.YE,s.w1,s.fO,s.ge,p.nU,s.Dz,s.ev,C.lW,S.Hw,s.as,s.XQ,s.nj,s.Gk,b.NW,oe.d,M.ZT],[l.Ov,l.H9]),e.B6R(H,[Ee,X.TM,X.JX,Kn,X.Rh,u.lC,ge],[l.Ov])}}]);