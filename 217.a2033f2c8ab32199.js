"use strict";(self.webpackChunkngx_trebol_frontend=self.webpackChunkngx_trebol_frontend||[]).push([[217],{8217:(So,j,_)=>{_.r(j),_.d(j,{StoreModule:()=>To});var G=_(7261),pe=_(6021),w=_(1086),ge=_(8896),$=_(2986),T=_(4850),h=_(7545),p=_(2868),de=_(7625),v=_(900),P=(()=>{return(o=P||(P={}))[o.login=1]="login",o[o.register=2]="register",o[o.guest=3]="guest",P;var o})(),e=_(5e3),S=_(8966),O=_(7423),C=_(8099);let me=(()=>{class o{constructor(t){this.dialog=t}onClickOption(t){t in P?this.dialog.close(P[t]):this.dialog.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-guest-prompt-dialog"]],decls:24,vars:0,consts:function(){let i,t,n,r,a,c,u;return i=$localize`:Title of dialog prompt to indicate users that some sort of ID is required:Identification is Required`,t=$localize`:Label to hint user that they must log in, register or indicate some personal info to proceed:To review your cart, you need to either log in to your account, register anew (it's free) or start a guest session by giving your billing details.`,n=$localize`:Label to instruct user that they choose one option out of three:Please, choose one of the following three:`,r=$localize`:log in|Label for action button to prompt login:Log in`,a=$localize`:register|Label for action button to prompt registration:Register`,c=$localize`:continue as guest|Label for action button to prompt a guest, temporary login:Continue as guest`,u=$localize`:Label to hint user that they can click away from current dialog to close it:You can close this window clicking away from it`,[["mat-dialog-title",""],i,t,n,[1,"actions"],["mat-button","","mat-raised-button","","type","button",3,"click"],r,a,c,[1,"hint"],u]},template:function(t,n){1&t&&(e.TgZ(0,"h3",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"p"),e.SDv(3,2),e.qZA(),e.TgZ(4,"p"),e.SDv(5,3),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.onClickOption("login")}),e.TgZ(8,"span"),e.SDv(9,6),e.qZA(),e.TgZ(10,"mat-icon"),e._uU(11,"verified_user"),e.qZA()(),e.TgZ(12,"button",5),e.NdJ("click",function(){return n.onClickOption("register")}),e.TgZ(13,"span"),e.SDv(14,7),e.qZA(),e.TgZ(15,"mat-icon"),e._uU(16,"person_add"),e.qZA()(),e.TgZ(17,"button",5),e.NdJ("click",function(){return n.onClickOption("guest")}),e.TgZ(18,"span"),e.SDv(19,8),e.qZA(),e.TgZ(20,"mat-icon"),e._uU(21,"remove_moderator"),e.qZA()()(),e.TgZ(22,"p",9),e.SDv(23,10),e.qZA())},directives:[S.uh,O.lW,C.Hw],styles:["[_nghost-%COMP%]{text-align:center}.hint[_ngcontent-%COMP%]{color:gray;margin:2rem 0 0}@media (max-width: 640px){.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around}}"]}),o})();var s=_(3075),H=_(8929),X=_(1737),Z=_(7221),ee=_(5160),b=_(591);let E=(()=>{class o{constructor(){this.cartDetailsSource=new b.X([]),this.cartDetails$=this.cartDetailsSource.asObservable(),this.checkoutButtonPress=new e.vpe,this.checkoutRequestData=null,this.cartItemCount$=this.cartDetails$.pipe((0,T.U)(t=>0===t.length?0:t.map(n=>n.units).reduce((n,r)=>n+r))),this.cartNetValue$=this.cartDetails$.pipe((0,T.U)(t=>0===t.length?0:t.map(n=>n.product.price*n.units).reduce((n,r)=>n+r)))}ngOnDestroy(){this.cartDetailsSource.complete()}reset(){this.cartDetailsSource.next([])}addProductToCart(t){const n=this.findSellDetailsIndexByProductBarcode(t.barcode);-1!==n?this.cartDetailsSource.value[n].units++:this.cartDetailsSource.value.push({product:t,units:1}),this.cartDetailsSource.next(this.cartDetailsSource.value)}increaseProductUnits(t){-1!==t&&(this.cartDetailsSource.value[t].units++,this.cartDetailsSource.next(this.cartDetailsSource.value))}decreaseProductUnits(t){if(-1!==t){const n=this.cartDetailsSource.value[t];n.units--,n.units>0||this.cartDetailsSource.value.splice(t,1),this.cartDetailsSource.next(this.cartDetailsSource.value)}}removeProductFromCart(t){-1!==t&&(this.cartDetailsSource.value.splice(t,1),this.cartDetailsSource.next(this.cartDetailsSource.value))}findSellDetailsIndexByProductBarcode(t){return this.cartDetailsSource.value.findIndex(n=>{var r;return(null===(r=n.product)||void 0===r?void 0:r.barcode)===t})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=_(9808),L=_(7067),B=_(2526);function Te(o,i){1&o&&e._UZ(0,"app-centered-mat-spinner")}let Se=(()=>{class o{constructor(t,n,r,a){this.appService=t,this.dialog=n,this.entityFormGroupService=r,this.cartService=a,this.savingSource=new H.xQ,this.saving$=this.savingSource.asObservable(),this.formGroup=new s.cw({person:this.entityFormGroupService.createFormGroupFor("person")})}get person(){return this.formGroup.get("person")}ngOnDestroy(){this.savingSource.complete()}onSubmit(){this.savingSource.next(!0),this.appService.guestLogin(this.person.value).pipe((0,p.b)(()=>{this.cartService.checkoutRequestData.customer=this.person.value,this.dialog.close()}),(0,Z.K)(t=>(this.savingSource.next(!1),(0,X._)(t)))).subscribe()}onCancel(){this.appService.cancelAuthentication(),this.dialog.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.z),e.Y36(S.so),e.Y36(ee.I),e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-guest-shipping-form-dialog"]],decls:19,vars:7,consts:function(){let i,t,n,r,a;return i=$localize`:Title of dialog prompt to indicate personal info for a guest, temporary login:Continue as guest`,t=$localize`:Label to instruct user to input billing information:Please provide your billing information.`,n=$localize`:Label to hint user that their billing information is solely used to secure their transaction:We request this for security purposes, to keep your transaction safe and secure.`,r=$localize`:confirm|Label for action button to accept and proceed:Confirm`,a=$localize`:cancel|Label for action button to cancel and/or stop an operation:Cancel`,[["mat-dialog-title",""],i,[4,"ngIf"],[3,"hidden"],t,n,[3,"formGroup","ngSubmit"],["formGroupName","person"],[1,"actions"],["mat-button","","mat-raised-button","","type","submit","color","primary"],r,["mat-button","","mat-raised-button","","type","button",3,"click"],a]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Te,1,0,"app-centered-mat-spinner",2),e.ALo(3,"async"),e.TgZ(4,"div",3),e.ALo(5,"async"),e.TgZ(6,"p"),e.SDv(7,4),e.qZA(),e.TgZ(8,"p"),e.SDv(9,5),e.qZA(),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(11,"app-person-form",7),e.TgZ(12,"div",8)(13,"button",9)(14,"span"),e.SDv(15,10),e.qZA()(),e.TgZ(16,"button",11),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(17,"span"),e.SDv(18,12),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,n.saving$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,5,n.saving$)),e.xp6(6),e.Q6J("formGroup",n.formGroup))},directives:[S.uh,l.O5,L.Z,s._Y,s.JL,s.sg,B.c,s.x0,O.lW],pipes:[l.Ov],styles:["@media (min-width: 640px){.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around}}"]}),o})();var M=_(170);function Oe(o){const i=o.get("pass1"),t=o.get("pass2");return i.pristine||t.pristine||i.value===t.value?null:{match:!0}}var A=_(7322),z=_(8833);function Ce(o,i){1&o&&e._UZ(0,"app-centered-mat-spinner")}let te=(()=>{class o{constructor(t,n,r,a,c){this.appService=t,this.formBuilder=n,this.dialog=r,this.snackBarService=a,this.entityFormGroupService=c,this.registeringSource=new b.X(!1),this.registering$=this.registeringSource.asObservable(),this.formGroup=this.formBuilder.group({name:["",s.kI.required],pass1:["",s.kI.required],pass2:["",s.kI.required],person:this.entityFormGroupService.createFormGroupFor("person")},{validators:Oe})}get name(){return this.formGroup.get("name")}get pass1(){return this.formGroup.get("pass1")}get pass2(){return this.formGroup.get("pass2")}get person(){return this.formGroup.get("person")}ngOnDestroy(){this.registeringSource.complete()}onSubmit(){this.formGroup.valid&&(this.registeringSource.next(!0),this.appService.register({name:this.name.value,password:this.pass1.value,profile:this.person.value}).subscribe(n=>{if(n){const r=$localize`:Message of success after registration:Registration was succesful. Please remember to keep your password safe, and enjoy shopping!`;this.snackBarService.open(r,M.ec),this.registeringSource.complete(),this.dialog.close(!0)}else{const r=$localize`:Message of error during registration, hint user to try again:There was an error during registration. Please try again.`;this.snackBarService.open(r,M.ec),this.registeringSource.next(!1)}}))}onCancel(){this.appService.cancelAuthentication(),this.dialog.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.z),e.Y36(s.qu),e.Y36(S.so),e.Y36(G.ux),e.Y36(ee.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-registration-form-dialog"]],decls:21,vars:8,consts:function(){let i,t,n,r,a,c;return i=$localize`:Title of dialog prompt for registering a new user account:New User Account`,t=$localize`:new user name|Name of field for username to register with:User name`,n=$localize`:new user password|Name of field for password to register with:Password`,r=$localize`:Name of field for password confirmation by repetition:Repeat password`,a=$localize`:confirm|Label for action button to accept and proceed:Confirm`,c=$localize`:cancel|Label for action button to cancel and/or stop an operation:Cancel`,[["mat-dialog-title",""],i,[4,"ngIf"],[3,"hidden"],[3,"formGroup","ngSubmit"],[1,"name"],["matInput","","formControlName","name","placeholder",t],[1,"pass1"],["matInput","","formControlName","pass1","type","password","placeholder",n],[1,"pass2"],["matInput","","formControlName","pass2","type","password","placeholder",r],["formGroupName","person"],[1,"actions"],["mat-button","","mat-raised-button","","type","submit","color","primary",3,"disabled"],a,["mat-button","","mat-raised-button","","type","button",3,"click"],c]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Ce,1,0,"app-centered-mat-spinner",2),e.ALo(3,"async"),e.TgZ(4,"div",3),e.ALo(5,"async"),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"mat-form-field",5),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"mat-form-field",9),e._UZ(12,"input",10),e.qZA(),e._UZ(13,"app-person-form",11),e.TgZ(14,"div",12)(15,"button",13)(16,"span"),e.SDv(17,14),e.qZA()(),e.TgZ(18,"button",15),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(19,"span"),e.SDv(20,16),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.registering$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,6,n.registering$)),e.xp6(2),e.Q6J("formGroup",n.formGroup),e.xp6(9),e.Q6J("disabled",n.formGroup.invalid))},directives:[S.uh,l.O5,L.Z,s._Y,s.JL,s.sg,A.KE,z.Nt,s.Fj,s.JJ,s.u,B.c,s.x0,O.lW],pipes:[l.Ov],styles:['form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}@media (min-width: 640px){.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}}@media (min-width: 641px){form[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);grid-template-areas:"name person person" "pass1 person person" "pass2 person person" "actions actions actions"}.name[_ngcontent-%COMP%]{grid-area:name}.pass1[_ngcontent-%COMP%]{grid-area:pass1}.pass2[_ngcontent-%COMP%]{grid-area:pass2}app-person-form[_ngcontent-%COMP%]{grid-area:person}.actions[_ngcontent-%COMP%]{grid-area:actions;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around}}']}),o})();var Ee=_(3267);const fe=["registerButton"];function he(o,i){1&o&&e._UZ(0,"app-centered-mat-spinner")}let oe=(()=>{class o{constructor(t,n,r,a){this.dialog=t,this.formBuilder=n,this.snackBarService=r,this.appService=a,this.loggingInSource=new H.xQ,this.hidePasswordSource=new b.X(!0),this.loggingIn$=this.loggingInSource.asObservable(),this.formGroup=this.formBuilder.group({username:["",s.kI.required],password:["",s.kI.required]}),this.togglePasswordIcon$=this.hidePasswordSource.asObservable().pipe((0,T.U)(c=>c?"visibility":"visibility_off")),this.passwordInputType$=this.hidePasswordSource.asObservable().pipe((0,T.U)(c=>c?"password":"text"))}get username(){return this.formGroup.get("username")}get password(){return this.formGroup.get("password")}ngOnInit(){this.registerButton.sourceDialogRef=this.dialog,this.registerButton.targetDialogComponent=te,this.registerButton.targetDialogConfig={width:"40rem"}}showPassword(){this.hidePasswordSource.next(!1)}hidePassword(){this.hidePasswordSource.next(!0)}onSubmit(){this.formGroup.valid&&(this.loggingInSource.next(!0),this.appService.login({name:this.username.value,password:this.password.value}).pipe((0,p.b)(()=>{this.dialog.close();const n=$localize`:Message of success after login:You have logged in`;this.snackBarService.open(n,M.ec)}),(0,Z.K)(n=>{if(403===n.status){const r=$localize`:Message of error due to bad/erroneous credentials:Your credentials were rejected`;this.snackBarService.open(r,M.ec)}else this.snackBarService.open(M.cA,M.ec);return this.loggingInSource.next(!1),(0,X._)(n)})).subscribe())}onCancel(){this.appService.cancelAuthentication(),this.dialog.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.so),e.Y36(s.qu),e.Y36(G.ux),e.Y36(v.z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-login-form-dialog"]],viewQuery:function(t,n){if(1&t&&e.Gf(fe,7),2&t){let r;e.iGM(r=e.CRH())&&(n.registerButton=r.first)}},decls:29,vars:15,consts:function(){let i,t,n,r,a,c,u,d;return i=$localize`:Title of dialog prompt for logging in:Log In`,t=$localize`:login username|Name of field for username to log in with:User name`,n=$localize`:login password|Name of field for password to log in with:Password`,r=$localize`:hold to show password|Label for action button to show password while held down:Hold to peek...`,a=$localize`:confirm|Label for action button to accept and proceed:Confirm`,c=$localize`:clean up|Label for action button to clear values in form:Clean up`,u=$localize`:cancel|Label for action button to cancel and/or stop an operation:Cancel`,d=$localize`:Label to hint user to register if they do not have an account:Don't have an account? Register here`,[["mat-dialog-title",""],i,[4,"ngIf"],[3,"hidden"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","username","placeholder",t],["matInput","","formControlName","password","placeholder",n,3,"type"],["matSuffix","","mat-icon-button","","type","button","aria-label",r,3,"mousedown","mouseup","mouseleave"],[1,"actions"],["mat-button","","mat-raised-button","","type","submit","color","primary",3,"disabled"],a,["mat-button","","mat-raised-button","","type","reset",3,"disabled"],c,["mat-button","","mat-raised-button","","type","button","color","warn",3,"click"],u,[1,"other","actions"],["label",d],["registerButton",""]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,he,1,0,"app-centered-mat-spinner",2),e.ALo(3,"async"),e.TgZ(4,"div",3),e.ALo(5,"async"),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"mat-form-field"),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"mat-form-field"),e._UZ(10,"input",6),e.ALo(11,"async"),e.TgZ(12,"button",7),e.NdJ("mousedown",function(){return n.showPassword()})("mouseup",function(){return n.hidePassword()})("mouseleave",function(){return n.hidePassword()}),e.TgZ(13,"mat-icon"),e._uU(14),e.ALo(15,"async"),e.qZA()()(),e.TgZ(16,"div",8)(17,"button",9)(18,"span"),e.SDv(19,10),e.qZA()(),e.TgZ(20,"button",11)(21,"span"),e.SDv(22,12),e.qZA()(),e.TgZ(23,"button",13),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(24,"span"),e.SDv(25,14),e.qZA()()()(),e.TgZ(26,"div",15),e._UZ(27,"app-dialog-switcher-button",16,17),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,7,n.loggingIn$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,9,n.loggingIn$)),e.xp6(2),e.Q6J("formGroup",n.formGroup),e.xp6(4),e.Q6J("type",e.lcZ(11,11,n.passwordInputType$)),e.xp6(4),e.Oqu(e.lcZ(15,13,n.togglePasswordIcon$)),e.xp6(3),e.Q6J("disabled",n.formGroup.invalid),e.xp6(3),e.Q6J("disabled",n.formGroup.pristine))},directives:[S.uh,l.O5,L.Z,s._Y,s.JL,s.sg,A.KE,z.Nt,s.Fj,s.JJ,s.u,O.lW,A.R9,C.Hw,Ee.W],pipes:[l.Ov],styles:["[_nghost-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{margin:0;color:#000;vertical-align:middle;font-size:24pt}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;margin:0;padding:.5rem 0 0}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}@media (min-width: 641px){form[_ngcontent-%COMP%]{padding:1rem}}.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:.5rem;gap:.5rem;justify-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-around;justify-items:stretch}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto}}"]}),o})();var m=_(8810);let ne=(()=>{class o{constructor(t,n,r,a){this.cartService=t,this.appService=n,this.dialogService=r,this.router=a}canActivate(t,n){return this.cartService.cartDetails$.pipe((0,$.q)(1),(0,T.U)(r=>r.length>0),(0,h.w)(r=>r?this.requireAuthentication():(0,w.of)(!1)),(0,p.b)(r=>{r||this.router.navigateByUrl("/")}))}requireAuthentication(){return this.appService.isLoggedIn()?(0,w.of)(!0):this.promptGuestUserChoices().pipe((0,h.w)(t=>t&&t in P?(this.followGuestUserChoice(t),this.appService.isLoggedInChanges$.pipe((0,$.q)(1),(0,de.R)(this.appService.checkoutAuthCancel$))):ge.E))}promptGuestUserChoices(){return this.dialogService.open(me).afterClosed()}followGuestUserChoice(t){switch(t){case P.login:return void this.promptLoginForm();case P.register:return void this.promptRegistrationForm();case P.guest:return void this.promptGuestShippingForm()}}promptLoginForm(){return this.dialogService.open(oe,{width:"24rem"})}promptRegistrationForm(){return this.dialogService.open(te,{width:"40rem"})}promptGuestShippingForm(){return this.dialogService.open(Se,{width:"40rem"})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(E),e.LFG(v.z),e.LFG(S.uw),e.LFG(m.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var F=_(6831),Q=_(537),y=_(1434),x=_(1059),ie=_(4244);let Re=(()=>{class o{constructor(t,n){this.data=t,this.cartService=n,this.selfChangeTrigger=new H.xQ}ngOnInit(){this.productUnitsInCart$=this.selfChangeTrigger.pipe((0,x.O)(void 0),(0,h.w)(()=>this.cartService.cartDetails$.pipe((0,$.q)(1))),(0,T.U)(t=>t[this.matchingCartIndex]),(0,T.U)(t=>t?t.units:0)),this.cartDetailsSub=this.cartService.cartDetails$.pipe((0,p.b)(t=>{this.matchingCartIndex=t.findIndex(n=>{var r;return(null===(r=n.product)||void 0===r?void 0:r.barcode)===this.data.product.barcode})})).subscribe()}ngOnDestroy(){var t;null===(t=this.cartDetailsSub)||void 0===t||t.unsubscribe(),this.selfChangeTrigger.complete()}onClickIncreaseProductQuantity(){-1!==this.matchingCartIndex?this.cartService.increaseProductUnits(this.matchingCartIndex):this.cartService.addProductToCart(this.data.product),this.selfChangeTrigger.next()}onClickDecreaseProductQuantity(){-1!==this.matchingCartIndex&&(this.cartService.decreaseProductUnits(this.matchingCartIndex),this.selfChangeTrigger.next())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.WI),e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-product-details-dialog"]],decls:26,vars:14,consts:[[3,"images","autocycle"],[1,"about"],["mat-dialog-title","",1,"name"],[1,"barcode"],[1,"description"],[1,"actions"],[1,"price"],[1,"add-to-cart"],[1,"quantity-wrapper"],["mat-button","","mat-icon-button","","type","button",3,"click"],[1,"quantity"],["mat-button","","mat-icon-button","","type","button",3,"disabled","click"]],template:function(t,n){1&t&&(e._UZ(0,"app-slideshow",0),e.TgZ(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"h4",3),e._uU(5),e.qZA(),e.TgZ(6,"p",4),e._uU(7),e.qZA()(),e.TgZ(8,"div",5)(9,"span",6),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"div",7)(13,"mat-icon"),e._uU(14,"shopping_cart"),e.qZA(),e.TgZ(15,"div",8)(16,"button",9),e.NdJ("click",function(){return n.onClickIncreaseProductQuantity()}),e.TgZ(17,"mat-icon"),e._uU(18,"add "),e.qZA()(),e.TgZ(19,"span",10),e._uU(20),e.ALo(21,"async"),e.qZA(),e.TgZ(22,"button",11),e.NdJ("click",function(){return n.onClickDecreaseProductQuantity()}),e.ALo(23,"async"),e.TgZ(24,"mat-icon"),e._uU(25,"remove"),e.qZA()()()()()),2&t&&(e.Q6J("images",n.data.product.images)("autocycle",!1),e.xp6(3),e.Oqu(n.data.product.name),e.xp6(2),e.Oqu(n.data.product.barcode),e.xp6(2),e.Oqu(n.data.product.description),e.xp6(3),e.Oqu(e.lcZ(11,8,n.data.product.price)),e.xp6(10),e.Oqu(e.lcZ(21,10,n.productUnitsInCart$)),e.xp6(2),e.Q6J("disabled",e.lcZ(23,12,n.productNotInCart$)))},directives:[ie.Y,S.uh,C.Hw,O.lW],pipes:[l.H9,l.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:space-between}img[_ngcontent-%COMP%]{flex:1 1 auto;-o-object-fit:cover;object-fit:cover;width:auto;height:auto;max-width:100%;max-height:100%;margin:.5rem 0}.about[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;margin:.25rem 0}@media (min-width: 641px){.about[_ngcontent-%COMP%]{text-align:left;text-align:initial;margin:.5rem 0;padding:0 .25rem}}.name[_ngcontent-%COMP%], .barcode[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{margin:0}.description[_ngcontent-%COMP%]{overflow-y:auto}.actions[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}@media (min-width: 641px){.actions[_ngcontent-%COMP%]{flex-flow:row nowrap}}.price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#558b2f;margin:0 auto}@media (min-width: 641px){.price[_ngcontent-%COMP%]{font-size:1.75rem;margin:0 auto 0 .5rem}}.add-to-cart[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-gap:1rem;align-items:center}.add-to-cart[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}.quantity-wrapper[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;align-items:center;font-size:1.25rem;grid-gap:.5rem}"]}),o})(),U=(()=>{class o{constructor(t,n,r,a,c){this.productListApiService=t,this.productsApiService=n,this.dialogService=r,this.route=a,this.router=c,this.loadingSource=new b.X(!1),this.listsPageSource=new F.t(1),this.listsPage$=this.listsPageSource.asObservable(),this.loading$=this.loadingSource.asObservable(),this.listIndex=0,this.checkRouteForProductIdParam()}ngOnDestroy(){var t,n;null===(t=this.queryParamsSubscription)||void 0===t||t.unsubscribe(),null===(n=this.loadingSubscription)||void 0===n||n.unsubscribe(),this.loadingSource.complete(),this.listsPageSource.complete()}reloadItems(){var t;null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe(),this.loadingSource.next(!0),this.loadingSubscription=this.productListApiService.fetchPage(this.listIndex).pipe((0,p.b)(n=>this.listsPageSource.next(n)),(0,Q.x)(()=>this.loadingSource.next(!1))).subscribe()}viewProduct(t){this.router.navigate([],{relativeTo:this.route,queryParams:{viewingProduct:t.barcode},queryParamsHandling:"merge"})}checkRouteForProductIdParam(){this.queryParamsSubscription=this.route.queryParamMap.pipe((0,h.w)(t=>t.has("viewingProduct")?this.productsApiService.fetchExisting({barcode:t.get("viewingProduct")}).pipe((0,h.w)(n=>this.promptProductDetails(n))):(0,w.of)(t))).subscribe()}promptProductDetails(t){return this.dialogService.open(Re,{width:"40rem",data:{product:t}}).afterClosed().pipe((0,p.b)(()=>this.router.navigate([],{relativeTo:this.route,queryParams:{viewingProduct:void 0},queryParamsHandling:"merge"})))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(y.u.dataProductLists),e.LFG(y.u.dataProducts),e.LFG(S.uw),e.LFG(m.gz),e.LFG(m.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var N=_(2600);let re=(()=>{class o{constructor(t){this.checkoutApiService=t}requestPayment(t,n){const r=this.createCheckoutRequest(t,n);return this.checkoutApiService.submitCart(r)}createCheckoutRequest(t,n){const r={customer:{person:t.customer},details:n},a=t.billing;r.billingType=a.sellType,a.sellType===N.id.get(N.o8)&&(a.company&&(r.billingCompany=a.company),a.address&&(r.billingAddress=a.address));const c=t.shipping;return(null==c?void 0:c.requestShipping)&&(null==c?void 0:c.shippingAddress)&&(r.shippingAddress=c.shippingAddress),r}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(y.u.checkout))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function ae(...o){const i=o.length;if(0===i)throw new Error("list of properties cannot be empty.");return t=>(0,T.U)(function Pe(o,i){return n=>{let r=n;for(let a=0;a<i;a++){const c=null!=r?r[o[a]]:void 0;if(void 0===c)return;r=c}return r}}(o,i))(t)}let se=(()=>{class o{constructor(t){this.receiptApiService=t,this.receiptSource=new b.X(null),this.receipt$=this.receiptSource.asObservable(),this.loading$=this.receipt$.pipe((0,T.U)(n=>!n),(0,x.O)(!0)),this.details$=this.receipt$.pipe(ae("details")),this.date$=this.receipt$.pipe(ae("date"))}fetchReceipt(t){return this.receiptApiService.fetchTransactionReceiptByToken(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(y.u.receipt))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var J=_(2198),g=_(2075);function Me(o,i){1&o&&(e.TgZ(0,"th",14)(1,"span"),e.SDv(2,15),e.qZA()())}function Ne(o,i){if(1&o&&(e.TgZ(0,"td",16)(1,"span",17),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"span",18),e._uU(5),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.product.name),e.xp6(3),e.Oqu(t.product.barcode)}}function Ae(o,i){1&o&&(e.TgZ(0,"th",19)(1,"span"),e.SDv(2,20),e.qZA()())}function Ie(o,i){if(1&o&&(e.TgZ(0,"td",21)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.product.price))}}function ve(o,i){1&o&&(e.TgZ(0,"th",19),e.SDv(1,22),e.qZA())}function be(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",21)(1,"button",23),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw().onClickDecreaseProductQuantity(a)}),e.TgZ(2,"mat-icon"),e._uU(3,"remove"),e.qZA()(),e._uU(4),e.TgZ(5,"button",24),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw().onClickIncreaseProductQuantity(a)}),e.TgZ(6,"mat-icon"),e._uU(7,"add"),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(1),e.Q6J("disabled",t.units<2),e.xp6(3),e.hij(" ",t.units," ")}}function Le(o,i){1&o&&(e.TgZ(0,"th",14)(1,"span"),e.SDv(2,25),e.qZA()())}function ye(o,i){if(1&o&&(e.TgZ(0,"td",16)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.product.price*t.units))}}function Ge(o,i){1&o&&e._UZ(0,"th",26)}function $e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",27)(1,"button",28),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw().onClickRemoveProduct(a)}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function De(o,i){1&o&&e._UZ(0,"tr",29)}function we(o,i){1&o&&e._UZ(0,"tr",30)}let Ze=(()=>{class o{constructor(t){this.cartService=t,this.tableColumns=["product","price","quantity","total","actions"],this.details$=this.cartService.cartDetails$.pipe()}onClickIncreaseProductQuantity(t){this.cartService.increaseProductUnits(t)}onClickDecreaseProductQuantity(t){this.cartService.decreaseProductUnits(t)}onClickRemoveProduct(t){this.cartService.removeProductFromCart(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-cart-contents-table"]],inputs:{details$:"details$",tableColumns:"tableColumns"},decls:18,vars:3,consts:function(){let i,t,n,r,a,c,u;return i=$localize`:product|Name of table header for name and code of product:Product`,t=$localize`:Name of table header for price per product unit:Price`,n=$localize`:Name of table header for product units in cart:Units`,r=$localize`:remove product unit|Label for action button to remove one unit of a product:Remove one`,a=$localize`:add product unit|Label for action button to add one unit of a product:Add one`,c=$localize`:Name of table header for the value of product price x units in cart:Subtotal`,u=$localize`:remove all product units|Label for action button to remove all units of product in cart:Remove`,[["mat-table","",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["mat-header-cell","","class","center",4,"matHeaderCellDef"],["mat-cell","","class","center",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","actions"],["mat-header-cell","","class","right",4,"matHeaderCellDef"],["mat-cell","","class","right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],i,["mat-cell",""],[1,"name"],[1,"barcode"],["mat-header-cell","",1,"center"],t,["mat-cell","",1,"center"],n,["type","button","mat-button","","mat-icon-button","","aria-label",r,1,"decrease",3,"disabled","click"],["type","button","mat-button","","mat-icon-button","","aria-label",a,1,"increase",3,"click"],c,["mat-header-cell","",1,"right"],["mat-cell","",1,"right"],["type","button","mat-button","","mat-icon-button","","aria-label",u,"color","warn",1,"remove",3,"click"],["mat-header-row",""],["mat-row",""]]},template:function(t,n){1&t&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,Me,3,0,"th",2),e.YNc(3,Ne,6,2,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,Ae,3,0,"th",5),e.YNc(6,Ie,4,3,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,ve,2,0,"th",5),e.YNc(9,be,8,2,"td",6),e.BQk(),e.ynx(10,8),e.YNc(11,Le,3,0,"th",2),e.YNc(12,ye,4,3,"td",3),e.BQk(),e.ynx(13,9),e.YNc(14,Ge,1,0,"th",10),e.YNc(15,$e,4,0,"td",11),e.BQk(),e.YNc(16,De,1,0,"tr",12),e.YNc(17,we,1,0,"tr",13),e.qZA()),2&t&&(e.Q6J("dataSource",n.details$),e.xp6(16),e.Q6J("matHeaderRowDef",n.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tableColumns))},directives:[g.BZ,g.w1,g.fO,g.ge,g.Dz,g.ev,O.lW,C.Hw,g.as,g.XQ,g.nj,g.Gk],pipes:[l.H9],styles:["[_nghost-%COMP%]{overflow:auto}.mat-column-product[_ngcontent-%COMP%]{min-width:8rem;max-width:12rem}.mat-column-price[_ngcontent-%COMP%]{min-width:6rem;max-width:8rem}.mat-column-quantity[_ngcontent-%COMP%], .mat-column-total[_ngcontent-%COMP%]{min-width:9rem;max-width:9rem}.mat-column-actions[_ngcontent-%COMP%]{text-align:right;min-width:3rem;max-width:3rem}.mat-column-product[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem}.mat-column-product[_ngcontent-%COMP%]   .barcode[_ngcontent-%COMP%]{font-size:.9rem;color:gray}"]}),o})();var k=_(4834),Y=_(2081),_e=_(8334),q=_(9814),Fe=_(2779),ce=_(8511);function xe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-radio-button",5),e.NdJ("blur",function(){return e.CHM(t),e.oxw().onTouched()}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}let Ue=(()=>{class o{constructor(t){this.formBuilder=t,this.typesOptions=[...N.id.values()]}get sellType(){return this.formGroup.get("sellType")}get company(){return this.formGroup.get("company")}get address(){return this.formGroup.get("address")}ngOnInit(){this.formGroup||(this.formGroup=this.formBuilder.group({sellType:[null,s.kI.required],company:[{value:null,disabled:!0}],address:[{value:null,disabled:!0}]})),this.valueChangesSub=this.formGroup.valueChanges.pipe((0,p.b)(t=>this.onChange(t))).subscribe()}ngOnDestroy(){var t;null===(t=this.valueChangesSub)||void 0===t||t.unsubscribe()}onChange(t){}onTouched(){}onValidatorChange(){}writeValue(t){this.sellType.reset(null,{emitEvent:!1}),this.company.reset({value:null,disabled:!0},{emitEvent:!1}),this.address.reset({value:null,disabled:!0},{emitEvent:!1}),(0,_e.M)(t)&&("sellType"in t&&t.sellType===N.id.get(N.o8)&&(this.company.enable({emitEvent:!1}),this.address.enable({emitEvent:!1})),this.formGroup.patchValue(t,{emitEvent:!1}))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.formGroup.disable():this.formGroup.enable()}validate(t){if(this.formGroup.valid)return null;const n={};return this.sellType.errors?n.billingType=this.sellType.errors:this.sellType.value===N.id.get(N.o8)&&(this.company.errors&&(n.billingCompany=this.company.errors),this.address.errors&&(n.billingAddress=this.address.errors)),n}registerOnValidatorChange(t){this.onValidatorChange=t}onSellTypeChange(t){t===N.id.get(N.o8)?(this.company.enable(),this.address.enable()):(this.company.reset({value:null,disabled:!0}),this.address.reset({value:null,disabled:!0}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-billing-details-form"]],inputs:{formGroup:"formGroup"},features:[e._Bn([{provide:s.JU,multi:!0,useExisting:o},{provide:s.Cf,multi:!0,useExisting:o}])],decls:5,vars:2,consts:function(){let i,t;return i=$localize`:Label for group of choices to select billing type from:Billing type`,t=$localize`:Name of field for address to bill to:Billing address`,[[3,"formGroup"],["formControlName","sellType","aria-label",i,3,"change"],[3,"value","blur",4,"ngFor","ngForOf"],["formControlName","company"],["formControlName","address","placeholder",t],[3,"value","blur"]]},template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"mat-radio-group",1),e.NdJ("change",function(a){return n.onSellTypeChange(a.value)}),e.YNc(2,xe,2,2,"mat-radio-button",2),e.qZA(),e._UZ(3,"app-company-form",3)(4,"app-addresses-editor-form",4),e.qZA()),2&t&&(e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("ngForOf",n.typesOptions))},directives:[s._Y,s.JL,s.sg,q.VQ,s.JJ,s.u,l.sg,q.U0,Fe.L,ce.U],styles:["form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}mat-radio-button[_ngcontent-%COMP%]:not(:first-child){margin-left:2rem}"]}),o})(),ke=(()=>{class o{constructor(t){this.formBuilder=t}get requestShipping(){return this.formGroup.get("requestShipping")}get shippingAddress(){return this.formGroup.get("shippingAddress")}ngOnInit(){this.formGroup||(this.formGroup=this.formBuilder.group({requestShipping:[null,s.kI.required],shippingAddress:[{value:null,disabled:!0},s.kI.required]})),this.valueChangesSub=this.formGroup.valueChanges.pipe((0,p.b)(t=>this.onChange(t))).subscribe()}ngOnDestroy(){var t;null===(t=this.valueChangesSub)||void 0===t||t.unsubscribe()}onChange(t){}onTouched(){}onValidatorChange(){}writeValue(t){this.requestShipping.reset(null,{emitEvent:!1}),this.shippingAddress.reset({value:null,disabled:!0},{emitEvent:!1}),(0,_e.M)(t)&&("requestShipping"in t&&!0===t.requestShipping&&this.shippingAddress.enable({emitEvent:!1}),this.formGroup.patchValue(t,{emitEvent:!1}))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1})}validate(t){if(this.formGroup.valid)return null;const n={};return this.requestShipping.errors&&(n.requestShipping=this.requestShipping.errors),this.shippingAddress.errors&&(n.shippingAddress=this.shippingAddress.errors),n}registerOnValidatorChange(t){this.onValidatorChange=t}onShippingRequirementChange(t){t?this.shippingAddress.enable():this.shippingAddress.reset({value:null,disabled:!0})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-shipping-form"]],inputs:{formGroup:"formGroup"},features:[e._Bn([{provide:s.JU,multi:!0,useExisting:o},{provide:s.Cf,multi:!0,useExisting:o}])],decls:9,vars:3,consts:function(){let i,t,n,r;return i=$localize`:Label to hint user that they must choose a delivery option:Choose a delivery option`,t=$localize`:Label for option to choose delivery to a shipping address:Deliver to address`,n=$localize`:Label for option to choose pick-up in store:Pickup in store`,r=$localize`:Name of field for address to deliver items to:Shipping address`,[[3,"formGroup"],["formControlName","requestShipping","aria-label",i,3,"change"],[3,"value","blur"],t,n,["formControlName","shippingAddress","placeholder",r]]},template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"mat-radio-group",1),e.NdJ("change",function(a){return n.onShippingRequirementChange(a.value)}),e.TgZ(2,"mat-radio-button",2),e.NdJ("blur",function(){return n.onTouched()}),e.TgZ(3,"span"),e.SDv(4,3),e.qZA()(),e.TgZ(5,"mat-radio-button",2),e.NdJ("blur",function(){return n.onTouched()}),e.TgZ(6,"span"),e.SDv(7,4),e.qZA()()(),e._UZ(8,"app-addresses-editor-form",5),e.qZA()),2&t&&(e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("value",!0),e.xp6(3),e.Q6J("value",!1))},directives:[s._Y,s.JL,s.sg,q.VQ,s.JJ,s.u,q.U0,ce.U],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap}mat-radio-button[_ngcontent-%COMP%]:not(:first-child){margin:1rem 0 0}app-store-addresses-editor-form[_ngcontent-%COMP%]{margin-top:1rem}@media (min-width: 641px){mat-radio-group[_ngcontent-%COMP%]{display:inline;display:initial}mat-radio-button[_ngcontent-%COMP%]:not(:first-child){margin:0 0 0 2rem}}"]}),o})(),qe=(()=>{class o{constructor(t,n,r){this.formBuilder=t,this.snackBarService=n,this.cartService=r,this.request=new e.vpe,this.formGroup=this.formBuilder.group({billing:null,customer:null,shipping:null})}get billing(){return this.formGroup.get("billing")}get customer(){return this.formGroup.get("customer")}get shipping(){return this.formGroup.get("shipping")}ngOnInit(){this.cartService.checkoutRequestData&&this.formGroup.patchValue(this.cartService.checkoutRequestData,{onlySelf:!0,emitEvent:!1}),this.checkoutRequestUpdateSub=this.formGroup.valueChanges.pipe((0,p.b)(t=>{this.cartService.checkoutRequestData=t})).subscribe()}ngOnDestroy(){var t;null===(t=this.checkoutRequestUpdateSub)||void 0===t||t.unsubscribe()}onRequest(){this.cartService.checkoutButtonPress.emit(),this.formGroup.invalid?this.snackBarService.open(M.uv,M.ec):this.request.emit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(G.ux),e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-checkout-request-form"]],outputs:{request:"request"},decls:19,vars:1,consts:function(){let i,t,n,r;return i=$localize`:Title of form for billing information:Billing Details`,t=$localize`:Title of form for personal information:Personal Information`,n=$localize`:Title of form for shipping information:Shipping Details`,r=$localize`:continue|Label for action button to proceed to next step in a form:Continue`,[[3,"formGroup","ngSubmit"],[1,"billing"],i,["formControlName","billing"],[1,"customer"],t,["formControlName","customer"],[1,"shipping"],n,["formControlName","shipping"],[1,"actions"],["type","submit","mat-button","","mat-raised-button","","color","accent",1,"request"],r]},template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onRequest()}),e.TgZ(1,"div",1)(2,"h3"),e.SDv(3,2),e.qZA(),e._UZ(4,"app-store-billing-details-form",3),e.qZA(),e.TgZ(5,"div",4)(6,"h3"),e.SDv(7,5),e.qZA(),e._UZ(8,"app-person-form",6),e.qZA(),e.TgZ(9,"div",7)(10,"h3"),e.SDv(11,8),e.qZA(),e._UZ(12,"app-store-shipping-form",9),e.qZA(),e.TgZ(13,"div",10)(14,"button",11)(15,"span"),e.SDv(16,12),e.qZA(),e.TgZ(17,"mat-icon"),e._uU(18,"arrow_forward"),e.qZA()()()()),2&t&&e.Q6J("formGroup",n.formGroup)},directives:[s._Y,s.JL,s.sg,Ue,s.JJ,s.u,B.c,ke,O.lW,C.Hw],styles:["form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:.25rem 0;gap:.25rem 0}.actions[_ngcontent-%COMP%]{text-align:center}"]}),o})();class le{}var D=_(9224);let He=(()=>{class o{constructor(){this.innerCheckoutDetails=new le,this.disabled=!0}get checkoutDetails(){return this.innerCheckoutDetails}set checkoutDetails(t){t.token&&t.url&&(this.disabled=!1,this.innerCheckoutDetails=t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-checkout-button"]],inputs:{checkoutDetails:"checkoutDetails"},decls:8,vars:3,consts:function(){let i;return i=$localize`:proceed to checkout|Label for action button to proceed towards payment page:Proceed to checkout`,[["method","post",3,"action"],["form",""],["type","hidden","name","token_ws",3,"value"],["type","submit","mat-button","","mat-raised-button","","color","accent",1,"checkout",3,"disabled","click"],i]},template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"form",0,1),e._UZ(2,"input",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(r),e.MAs(1).submit()}),e.TgZ(4,"span"),e.SDv(5,4),e.qZA(),e.TgZ(6,"mat-icon"),e._uU(7,"attach_money"),e.qZA()()()}2&t&&(e.Q6J("action",n.checkoutDetails.url,e.LSH),e.xp6(2),e.Q6J("value",n.checkoutDetails.token),e.xp6(1),e.Q6J("disabled",n.disabled))},directives:[s._Y,s.JL,s.F,O.lW,C.Hw],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var Xe=_(5488);function Be(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span",15)(5,"span",16),e._uU(6),e.qZA(),e.TgZ(7,"b",17),e._uU(8),e.qZA(),e.TgZ(9,"i",18),e._uU(10),e.qZA()(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(6),e.AsE("",t.checkoutRequest.customer.firstName," ",t.checkoutRequest.customer.lastName,""),e.xp6(2),e.hij("ID number ",t.checkoutRequest.customer.idNumber,""),e.xp6(2),e.Oqu(t.checkoutRequest.customer.email)}}function ze(o,i){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"person_off"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span",15)(4,"span",16),e.SDv(5,19),e.qZA()())}function Qe(o,i){if(1&o&&(e.TgZ(0,"div",20)(1,"mat-icon"),e._uU(2,"receipt"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(t.checkoutRequest.billing.sellType)}}function Je(o,i){if(1&o&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"business"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span",15)(5,"span",16),e._uU(6),e.qZA(),e.TgZ(7,"b",22),e._uU(8),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(6),e.Oqu(t.checkoutRequest.billing.company.name),e.xp6(2),e.hij("Company ID number ",t.checkoutRequest.billing.company.idNumber,"")}}function Ye(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2,"local_shipping"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"address"),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,1,t.checkoutRequest.shipping.shippingAddress))}}function Ve(o,i){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"local_shipping"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e.SDv(4,23),e.qZA())}function Ke(o,i){if(1&o&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h3",6),e.SDv(3,7),e.qZA()(),e.TgZ(4,"div",8),e.YNc(5,Be,11,4,"ng-container",9),e.YNc(6,ze,6,0,"ng-template",null,10,e.W1O),e.qZA(),e.YNc(8,Qe,6,1,"div",11),e.YNc(9,Je,9,2,"div",12),e.TgZ(10,"div",13),e.YNc(11,Ye,7,3,"ng-container",9),e.YNc(12,Ve,5,0,"ng-template",null,14,e.W1O),e.qZA()()),2&o){const t=e.MAs(7),n=e.MAs(13),r=e.oxw();e.xp6(5),e.Q6J("ngIf",r.checkoutRequest.customer)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",null==r.checkoutRequest.billing?null:r.checkoutRequest.billing.sellType),e.xp6(1),e.Q6J("ngIf",null==r.checkoutRequest.billing?null:r.checkoutRequest.billing.company),e.xp6(2),e.Q6J("ngIf",null==r.checkoutRequest.shipping?null:r.checkoutRequest.shipping.shippingAddress)("ngIfElse",n)}}let We=(()=>{class o{constructor(t,n){this.cartService=t,this.checkoutService=n,this.confirmed=new e.vpe,this.loading=!1,this.checkoutDetails=new le}ngOnInit(){this.cartService.checkoutRequestData&&(this.checkoutRequest=this.cartService.checkoutRequestData),this.checkoutButtonPressSubscrption=this.cartService.checkoutButtonPress.pipe((0,p.b)(()=>{this.checkoutRequest=this.cartService.checkoutRequestData})).subscribe()}ngOnDestroy(){this.checkoutButtonPressSubscrption.unsubscribe()}onClickRequest(){this.loading=!0,this.cartService.cartDetails$.pipe((0,$.q)(1),(0,h.w)(t=>this.checkoutService.requestPayment(this.checkoutRequest,t)),(0,Z.K)(t=>(this.loading=!1,(0,X._)(t))),(0,p.b)(t=>{this.confirmed.emit(),this.checkoutDetails=t})).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E),e.Y36(re))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-checkout-confirmation"]],outputs:{confirmed:"confirmed"},decls:12,vars:3,consts:function(){let i,t,n,r,a,c;return i=$localize`:Label to instruct user that, after having checked correctness of billing/personal/shipping information, they click the action button to request a new transaction:After you've checked your details, you may click on the 'Request transaction' button below:`,t=$localize`:request transaction|Label for action button to request a new transaction from payment service:Request transaction`,n=$localize`:Label to instruct user that, after requesting and waiting for a new transaction, they click the action button to proceed towards payment page:After requesting your transaction, you may click on the 'Proceed to checkout' button below:`,r=$localize`:Title of widget to request confirmation of billing/personal/shipping information being correct:Is This Information Correct?`,a=$localize`:Label to indicate that a customer chose not to give personal information:Anonymous`,c=$localize`:in-store delivery|Label to indicate that a customer chose to pick up items in store:Pickup in store`,[[4,"ngIf"],i,["type","button","mat-button","","mat-raised-button","","color","accent",1,"request",3,"disabled","click"],t,n,[3,"checkoutDetails"],["mat-card-title",""],r,[1,"customer"],[4,"ngIf","ngIfElse"],["noCustomer",""],["class","type",4,"ngIf"],["class","company",4,"ngIf"],[1,"shipping"],["noShipping",""],[1,"details"],[1,"name"],[1,"idCard"],[1,"email"],a,[1,"type"],[1,"company"],[1,"idNumber"],c]},template:function(t,n){1&t&&(e.YNc(0,Ke,14,6,"mat-card",0),e.TgZ(1,"p"),e.SDv(2,1),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.onClickRequest()}),e.TgZ(4,"span"),e.SDv(5,3),e.qZA(),e.TgZ(6,"mat-icon"),e._uU(7,"point_of_sale"),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"p"),e.SDv(10,4),e.qZA(),e._UZ(11,"app-store-checkout-button",5)),2&t&&(e.Q6J("ngIf",n.checkoutRequest),e.xp6(3),e.Q6J("disabled",n.loading),e.xp6(8),e.Q6J("checkoutDetails",n.checkoutDetails))},directives:[l.O5,D.a8,D.dk,D.n5,C.Hw,O.lW,k.d,He],pipes:[Xe.q],styles:["[_nghost-%COMP%]{display:block;padding:1rem;text-align:center}mat-card[_ngcontent-%COMP%]{text-align:left;display:grid;grid-template-columns:1fr;grid-gap:.5rem;gap:.5rem}mat-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;text-align:left}mat-card[_ngcontent-%COMP%]   .customer[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%]{display:inline-flex;flex-flow:column nowrap}mat-card[_ngcontent-%COMP%]   .customer[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%] > .details[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:break-spaces}button.request[_ngcontent-%COMP%]{margin:0 0 1rem}@media (min-width: 1008px){[_nghost-%COMP%]{padding:2rem}}"]}),o})();function je(o,i){1&o&&e.SDv(0,15)}function et(o,i){1&o&&e.SDv(0,16)}let tt=(()=>{class o{constructor(t,n,r){this.cartService=t,this.appService=n,this.router=r,this.inputEditable=!0}ngOnInit(){this.cartNetValue$=this.cartService.cartNetValue$.pipe(),this.loginStateChangeSubscription=this.appService.isLoggedInChanges$.pipe((0,J.h)(t=>!t),(0,p.b)(()=>this.router.navigateByUrl("/"))).subscribe()}ngOnDestroy(){var t;null===(t=this.loginStateChangeSubscription)||void 0===t||t.unsubscribe()}onConfirmation(){this.inputEditable=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E),e.Y36(v.z),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-cart-review"]],decls:23,vars:7,consts:function(){let i,t,n,r;return i=$localize`:cart contents review|Title of widget displaying contents of cart:Cart Review`,t=$localize`:subtotal sell value|Label with cart subtotal value (products only):Subtotal`,n=$localize`:Title of form step to input checkout details:Required Information`,r=$localize`:Title of form step to confirm checkout details:Confirmation`,[[1,"cart"],i,[1,"subtotal"],[1,"label"],t,[1,"value"],["linear",""],["stepper",""],[3,"stepControl","editable"],["inputStep",""],["matStepLabel",""],[3,"request"],["checkoutRequest",""],["confirmationStep",""],[3,"confirmed"],n,r]},template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"h3"),e.SDv(2,1),e.qZA(),e._UZ(3,"app-store-cart-contents-table")(4,"mat-divider"),e.TgZ(5,"div",2)(6,"span",3),e.SDv(7,4),e.qZA(),e.TgZ(8,"span",5),e._uU(9),e.ALo(10,"currency"),e.ALo(11,"async"),e.qZA()()(),e.TgZ(12,"mat-horizontal-stepper",6,7)(14,"mat-step",8,9),e.YNc(16,je,1,0,"ng-template",10),e.TgZ(17,"app-store-checkout-request-form",11,12),e.NdJ("request",function(){return e.CHM(r),e.MAs(13).next()}),e.qZA()(),e.TgZ(19,"mat-step",null,13),e.YNc(21,et,1,0,"ng-template",10),e.TgZ(22,"app-store-checkout-confirmation",14),e.NdJ("confirmed",function(){return n.onConfirmation()}),e.qZA()()()}if(2&t){const r=e.MAs(18);e.xp6(9),e.Oqu(e.lcZ(10,3,e.lcZ(11,5,n.cartNetValue$))),e.xp6(5),e.Q6J("stepControl",r.formGroup)("editable",n.inputEditable)}},directives:[Ze,k.d,Y.Vq,Y.C0,Y.VY,qe,We],pipes:[l.H9,l.Ov],styles:["[_nghost-%COMP%]{flex:1 1 auto;padding:0 1rem 2rem;display:flex;flex-flow:column nowrap}h1[_ngcontent-%COMP%]{font-weight:400;margin:0}h2[_ngcontent-%COMP%]{font-weight:lighter;text-align:left}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{margin:.25rem 0}.cart[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;overflow:auto}.cart[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{flex:0 0 auto}.cart[_ngcontent-%COMP%] > app-cart-contents-table[_ngcontent-%COMP%]{flex:0 1 auto;max-height:20rem}.cart[_ngcontent-%COMP%] > .subtotal[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-flow:row nowrap;padding:.75rem 1rem;justify-content:space-between;align-items:center;text-align:center}@media (min-width: 641px){.cart[_ngcontent-%COMP%] > app-cart-contents-table[_ngcontent-%COMP%]{flex:0 1 auto;max-height:30rem}}@media (min-width: 1008px){[_nghost-%COMP%]{padding:0 2rem 2rem;display:grid;grid-template-columns:repeat(2,1fr);grid-row-gap:2rem;row-gap:2rem;grid-column-gap:4rem;-moz-column-gap:4rem;column-gap:4rem;justify-content:center}.cart[_ngcontent-%COMP%] > app-cart-contents-table[_ngcontent-%COMP%]{flex:0 1 auto;max-height:none}.cart[_ngcontent-%COMP%] > .subtotal[_ngcontent-%COMP%]{padding:.75rem 2rem}}"]}),o})();var f=_(2340);class ot{}var nt=_(6657);let it=(()=>{class o{constructor(t,n){this.productListApiService=t,this.catalogService=n,this.pageSource=new F.t(1),this.list=new ot,this.addProductToCart=new e.vpe,this.pageIndex=0,this.pageSize=10,this.page$=this.pageSource.asObservable(),this.loadingProducts=!0,this.products$=this.page$.pipe((0,T.U)(r=>r.items)),this.totalCount$=this.page$.pipe((0,T.U)(r=>r.totalCount))}ngOnInit(){this.reloadItems()}ngOnDestroy(){var t;null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe()}onPage(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.reloadItems()}onAddProductToCart(t){this.addProductToCart.emit(t)}onViewProduct(t){this.catalogService.viewProduct(t)}reloadItems(){var t;this.loadingProducts=!0,null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe(),this.loadingSubscription=this.productListApiService.fetchContents(this.list,this.pageIndex,this.pageSize).pipe((0,p.b)(n=>this.pageSource.next(n)),(0,Q.x)(()=>this.loadingProducts=!1)).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.u.dataProductLists),e.Y36(U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-product-list-contents-display"]],inputs:{list:"list"},outputs:{addProductToCart:"addProductToCart"},decls:5,vars:11,consts:[[3,"loading","products","totalCount","pageIndex","pageSize","showAddToCartButtons","page","addProductToCart","viewProduct"]],template:function(t,n){1&t&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.TgZ(2,"app-products-display",0),e.NdJ("page",function(a){return n.onPage(a)})("addProductToCart",function(a){return n.onAddProductToCart(a)})("viewProduct",function(a){return n.onViewProduct(a)}),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(n.list.name),e.xp6(1),e.Q6J("loading",n.loadingProducts)("products",e.lcZ(3,7,n.products$))("totalCount",e.lcZ(4,9,n.totalCount$))("pageIndex",n.pageIndex)("pageSize",n.pageSize)("showAddToCartButtons",!0))},directives:[nt.p],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;text-align:center}"]}),o})();var rt=_(1161);let at=(()=>{class o{constructor(){this.mapWidth=600,this.mapHeight=450}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-location"]],inputs:{mapWidth:"mapWidth",mapHeight:"mapHeight"},decls:3,vars:2,consts:function(){let i;return i=$localize`:Label inviting users to check the location map:You can find us in:`,[i,[3,"width","height"]]},template:function(t,n){1&t&&(e.TgZ(0,"span"),e.SDv(1,0),e.qZA(),e._UZ(2,"app-gmap",1)),2&t&&(e.xp6(2),e.Q6J("width",n.mapWidth)("height",n.mapHeight))},directives:[rt.c],styles:["[_nghost-%COMP%]{padding:1rem;text-align:center}span[_ngcontent-%COMP%]{display:block;font-size:1.2rem;font-weight:700;margin-bottom:1rem}"]}),o})();function st(o,i){1&o&&e._UZ(0,"app-centered-mat-spinner")}function _t(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-store-product-list-contents-display",9),e.NdJ("addProductToCart",function(r){return e.CHM(t),e.oxw().onAddProductToCart(r)}),e.qZA()}2&o&&e.Q6J("list",i.$implicit)}let ct=(()=>{class o{constructor(t,n){this.catalogService=t,this.cartService=n,this.storeCatalogTopBannerImages=f.N.staticImages.topBanners,this.storeCatalogBottomBannerImages=f.N.staticImages.bottomBanners,this.loading$=this.catalogService.loading$.pipe(),this.lists$=this.catalogService.listsPage$.pipe((0,T.U)(r=>r.items))}ngOnInit(){this.catalogService.reloadItems()}onAddProductToCart(t){this.cartService.addProductToCart(t)}onViewProduct(t){this.catalogService.viewProduct(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U),e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-catalog"]],decls:14,vars:14,consts:[[4,"ngIf"],[1,"top","banners"],[3,"images"],[1,"products",3,"hidden"],[3,"list","addProductToCart",4,"ngFor","ngForOf"],[1,"bottom","banners"],[3,"showSlideSelectors","showNextPreviousButtons","images"],[1,"location"],[3,"mapHeight"],[3,"list","addProductToCart"]],template:function(t,n){1&t&&(e.YNc(0,st,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e._UZ(3,"app-slideshow",2),e.qZA(),e.TgZ(4,"div",3),e.ALo(5,"async"),e.YNc(6,_t,1,1,"app-store-product-list-contents-display",4),e.ALo(7,"async"),e.qZA(),e._UZ(8,"mat-divider"),e.TgZ(9,"div",5),e._UZ(10,"app-slideshow",6),e.qZA(),e._UZ(11,"mat-divider"),e.TgZ(12,"div",7),e._UZ(13,"app-store-location",8),e.qZA()),2&t&&(e.Q6J("ngIf",e.lcZ(1,8,n.loading$)),e.xp6(3),e.Q6J("images",n.storeCatalogTopBannerImages),e.xp6(1),e.Q6J("hidden",e.lcZ(5,10,n.loading$)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,12,n.lists$)),e.xp6(4),e.Q6J("showSlideSelectors",!1)("showNextPreviousButtons",!1)("images",n.storeCatalogBottomBannerImages),e.xp6(3),e.Q6J("mapHeight",200))},directives:[l.O5,L.Z,ie.Y,l.sg,it,k.d,at],pipes:[l.Ov],styles:["[_nghost-%COMP%]{min-height:100%;display:flex;flex-flow:column nowrap;align-items:center;justify-items:stretch}h2[_ngcontent-%COMP%]{margin:0;padding:1rem 1rem 0;align-self:stretch;text-align:center}.banners[_ngcontent-%COMP%]{margin:1rem 0;max-width:1200px;display:grid;justify-content:center;align-content:center}.products[_ngcontent-%COMP%]{flex:1 1 auto;align-self:stretch;justify-content:center;overflow:hidden;max-width:90%;margin:0 auto}.location[_ngcontent-%COMP%]{width:70%}@media (min-width: 641px){h2[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 801px){.products[_ngcontent-%COMP%]{max-width:70%}}@media (min-width: 1008px){.products[_ngcontent-%COMP%]{grid-template-columns:repeat(4,20rem)}}"]}),o})();var V=_(5254);function lt(o,i){1&o&&(e.TgZ(0,"th",11)(1,"span"),e.SDv(2,12),e.qZA()())}function ut(o,i){if(1&o&&(e.TgZ(0,"td",13)(1,"span",14),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"span",15),e._uU(5),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.product.name),e.xp6(3),e.Oqu(t.product.barcode)}}function pt(o,i){1&o&&(e.TgZ(0,"th",16)(1,"span"),e.SDv(2,17),e.qZA()())}function gt(o,i){if(1&o&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.unitValue))}}function dt(o,i){1&o&&(e.TgZ(0,"th",16)(1,"span"),e.SDv(2,19),e.qZA()())}function mt(o,i){if(1&o&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.units)}}function Tt(o,i){1&o&&(e.TgZ(0,"th",11)(1,"span"),e.SDv(2,20),e.qZA()())}function St(o,i){if(1&o&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.unitValue*t.units))}}function Ot(o,i){1&o&&e._UZ(0,"tr",21)}function Ct(o,i){1&o&&e._UZ(0,"tr",22)}let Et=(()=>{class o{constructor(){this.dataSource=new g.by,this.tableColumns=["product","price","quantity","total"]}get details(){return this.dataSource.data}set details(t){this.dataSource.data=t}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-receipt-details-table"]],inputs:{details:"details",tableColumns:"tableColumns"},decls:15,vars:3,consts:function(){let i,t,n,r;return i=$localize`:product|Name of table header for name and code of product:Product`,t=$localize`:Name of table header for price per product unit:Price`,n=$localize`:Name of table header for product units in cart:Units`,r=$localize`:Name of table header for the value of product price x units in cart:Subtotal`,[["mat-table","",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["mat-header-cell","","class","center",4,"matHeaderCellDef"],["mat-cell","","class","center",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],i,["mat-cell",""],[1,"name"],[1,"barcode"],["mat-header-cell","",1,"center"],t,["mat-cell","",1,"center"],n,r,["mat-header-row",""],["mat-row",""]]},template:function(t,n){1&t&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,lt,3,0,"th",2),e.YNc(3,ut,6,2,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,pt,3,0,"th",5),e.YNc(6,gt,4,3,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,dt,3,0,"th",5),e.YNc(9,mt,3,1,"td",6),e.BQk(),e.ynx(10,8),e.YNc(11,Tt,3,0,"th",2),e.YNc(12,St,4,3,"td",6),e.BQk(),e.YNc(13,Ot,1,0,"tr",9),e.YNc(14,Ct,1,0,"tr",10),e.qZA()),2&t&&(e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.tableColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tableColumns))},directives:[g.BZ,g.w1,g.fO,g.ge,g.Dz,g.ev,g.as,g.XQ,g.nj,g.Gk],pipes:[l.H9],styles:["[_nghost-%COMP%]{overflow:auto}.mat-column-product[_ngcontent-%COMP%]{min-width:8rem;max-width:12rem}.mat-column-price[_ngcontent-%COMP%]{min-width:6rem;max-width:8rem}.mat-column-quantity[_ngcontent-%COMP%], .mat-column-total[_ngcontent-%COMP%]{min-width:9rem;max-width:9rem}.mat-column-product[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem}.mat-column-product[_ngcontent-%COMP%]   .barcode[_ngcontent-%COMP%]{font-size:.9rem;color:gray}"]}),o})();function ft(o,i){if(1&o&&(e.TgZ(0,"p"),e.SDv(1,8),e.ALo(2,"currency"),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.pQV(e.xi3(2,1,t.receipt.transportValue,"CLP")),e.QtT(1)}}function ht(o,i){if(1&o&&(e.TgZ(0,"p"),e.SDv(1,9),e.ALo(2,"currency"),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.pQV(e.xi3(2,1,t.receipt.taxValue,"CLP")),e.QtT(1)}}let Rt=(()=>{class o{constructor(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-receipt-card"]],inputs:{receipt:"receipt"},decls:19,vars:13,consts:function(){let i,t,n,r,a,c;return i=$localize`:Label with transaction confirmation date:Confirmed on ${"\ufffd0\ufffd"}:INTERPOLATION:`,t=$localize`:Label with total count of items in transaction being {{ receipt.totalItems }}:Total items: ${"\ufffd0\ufffd"}:INTERPOLATION:`,n=$localize`:Label with total price of transaction being {{ receipt.totalValue}}:Total: ${"\ufffd0\ufffd"}:INTERPOLATION:`,r=$localize`:Title of widget displaying products and details of transaction:Details`,a=$localize`:Label with total price of transport being {{ receipt.transportValue }}:Transport: ${"\ufffd0\ufffd"}:INTERPOLATION:`,c=$localize`:Label with total price of taxes being {{ receipt.taxValue }}:Taxes: ${"\ufffd0\ufffd"}:INTERPOLATION:`,[["aria-hidden","true",1,"icon-wrapper"],["mat-card-title",""],i,t,[4,"ngIf"],n,r,[3,"details"],a,c]},template:function(t,n){1&t&&(e.TgZ(0,"mat-card")(1,"div",0)(2,"mat-icon"),e._uU(3,"receipt_long"),e.qZA()(),e.TgZ(4,"h2",1),e._uU(5),e.qZA(),e.TgZ(6,"p"),e.SDv(7,2),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"p"),e.SDv(10,3),e.qZA(),e.YNc(11,ft,3,4,"p",4),e.YNc(12,ht,3,4,"p",4),e.TgZ(13,"p"),e.SDv(14,5),e.ALo(15,"currency"),e.qZA(),e.TgZ(16,"h3"),e.SDv(17,6),e.qZA(),e._UZ(18,"app-store-receipt-details-table",7),e.qZA()),2&t&&(e.xp6(5),e.Oqu(n.receipt.status),e.xp6(3),e.pQV(e.xi3(8,7,n.receipt.date,"short")),e.QtT(7),e.xp6(2),e.pQV(n.receipt.totalItems),e.QtT(10),e.xp6(1),e.Q6J("ngIf",n.receipt.transportValue),e.xp6(1),e.Q6J("ngIf",n.receipt.taxValue),e.xp6(3),e.pQV(e.xi3(15,10,n.receipt.totalValue,"CLP")),e.QtT(14),e.xp6(3),e.Q6J("details",n.receipt.details))},directives:[D.a8,C.Hw,D.n5,l.O5,Et],pipes:[l.uU,l.H9],styles:["[_nghost-%COMP%]{height:100%;padding:1em;display:grid;justify-content:center;align-content:center;overflow-x:hidden;overflow-y:auto}mat-card[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}.icon-wrapper[_ngcontent-%COMP%]{padding:1em}mat-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;font-size:4rem}"]}),o})();function Pt(o,i){1&o&&e._UZ(0,"app-centered-mat-spinner")}function Mt(o,i){if(1&o&&(e._UZ(0,"app-store-receipt-card",2),e.ALo(1,"async")),2&o){const t=e.oxw();e.Q6J("receipt",e.lcZ(1,1,t.receipt$))}}let Nt=(()=>{class o{constructor(t,n,r){this.service=t,this.route=n,this.router=r,this.receiptSource=new F.t(1),this.loadingSource=new b.X(!0),this.loading$=this.loadingSource.asObservable(),this.receipt$=this.receiptSource.asObservable()}ngOnInit(){this.loadReceipt()}ngOnDestroy(){var t;null===(t=this.loadSubscription)||void 0===t||t.unsubscribe(),this.receiptSource.complete(),this.loadingSource.complete()}loadReceipt(){this.loadSubscription=this.route.queryParamMap.pipe((0,$.q)(1),(0,h.w)(t=>{const n=t.get("token");return n?this.service.fetchReceipt(n).pipe((0,p.b)(r=>this.receiptSource.next(r)),(0,Q.x)(()=>this.loadingSource.next(!1))):(0,V.D)(this.router.navigateByUrl("/"))}),(0,Z.K)(()=>(0,V.D)(this.router.navigateByUrl("/")))).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(se),e.Y36(m.gz),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-receipt"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loadedReceipt",""],[3,"receipt"]],template:function(t,n){if(1&t&&(e.YNc(0,Pt,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.YNc(2,Mt,2,3,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,n.loading$))("ngIfElse",r)}},directives:[l.O5,L.Z,Rt],pipes:[l.Ov],styles:["[_nghost-%COMP%]{height:100%;padding:1em;display:grid;justify-content:center;align-content:center;overflow-x:hidden;overflow-y:auto}mat-card[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}.icon-wrapper[_ngcontent-%COMP%]{padding:1em}mat-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;font-size:4rem}"]}),o})();class ue{}let K=(()=>{class o{constructor(t,n,r){this.productsApiService=t,this.route=n,this.router=r,this.isLoadingSearchSource=new b.X(!1),this.currentPageSource=new F.t(1),this.searchQuery=new ue,this.pageIndex=0,this.pageSize=8,this.sortBy="name",this.order="asc",this.currentPage$=this.currentPageSource.asObservable(),this.isLoadingSearch$=this.isLoadingSearchSource.asObservable(),this.readQueryParams()}ngOnDestroy(){this.isLoadingSearchSource.complete(),this.currentPageSource.complete()}readQueryParams(){const t=this.route.snapshot.queryParams;(t.nameLike||t)&&(this.searchQuery.nameLike=t.nameLike),t.categoryCode&&(this.searchQuery.categoryCode=t.categoryCode)}paginate(t){return this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.reload()}reload(){var t,n;const r={};return(null===(t=this.searchQuery)||void 0===t?void 0:t.nameLike)?r.nameLike=this.searchQuery.nameLike:this.route.snapshot.queryParamMap.has("nameLike")&&(r.nameLike=void 0),(null===(n=this.searchQuery)||void 0===n?void 0:n.categoryCode)&&(r.categoryCode=this.searchQuery.categoryCode),(0,V.D)(this.router.navigate([],{relativeTo:this.route,queryParams:r,queryParamsHandling:""})).pipe((0,p.b)(()=>this.isLoadingSearchSource.next(!0)),(0,h.w)(()=>this.productsApiService.fetchPage(this.pageIndex,this.pageSize,this.sortBy,this.order,r)),(0,p.b)(a=>{this.currentPageSource.next(a),this.isLoadingSearchSource.next(!1)}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(y.u.dataProducts),e.LFG(m.gz),e.LFG(m.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var At=_(9062),It=_(3081);function vt(o,i){1&o&&e._UZ(0,"app-centered-mat-spinner")}function bt(o,i){1&o&&(e.ynx(0),e.TgZ(1,"div",5)(2,"p"),e.SDv(3,6),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"sentiment_very_dissatisfied"),e.qZA()(),e.BQk())}function Lt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-product-card",10),e.NdJ("addToCart",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onAddProductToCart(a)})("view",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onViewProduct(a)}),e.qZA()}if(2&o){const t=i.$implicit;e.Q6J("showAddToCartButton",!0)("product",t)}}const yt=function(){return[8,20,40,80]};function Gt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-paginator",7),e.NdJ("page",function(r){return e.CHM(t),e.oxw().onPage(r)}),e.ALo(1,"async"),e.qZA(),e.TgZ(2,"div",8),e.YNc(3,Lt,1,2,"app-product-card",9),e.ALo(4,"async"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("showFirstLastButtons",!0)("pageSizeOptions",e.DdM(8,yt))("length",e.lcZ(1,4,t.totalCount$)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,6,t.searchResults$))}}let $t=(()=>{class o{constructor(t,n,r){this.searchService=t,this.cartService=n,this.catalogService=r,this.isLoadingSearch$=this.searchService.isLoadingSearch$.pipe(),this.searchResults$=this.searchService.currentPage$.pipe((0,T.U)(a=>a.items)),this.totalCount$=this.searchService.currentPage$.pipe((0,T.U)(a=>a.totalCount)),this.searchService.readQueryParams()}ngOnInit(){this.reloadSub=this.searchService.reload().subscribe()}ngOnDestroy(){var t;null===(t=this.reloadSub)||void 0===t||t.unsubscribe()}onPage(t){var n;null===(n=this.reloadSub)||void 0===n||n.unsubscribe(),this.reloadSub=this.searchService.paginate(t).subscribe()}onAddProductToCart(t){this.cartService.addProductToCart(t)}onViewProduct(t){this.catalogService.viewProduct(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(K),e.Y36(E),e.Y36(U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-search"]],decls:10,vars:10,consts:function(){let i,t;return i=$localize`:Title for page on search results:Search results`,t=$localize`:Label to hint users that there are zero results present:No products matched your search`,[[4,"ngIf"],[1,"container",3,"hidden"],i,[4,"ngIf","ngIfElse"],["results",""],[1,"empty"],t,[3,"showFirstLastButtons","pageSizeOptions","length","page"],[1,"contents"],[3,"showAddToCartButton","product","addToCart","view",4,"ngFor","ngForOf"],[3,"showAddToCartButton","product","addToCart","view"]]},template:function(t,n){if(1&t&&(e.YNc(0,vt,1,0,"app-centered-mat-spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.TgZ(4,"h3"),e.SDv(5,2),e.qZA(),e.YNc(6,bt,6,0,"ng-container",3),e.ALo(7,"async"),e.YNc(8,Gt,5,9,"ng-template",null,4,e.W1O),e.qZA()),2&t){const r=e.MAs(9);e.Q6J("ngIf",e.lcZ(1,4,n.isLoadingSearch$)),e.xp6(2),e.Q6J("hidden",e.lcZ(3,6,n.isLoadingSearch$)),e.xp6(4),e.Q6J("ngIf",0===e.lcZ(7,8,n.totalCount$))("ngIfElse",r)}},directives:[l.O5,L.Z,C.Hw,At.NW,l.sg,It.Y],pipes:[l.Ov],styles:["[_nghost-%COMP%]{flex:1 1 auto;text-align:center}.container[_ngcontent-%COMP%]{flex:1 1 auto;display:grid;justify-items:center}h3[_ngcontent-%COMP%]{flex:0 0 auto;font-size:1.5rem}.contents[_ngcontent-%COMP%]{flex:1 1 auto;max-width:1280px;margin:0 .5rem;display:flex;flex-flow:row wrap;justify-content:center}.empty[_ngcontent-%COMP%]{margin:10rem 0}.empty[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;font-size:3.5rem}app-product-card[_ngcontent-%COMP%]{margin:.25rem}@media (min-width: 641px){app-product-card[_ngcontent-%COMP%]{margin:.5rem}}@media (min-width: 1304px){.contents[_ngcontent-%COMP%]{margin:1rem 0 2rem;align-self:center}}"]}),o})();var Dt=_(5103);function wt(o,i){if(1&o&&e._UZ(0,"img",3),2&o){const t=e.oxw();e.Q6J("src",t.appLogo.url,e.LSH)("alt",t.appTitle)}}function Zt(o,i){if(1&o&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.appTitle)}}let Ft=(()=>{class o{constructor(){this.appTitle=f.N.labels.name,this.appLogo=f.N.staticImages.logo}onClickViewCompanyDetails(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-header-brand"]],decls:4,vars:2,consts:[["routerLink","/"],[3,"src","alt",4,"ngIf","ngIfElse"],["title",""],[3,"src","alt"]],template:function(t,n){if(1&t&&(e.TgZ(0,"a",0),e.YNc(1,wt,1,2,"img",1),e.YNc(2,Zt,2,1,"ng-template",null,2,e.W1O),e.qZA()),2&t){const r=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==n.appLogo?null:n.appLogo.url)("ngIfElse",r)}},directives:[m.yS,l.O5],styles:["a[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center;justify-content:center;cursor:pointer}a[_ngcontent-%COMP%]:hover{background-color:#0003}img[_ngcontent-%COMP%]{max-height:4rem}@media (min-width: 641px){a[_ngcontent-%COMP%]{padding:.5rem 1rem}img[_ngcontent-%COMP%]{max-height:7rem}}"]}),o})();var xt=_(7544);const Ut=function(){return["/store","cart"]};function kt(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"a",3)(2,"mat-icon",4),e.ALo(3,"async"),e._uU(4,"shopping_cart"),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(4,Ut)),e.xp6(1),e.Q6J("matBadge",e.lcZ(3,2,t.cartItemCount$))}}function qt(o,i){1&o&&(e.TgZ(0,"a",5)(1,"mat-icon",6),e._uU(2,"shopping_cart"),e.qZA()())}let Ht=(()=>{class o{constructor(t){this.cartService=t}ngOnInit(){this.cartHasItems$=this.cartService.cartDetails$.pipe((0,T.U)(t=>t.length>0)),this.cartItemCount$=this.cartService.cartItemCount$.pipe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-header-navigation"]],decls:7,vars:4,consts:function(){let i,t;return i=$localize`:Label for link to navigate to storefront:Go to storefront`,t=$localize`:Label for link to navigate to cart:Go to cart review`,[["mat-button","","routerLink","/store","aria-label",i],[4,"ngIf","ngIfElse"],["emptyCart",""],["mat-button","","aria-label",t,1,"full","cart",3,"routerLink"],[3,"matBadge"],["mat-button","","disabled","",1,"empty","cart"],[1,"material-icons-outlined"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"a",0)(1,"mat-icon"),e._uU(2,"storefront"),e.qZA()(),e.YNc(3,kt,5,5,"ng-container",1),e.ALo(4,"async"),e.YNc(5,qt,3,0,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,n.cartHasItems$))("ngIfElse",r)}},directives:[O.zs,m.yS,C.Hw,l.O5,xt.k],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-evenly;align-items:stretch;justify-items:center}a[mat-button][_ngcontent-%COMP%]{display:grid;align-items:center;justify-content:center;border-radius:0;padding:0}.cart.full[_ngcontent-%COMP%]{background-color:#0003}@media (max-width: 640px){a[mat-button][_ngcontent-%COMP%]{min-width:3.5rem}}@media (min-width: 641px){a[mat-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}}"]}),o})();var Xt=_(13),Bt=_(7839);function zt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickResetForm()}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}let Qt=(()=>{class o{constructor(t,n,r,a,c){this.formBuilder=t,this.dialogService=n,this.searchService=r,this.route=a,this.router=c,this.formGroup=this.formBuilder.group({nameLike:[""],categoryCode:[null]})}get nameLike(){return this.formGroup.get("nameLike")}get categoryCode(){return this.formGroup.get("categoryCode")}ngOnInit(){this.productSearchChanges=this.formGroup.valueChanges.pipe((0,Xt.b)(400),(0,p.b)(t=>{var n;""===(null===(n=t.nameLike)||void 0===n?void 0:n.trim())&&(t.nameLike=""),this.searchService.searchQuery=t,this.searchService.pageIndex=0}),(0,h.w)(()=>this.searchService.reload())).subscribe()}ngOnDestroy(){var t;null===(t=this.productSearchChanges)||void 0===t||t.unsubscribe()}onTouched(){"search"!==this.route.firstChild.routeConfig.path&&this.router.navigateByUrl("/store/search")}onClickOpenCategoryPicker(){this.dialogService.open(Bt.P,{width:"24rem"}).afterClosed().pipe((0,p.b)(t=>{(null==t?void 0:t.code)?(this.categoryCode.setValue(t.code),this.categoryCode.markAsDirty()):null===t&&this.categoryCode.reset({value:null})})).subscribe()}onClickResetForm(){this.formGroup.reset({nameLike:"",categoryCode:null}),this.searchService.searchQuery=new ue}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(S.uw),e.Y36(K),e.Y36(m.gz),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-header-search-form"]],decls:14,vars:2,consts:function(){let i,t,n,r;return i=$localize`:Label to hint users to type in a search term:What are you looking for?`,t=$localize`:Label for action button to clear search terms:Clear search terms`,n=$localize`:Label for action button to pick a category from the tree:Select category`,r=$localize`:Label to hint users that search is triggered upon use of the search field or clicking a button to select a category:Just type something, or click on the right 'burger' button, and we will match your search terms`,[[3,"formGroup"],["appearance","fill",3,"click"],i,["matInput","","type","text","formControlName","nameLike"],["matPrefix",""],["type","reset","aria-label",t,"matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label",n,"matSuffix","","mat-icon-button","",1,"open-category-picker",3,"click"],r,["type","hidden","formControlName","categoryCode"],["type","reset","aria-label",t,"matSuffix","","mat-icon-button","",3,"click"]]},template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"mat-form-field",1),e.NdJ("click",function(){return n.onTouched()}),e.TgZ(2,"mat-label"),e.SDv(3,2),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"mat-icon",4),e._uU(6,"search"),e.qZA(),e.YNc(7,zt,3,0,"button",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.onClickOpenCategoryPicker()}),e.TgZ(9,"mat-icon"),e._uU(10,"menu"),e.qZA()(),e.TgZ(11,"mat-hint"),e.SDv(12,7),e.qZA()(),e._UZ(13,"input",8),e.qZA()),2&t&&(e.Q6J("formGroup",n.formGroup),e.xp6(7),e.Q6J("ngIf",n.nameLike.value||n.categoryCode.value))},directives:[s._Y,s.JL,s.sg,A.KE,A.hX,z.Nt,s.Fj,s.JJ,s.u,C.Hw,A.qo,l.O5,O.lW,A.R9,A.bx],styles:["form[_ngcontent-%COMP%]{display:flex;align-items:stretch}.searchFilter[_ngcontent-%COMP%]{margin:.5rem}.mat-form-field-flex[_ngcontent-%COMP%]{padding:1.25rem .75rem 0}.open-category-picker[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}"]}),o})();var Jt=_(3469),Yt=_(5693),W=_(2181);const Vt=function(){return["/management"]};function Kt(o,i){1&o&&(e.TgZ(0,"button",8)(1,"mat-icon"),e._uU(2,"tune"),e.qZA(),e.TgZ(3,"span"),e.SDv(4,9),e.qZA()()),2&o&&e.Q6J("routerLink",e.DdM(1,Vt))}let Wt=(()=>{class o{constructor(t,n,r,a){this.appService=t,this.snackBarService=n,this.dialogService=r,this.sharedDialogService=a}ngOnInit(){this.userName$=this.appService.userName$.pipe(),this.canNavigateManagement$=this.appService.isLoggedInChanges$.pipe((0,x.O)(this.appService.isLoggedIn()),(0,h.w)(t=>t?this.appService.getAuthorizedAccess().pipe((0,T.U)(n=>{var r;return(null===(r=null==n?void 0:n.routes)||void 0===r?void 0:r.length)>0})):(0,w.of)(!1)))}onClickEditProfile(){this.dialogService.open(Jt.g,{width:"60rem"})}onClickLogout(){this.appService.isLoggedIn()&&this.sharedDialogService.requestConfirmation({title:$localize`:Title of dialog prompt for logging out:Log out?`,message:$localize`:Label to hint user that any undergoing process may be lost when logging out:Any unsaved data may be lost`}).pipe((0,J.h)(t=>t),(0,p.b)(()=>{this.appService.closeCurrentSession();const t=$localize`:Message after logging out:You have logged out`;this.snackBarService.open(t,M.ec)})).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.z),e.Y36(G.ux),e.Y36(S.uw),e.Y36(Yt.C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-header-menu"]],decls:20,vars:7,consts:function(){let i,t,n,r;return i=$localize`:edit profile|Label for action button to prompt profile edit:Edit profile`,t=$localize`:log out|Label for action button to log out:Log out`,n=$localize`:open user menu|Label for action button to open user menu:Open user menu`,r=$localize`:Label for link button to navigate to management dashboard:Management`,[["headerMenu",""],["mat-menu-item","","disabled",""],["mat-menu-item","","type","button","class","navigate-management",3,"routerLink",4,"ngIf"],["mat-menu-item","","type","button",1,"edit-profile",3,"click"],i,["mat-menu-item","","type","button",1,"logout",3,"click"],t,["mat-button","","type","button","aria-label",n,1,"open-menu",3,"matMenuTriggerFor"],["mat-menu-item","","type","button",1,"navigate-management",3,"routerLink"],r]},template:function(t,n){if(1&t&&(e.TgZ(0,"mat-menu",null,0)(2,"span",1),e._uU(3),e.ALo(4,"async"),e.qZA(),e.YNc(5,Kt,5,2,"button",2),e.ALo(6,"async"),e.TgZ(7,"button",3),e.NdJ("click",function(){return n.onClickEditProfile()}),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"span"),e.SDv(11,4),e.qZA()(),e.TgZ(12,"button",5),e.NdJ("click",function(){return n.onClickLogout()}),e.TgZ(13,"mat-icon"),e._uU(14,"exit_to_app"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,6),e.qZA()()(),e.TgZ(17,"button",7)(18,"mat-icon"),e._uU(19,"person"),e.qZA()()),2&t){const r=e.MAs(1);e.xp6(3),e.Oqu(e.lcZ(4,3,n.userName$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,n.canNavigateManagement$)),e.xp6(12),e.Q6J("matMenuTriggerFor",r)}},directives:[W.VK,W.OP,l.O5,m.rH,C.Hw,O.lW,W.p6],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:flex}.open-menu[_ngcontent-%COMP%]{justify-content:center;align-items:center;padding:0}.open-menu.active[_ngcontent-%COMP%]{border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}@media (max-width: 640px){.open-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;font-size:1rem}}@media (min-width: 641px){.open-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;font-size:2.5rem}}"]}),o})(),jt=(()=>{class o{constructor(t){this.dialogService=t}onClickLogIn(){this.dialogService.open(oe,{width:"24rem"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-header-login-button"]],decls:3,vars:0,consts:function(){let i;return i=$localize`:log in|Label for action button to prompt a login:Log in`,[["mat-button","","type","button","aria-label",i,3,"click"]]},template:function(t,n){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return n.onClickLogIn()}),e.TgZ(1,"mat-icon"),e._uU(2,"person_outline"),e.qZA()())},directives:[O.lW,C.Hw],styles:["[_nghost-%COMP%]{display:flex}button[_ngcontent-%COMP%]{padding:0}button.active[_ngcontent-%COMP%]{border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}@media (max-width: 640px){button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem}}@media (min-width: 641px){button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;font-size:2.5rem}}"]}),o})();function eo(o,i){1&o&&(e.ynx(0),e._UZ(1,"app-store-header-menu"),e.BQk())}function to(o,i){1&o&&e._UZ(0,"app-store-header-login-button")}let oo=(()=>{class o{constructor(t){this.appService=t,this.middleLabel=$localize`:Title of application:Online store`}ngOnInit(){this.isLoggedIn$=this.appService.isLoggedInChanges$.pipe((0,x.O)(this.appService.isLoggedIn()))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-header"]],decls:7,vars:4,consts:[[4,"ngIf","ngIfElse"],["notLoggedIn",""]],template:function(t,n){if(1&t&&(e._UZ(0,"app-store-header-brand")(1,"app-store-header-navigation")(2,"app-store-header-search-form"),e.YNc(3,eo,2,0,"ng-container",0),e.ALo(4,"async"),e.YNc(5,to,1,0,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,n.isLoggedIn$))("ngIfElse",r)}},directives:[Ft,Ht,Qt,l.O5,Wt,jt],pipes:[l.Ov],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:stretch}app-store-header-brand[_ngcontent-%COMP%]{flex:0 0 auto}app-store-header-navigation[_ngcontent-%COMP%]{flex:0 0 auto}app-store-header-search-form[_ngcontent-%COMP%]{margin:0 .5rem;align-self:center}app-store-header-menu[_ngcontent-%COMP%], app-store-header-login-button[_ngcontent-%COMP%]{margin-left:auto;flex:0 0 auto}@media (max-width: 640px){[_nghost-%COMP%]{flex-flow:row wrap}app-store-header-search-form[_ngcontent-%COMP%]{flex:1 1 100%;order:5;height:120px}}@media (min-width: 641px){app-store-header-search-form[_ngcontent-%COMP%]{flex:1 0 auto;margin:.5rem 1rem}}"]}),o})();function no(o,i){if(1&o&&(e.TgZ(0,"div",10)(1,"strong"),e.SDv(2,11),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"a",12),e._UZ(5,"img",13),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.MGl("href","https://wa.me/",t.whatsappUrlSafeNumber,"",e.LSH),e.xp6(3),e.Oqu(t.whatsappNumber)}}function io(o,i){if(1&o&&(e.TgZ(0,"div",14)(1,"strong"),e.SDv(2,15),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"a",12),e._UZ(5,"img",16),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.MGl("href","tel://",t.contactInfo.urlSafePhone,"",e.LSH),e.xp6(3),e.Oqu(t.contactInfo.phone)}}function ro(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"strong"),e.SDv(2,18),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"a",12),e._UZ(5,"img",19),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.MGl("href","mailto:",t.contactInfo.email,"",e.LSH),e.xp6(3),e.Oqu(t.contactInfo.email)}}function ao(o,i){if(1&o&&(e.TgZ(0,"li")(1,"a",12),e._UZ(2,"img",20),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.MGl("href","https://www.instagram.com/",t.contactInfo.instagram,"",e.LSH)}}function so(o,i){if(1&o&&(e.TgZ(0,"li")(1,"a",12),e._UZ(2,"img",21),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.MGl("href","https://www.facebook.com/",t.contactInfo.facebook,"",e.LSH)}}function _o(o,i){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}let co=(()=>{class o{constructor(){this.footerParagraphs=f.N.labels.footerParagraphs,this.whatsappUrlSafeNumber=`${f.N.whatsapp.areaCode}${f.N.whatsapp.urlSafePhone}`,this.whatsappNumber=`${f.N.whatsapp.areaCode} ${f.N.whatsapp.phone}`,this.contactInfo=f.N.contactInfo}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store-footer"]],decls:15,vars:6,consts:function(){let i,t,n,r,a,c,u,d,R;return i=$localize`:Label that invites users to check social media profiles:Follow us on social media`,t=$localize`:Label for section referring to a contact WhatsApp number:WhatsApp`,n=$localize`:Label for WhatsApp icon:WhatsApp`,r=$localize`:Label for section referring to a contact phone number:Phone`,a=$localize`:Label for phone number icon:Contact phone number`,c=$localize`:Label for section referring to a contact e-mail address:E-Mail`,u=$localize`:Label for envelope (email) icon:Contact e-mail`,d=$localize`:Label for Instagram icon:Instagram`,R=$localize`:Label for Facebook icon:Facebook`,[[1,"upper"],["class","whatsapp sales contact",4,"ngIf"],["class","phone general contact",4,"ngIf"],["class","email general contact",4,"ngIf"],[1,"middle"],[1,"social"],i,[4,"ngIf"],[1,"lower"],[4,"ngFor","ngForOf"],[1,"whatsapp","sales","contact"],t,[3,"href"],["src","https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/whatsapp.svg","alt",n,"aria-hidden","true",1,"whatsapp","icon"],[1,"phone","general","contact"],r,["src","https://unpkg.com/@fortawesome/fontawesome-free/svgs/solid/phone.svg","alt",a,"aria-hidden","true",1,"phone","icon"],[1,"email","general","contact"],c,["src","https://unpkg.com/@fortawesome/fontawesome-free/svgs/solid/envelope.svg","alt",u,"aria-hidden","true",1,"envelope","icon"],["src","https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/instagram.svg","alt",d,"aria-hidden","false",1,"instagram","icon"],["src","https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/facebook.svg","alt",R,"aria-hidden","false",1,"facebook","icon"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,no,8,2,"div",1),e.YNc(2,io,8,2,"div",2),e.YNc(3,ro,8,2,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"strong"),e.SDv(7,6),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"ul"),e.YNc(10,ao,3,1,"li",7),e.YNc(11,so,3,1,"li",7),e.qZA()()(),e._UZ(12,"mat-divider"),e.TgZ(13,"div",8),e.YNc(14,_o,2,1,"p",9),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.whatsappNumber),e.xp6(1),e.Q6J("ngIf",n.contactInfo.phone&&n.contactInfo.urlSafePhone),e.xp6(1),e.Q6J("ngIf",n.contactInfo.email),e.xp6(7),e.Q6J("ngIf",n.contactInfo.instagram),e.xp6(1),e.Q6J("ngIf",n.contactInfo.facebook),e.xp6(3),e.Q6J("ngForOf",n.footerParagraphs))},directives:[l.O5,k.d,l.sg],styles:["[_nghost-%COMP%]{padding:2rem 0;display:block;text-align:center}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:1.5rem;margin:.5rem;display:inline-flex;align-items:center}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{margin-right:.5rem}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:space-around;align-items:center;margin:.5rem 6rem;padding:0}.icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;font-size:1.5rem;margin-right:.5rem}.social[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem;font-size:2.25rem;margin:0}mat-divider[_ngcontent-%COMP%]{margin:1rem}.upper[_ngcontent-%COMP%], .middle[_ngcontent-%COMP%]{padding:1rem}.upper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:1rem 2rem}.middle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:1rem}.lower[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0 2rem}@media (min-width: 641px){[_nghost-%COMP%]{padding:4rem 0}.social[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{grid-auto-flow:column;justify-content:center;gap:1rem}mat-divider[_ngcontent-%COMP%]{margin:2rem 0}.upper[_ngcontent-%COMP%]{padding:1rem 10%;display:flex;flex-flow:row nowrap;justify-content:space-evenly}.lower[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}}@media (min-width: 1008px){.upper[_ngcontent-%COMP%]{padding:1rem 20%}}"]}),o})();function lo(o,i){if(1&o&&e._UZ(0,"app-whatsapp-button",2),2&o){const t=e.oxw();e.Q6J("areaCode",t.whatsapp.areaCode)("phone",t.whatsapp.urlSafePhone)}}let uo=(()=>{class o{constructor(t,n,r){this.cartService=t,this.router=n,this.route=r,this.whatsapp=f.N.whatsapp,this.cartIsEmpty=!0,this.cartIsEmptySubscription=this.cartService.cartDetails$.pipe((0,T.U)(a=>0===a.length),(0,J.h)(a=>void 0===this.cartIsEmpty||a!==this.cartIsEmpty),(0,p.b)(a=>{this.cartIsEmpty=a}),(0,p.b)(a=>{var c,u;a&&"cart"===(null===(u=null===(c=this.route)||void 0===c?void 0:c.firstChild)||void 0===u?void 0:u.routeConfig.path)&&this.router.navigateByUrl("/")})).subscribe()}ngOnDestroy(){var t;null===(t=this.cartIsEmptySubscription)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E),e.Y36(m.F0),e.Y36(m.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-store"]],decls:5,vars:1,consts:[["size","2.5rem","padding","0.75rem",3,"areaCode","phone",4,"ngIf"],[1,"content"],["size","2.5rem","padding","0.75rem",3,"areaCode","phone"]],template:function(t,n){1&t&&(e.YNc(0,lo,1,2,"app-whatsapp-button",0),e._UZ(1,"app-store-header"),e.TgZ(2,"div",1),e._UZ(3,"router-outlet")(4,"app-store-footer"),e.qZA()),2&t&&e.Q6J("ngIf",n.whatsapp.enabled)},directives:[l.O5,Dt.U,oo,m.lC,co],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-flow:column nowrap}app-whatsapp-button[_ngcontent-%COMP%]{position:fixed;z-index:4;right:1rem;bottom:1rem}app-store-header[_ngcontent-%COMP%]{flex:0 0 auto}.content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto}app-store-footer[_ngcontent-%COMP%]{flex:0 0 auto}@media (min-width: 641px){app-whatsapp-button[_ngcontent-%COMP%]{right:2rem}}"]}),o})();const po=[{path:"catalog",component:ct},{path:"cart",component:tt,canActivate:[ne]},{path:"search",component:$t},{path:"receipt",component:Nt}];let go=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild([{path:"",component:uo,children:[...po,{path:"**",pathMatch:"prefix",redirectTo:"catalog"}]}])],m.Bz]}),o})();const mo={duration:5e3};let To=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:G.Ve,useValue:mo},re,se,U,K,ne],imports:[[pe.m,go]]}),o})()}}]);