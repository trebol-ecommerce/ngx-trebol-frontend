<!--
  Copyright (c) 2021 The Trébol eCommerce Project

  This software is released under the MIT License.
  https://opensource.org/licenses/MIT
-->

<form [formGroup]="formGroup" (submit)="onSubmit()"
  class="upload-image" >
  <h2 mat-dialog-title>Subir Imágenes</h2>
  <mat-form-field appearance="fill">
    <app-file-upload formControlName="files"
      [disabled]="uploading$ | async"
      autofocus>
    </app-file-upload>
  </mat-form-field>
  <mat-progress-bar #uploadProgressBar
    [hidden]="!(uploading$ | async)"
    mode="determinate"
    [value]="uploadPercentage$ | async">
  </mat-progress-bar>
  <div class="actions">
    <button mat-button mat-raised-button
      [disabled]="formGroup.invalid || (uploading$ | async)"
      type="submit">
      Aceptar
    </button>
    <button mat-button mat-raised-button
      type="button" color="warn"
      mat-dialog-close>
      Cancelar
    </button>
  </div>
</form>
